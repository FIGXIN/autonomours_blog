- [高精地图入门总结 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/165955239)

## 1 什么是高精地图

高精地图又被称高清地图HD map=High definition map，目前讲的高精地图通常指用于自动驾驶辅助的地图，通常需要与导航地图做比较：

- 使用对像：导航地图给人看，高精地图给机器看
- 精度：导航地图精度存在米级以上（5-10米）的误差，高精地图精度在厘米级
- 地图元素：高精地图道路元素及交通相关动态元素更丰富，比如详细的车道线、路标、交通提示牌、交通灯、车道曲率、坡度及车道级实时交通动态信息，主要服务于机器自动驾驶环境判断、决策、控制等，而导航道路元素只到道路级，除导航路线准确、合理性，人们更注重视效及语音引导体验
- 导航地图与高精地图的关系：从技术演进角度，汽车上的导航地图与高精地图会在较长的时间内共存，并可能最终使用一个高精底图同时满足人和车的应用需求

![img](https://pic4.zhimg.com/80/v2-54ab1682ba74fc8c477d17c5dfbbf193_720w.jpg)

图片来自网络（高德自动驾驶地图介绍)

## 2 高精地图价值

高精地图可以为自动驾驶应用提供全方位的辅助。

![img](https://pic2.zhimg.com/80/v2-98e1fd15f0f797c00f010b0fafc16b05_720w.jpg)

图片来自网络（百度阿波罗)

- 定位：结合高精地图道路特征、点云地图，车辆可实现视觉定位和点云定位；
- 感知：通过提供道路信息等先验知识辅助车辆传感器缩小识别范围、提升识别效率、降低错误率，同时弥补一定环境下其它传感器感知缺陷（如雨、雪、黑暗情况下的其它传感器失效），和V2X结合进一步突破传感器感知局限；
- 规划、预测：高精地图可结合导航规划、实时路况、自动驾驶功能等级、适合自动驾驶路线，帮助车辆进行车道级路径规划，并根据先验知识及实时路况预测前方道路情况及障碍物等辅助局部路径规划；
- 安全：基于地图已知道路信息，如已知障碍物、道路标识等特征信息与传感器实时检测匹配互检，提升冗余、降低误判，同时辅助检测传感器故障、失效、被欺骗行为

## 3 高精地图组成

目前大家对高精地图的定义、内容及分层还没有统一意见

一种高精地图一般分类为：矢量地图、特征地图和点云地图；

- 矢量地图：车道模型、道路部件（Object）、道路属性；
- 特征地图：可支持车辆视觉定位提取的特征矢量图层；
- 点云地图：雷达扫描点云图层；
- （待完善）

## 4 和导航地图配合使用方法

- 导航地图根据人的指令（如目标POI点）规划出全局行驶路线（道路级）；
- 然后将规划的“行驶路线”给到高精地图；
- 高精地图基于“行驶路线”计算出“车道级路径规划”；
- 再将“车道级路径规划”给到自动驾驶控制器辅助决策局部路径规划；

![img](https://pic4.zhimg.com/80/v2-e467c172bbacdf8234b945843ef0ef07_720w.jpg)

图片来自网络（高德自动驾驶地图介绍）

## 5 地图数据格式和标准

主流的通用格式规范分NDS和OpenDRIVE

- NDS（Navigation Data Standard Association）

面向汽车生态系统的地图数据全球标准, 由宝马、大众、戴姆勒等知名国际汽车厂商、系统商以及数据商为主导成立，旨在通过多方的共同努力，制定出新的适合汽车制造商、系统供应商以及地图供应商未来发展的标准导航电子地图数据格式。

其突出特点是：在兼顾性能和功能的基础上，采用了细分数据库技术存储地图数据，能够比较好地解决地图增量更新、扩展和数据安全的问题。这种规格的价值在于全球规格、地图切换、增量更新、云混合、高精度地图标准等。

在自动驾驶领域，NDS格式可以算是高精度地图行业的默认专业标准。

NDS基本应用流程原理：

![img](https://pic1.zhimg.com/80/v2-26aff2ed2a67a0b832bda2c96a44b2ec_720w.jpg)

（ADASIS 系统架构 图片来源： ADASIS 官方资料）

即：地图数据传递到ADAS系统应用需要一个分解、传输再重构的过程；

AHP（EHP）提取地图及位置信息生成ADAS Horizon数据，通过总线传输到ADAS控制器，ADAS控制器中有一个重构单元AHR（EHR），AHR将收到的数据进行重构变成ADAS系统可以看懂的数据。目前ADASIS已发布V3版本支持包含车道在内的高精地图数据，支持车载以太总线传输。

名词解释：

EHP/AHP：Electronic HorizonProvider / ADAS Horizon Provider

即电子地平线，为ADAS 应用提供超视距的前方道路和数据信息。

EHR/AHR：Electronic Horizon Reconstructor / ADAS Horizon Reconstructor

用于解析EHP 发出的消息并重建地图数据，供终端 ADAS 应用模块使用。

- OpenDRIVE

Opendrive是德国制定的国际通用的标准，国内百度阿波罗采用的就是这种地图数据规范。

Apollo Opendrive规范是在标准Opendrive规范基础上结合阿波罗在自动驾驶方面的技术积累和实践经验改造而成的，相对于标准Opendrive规范，在数据表达上更加简单易行，对自动驾驶开发者也更加友好。

标准团体

![img](https://pic4.zhimg.com/80/v2-72953979088a2310e0a6fd2d464c0c97_720w.jpg)

## 6 地图坐标系

地图主要用的坐标系有两个：WGS-84和GCJ-02

- WGS-84坐标系：地心坐标系，GPS原始坐标体系

境外地图一般都采用WGS-84坐标系，国内不允许直接使用

- GCJ-02 坐标系：国测局坐标，火星坐标系

1）国测局02年发布的坐标体系，它是一种对经纬度数据的加密算法，即加入了随机偏转。

2）在国内使用的地图都必须使用GCJ-02进行加密，不允许直接使用WGS-84坐标下的地理数据，同时不允许反向偏转。

3）GCJ-02是国内图商最广泛使用的坐标体系，如高德、腾讯、Google中国地图，但是部分图商基于GCJ-02地图增加了再次偏转，如百度地图使用的BD-09坐标系

注：定位数据到地图应用过程要经过偏转插件，偏转过程会增加随机抖动增加定位偏差影响最终定位效果（目前已知的高精偏转差件据称随机偏差在20cm）。