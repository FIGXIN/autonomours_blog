- [UWB简介及其定位方法_牛奶yu茶的博客-CSDN博客_uwb定位](https://blog.csdn.net/guyuewangyue/article/details/118293249)

# 前言

这里写了有关UWB的简介及其定位的方案，定位方法介绍了TOA、AOA/DOA、TDOA、RSSI这几种定位方法，了解得不是很深入，各位大佬简单看看吧，有错误的话，劳烦指出。

# 1 概述

随着现在无线技术的发展，无线室内定位技术也得到了飞速的发展，现在常用的室内无线定位技术就有很多种，包括了基于WiFi的定位、蓝牙定位、小基站定位、LED可见光定位、超宽带定位、RFID、惯性导航、地磁定位、伪卫星等多种室内定位技术。[1]其中的超宽带定位技术是一种特别适合于应用在室内的定位技术，超宽带定位技术具有定位精度高(1~15cm)、抗干扰能力强、分辨率高、低功耗等优点。
表 1 各种无线定位技术的对比
![在这里插入图片描述](https://img-blog.csdnimg.cn/be961c2049ab46a1a82337e4ae748aee.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA54mb5aW2eXXojLY=,size_20,color_FFFFFF,t_70,g_se,x_16)

超宽带(UWB)技术在军用和民用场景都有很多应用，并且具有光明的前景。UWB技术的应用场景大致可以分为三个方面，分别是通信、雷达和定位，UWB技术科应用于智能家庭、无线网络、战术组网电台、探地雷达、车辆避撞雷达以及军用民用需要精确定位的系统中。目前，市场是已经出现了基于UWB达到室内定位装置。例如：英国的Ubisense公司推出了将TDOA和AOA相结合的室内定位系统，测距范围达到 50-100m，精度可达 15cm。美国的Zebra公司推出了Dart UWB系统，该系统建立在 Sapphire DART 核心功能之上，能够快速、准确的进行定位，精度达到 30cm，测距范围达到 100m[2]。
根据是否需要测量距离，无线定位方法分成测距定位和非测距定位两类。从测距方法来看，以RSSI为主，也有使用TOA、TDOA、AOA/DOA以及多种测距手段联合的系统。

# 2 UWB技术

## 2.1 UWB国内研究现状

我国对于UWB技术的研究相对较。2001年，第一次将超宽带技作为无线通信的共性技术与创新技术的研究内容列入国家终点研究课题，才开始对UWB技术进行研究。在国家科研项目的支持和鼓励下，我国的不少高校在UWB技术上取得了积极的进展，对UWB天线的设计、UWB信号的发送、UWB定位算法以及多种定位方式融合进行了研究。我国的不少公司也针对UWB的应用进行的研究，很多公司开发了基于UWB技术的定位系统。国内大量公司研究基于UWB的室内定位技术，拥有自己的定位解决方案和软硬件产品，但是没有统一的标准，该行业目前还不成熟，市场的需求不是很多。[3]

## 2.2 UWB国外研究现状

UWB技术最初的开发和应用在军事方面，主要进行雷达探测和定位。[3]UWB技术一开始并没有应用在民用方面，后来在2002年2月美国联邦通信委员会(FCC)确认了UWB技术的频谱范围，才批准UWB技术应用于民用方面，这使得 UWB 技术有了很大发展空间。[2]在国外首先是有很多著名的高校、公司和研究机构对UWB技术开展研究，到2006年已经有很多家公司可以提供UWB芯片了，由于UWB芯片有高速和低功耗的特点，所以UWB芯片特别受欢迎，也得到了飞速的发展。到2011年，UWB高速芯片销售量已经达到3亿枚，并呈现出每年400%的增长趋势。随着UWB技术的发展，基于UWB技术的系统的定位精度已经可以达到厘米级。

## 2.3 UWB技术简介

UWB技术的全称是Ultra Wide Band，即超宽带技术。FCC对超宽带信号的定义：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210628143813746.png)

即相对带宽大于20%或者绝对带宽大于500MHz。fh、fl指信号功率谱密度的峰值衰减10dB时所对应的高端频率和低端频率。根据香农公式
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210628144012347.png)

可知，UWB技术是通过增大传输带宽来增大信道容量的，因此具有非常高的传输速率。实现UWB无线电通信的方法可以分为两种，分别是脉冲无线电和多频带OFDM。

# 3 定位方案

无线定位的方法大致可以分为基于距离测量的定位方法和基于非测距的定位算法。基于距离测量的算法有三边定位法、三角定位法、最大似然估计法等等；基于非测距的定位算法有质心定位法、APIT定位法、MSP定位法等等。本篇文章讲述的定位方法以测距定位方法为主。

## 3.1 基于TOA的距离测量及其定位模型

TOA(Time of Arrival)测距的基本原理是得到UWB脉冲信号到达各个基站的时间，利用了UWB脉冲信号到各个基站间距离R与信号传播时间t成正比例关系，于是有：
![(2)](https://img-blog.csdnimg.cn/2021062814403617.png)

其中c为光速，即c=3×108m/s。
TOA定位俗称圆周定位，即根据测量的距离为半径进行画圆，通过圆的交点确定标签的位置，所以至少需要有三个基站。以测得到三个基站的距离为半径进行画圆，绘出的三个圆将会有一个共同的交点，三个圆共同的交点即为标签所在位置，即可实现定位，如图1所示。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210628144105338.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2d1eXVld2FuZ3l1ZQ==,size_16,color_FFFFFF,t_70)

图 1 TOA 定位集合分析
根据几何原理，可以得到如下方程式：
![(3)](https://img-blog.csdnimg.cn/20210628144123391.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2d1eXVld2FuZ3l1ZQ==,size_16,color_FFFFFF,t_70)

其中(x1,y1)、(x2,y2)、(x3,y3)是已知的UWB基站的坐标，R1、R2、R3为测得的与三个基站间的距离。均为已知量。根据上述式子再经变换，就可以求出标签(x0,y0)的位置，就可以实现标签的定位。
TOA测距要求知晓测距信号的传输开始时刻和奇数时刻，要求基站节点和信标节点的时钟保持高度同步，微小的时间误差就将导致较大的测距误差，所以其适用性大大降低。

## 3.2 基于AOA/DOA距离测量及其定位模型

基于AOA(Angle of Arrival)的距离测量方法是通过测量信号到达的角度求解目标的位置。基于DOA(Direction of Arrival)的距离测量方法是指空间信号到达的方向。因此AOA和DOA本质上是一个概念。下文中直接称DOA。
DOA定位是利用接收信号的天线具有方向性，基于信号的入射角度进行定位的[1]。因为是测量标签与基站之间的角度得到的定位信息，所以至少需要两个已知的UWB基站。根据标签与基站之间的角度，绘制两条直线，两条直线的交点即为标签的位置。如图2所示。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210628144149316.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2d1eXVld2FuZ3l1ZQ==,size_16,color_FFFFFF,t_70)

图 2 DOA 定位示意图
其中(x1,y1)、(x2,y2)为已知基站的坐标，θ1、θ2为测量得到的标签与基站之间的角度。根据公式：
![(4)](https://img-blog.csdnimg.cn/20210628144204964.png)

可以计算得出(x0,y0)的坐标，即可获得标签的位置信息，完成标签的定位。
这种方法是通过计算两条线之间的交点来进行定位的，两条线的交点只有一个，为了测量UWB脉冲信号的入射角度，基站必须装备方向敏感的天线阵列。由于使用此方法测得的角度若有一点误差，将会引起定位的较大误差，并且不适合于非视距条件下的传输，所以该方法不常使用在室内定位中。

## 3.3 基于TDOA距离测量及其定位模型

TDOA(Time Difference of Arrival)是一种利用时间差进行定位的方法，TDOA定位算法是利用不同基站节点接收到的同一标签节点的定位信号的时间差来计算标签节点到不同参考节点的距离差, 由此可以得出参考节点间的双曲线，双曲线的交点即为标签节点的位置[4]。TDOA定位示意图如图3所示。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210628144228962.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2d1eXVld2FuZ3l1ZQ==,size_16,color_FFFFFF,t_70)

图 3 TDOA 定位示意图
由于不需要检测信号传输时间，系统对时间同步的要求大大降低。
![(5)](https://img-blog.csdnimg.cn/20210628144246499.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2d1eXVld2FuZ3l1ZQ==,size_16,color_FFFFFF,t_70)

其中c为光速，t为基站节点收到定位信息的时间，消掉其中的△t，可得到下列式子：
![(6)](https://img-blog.csdnimg.cn/20210628144303914.png)

由上式可以做出双曲线，两条双曲线的交点即为得到位置坐标，所以TDOA定位又称双曲线定位。由上式计算可以得到目标节点(x0,y0)的位置信息。

## 3.4 基于RSSI的距离测量及定位模型

基于RSSI(Received Signal Strength Indication)的距离测量的关键在于建立将RSSI值精确转换成距离的关系模型，目前使用最广泛的是对数距离损耗模型：
![(7)](https://img-blog.csdnimg.cn/20210628144318337.png)

Pij是节点i,j之间以dB为单位的功率路径损耗；P0是参考距离d0(一般d0=1m)处测量得到的功率；η是路径损耗因子；χ为阴影效应导致的零均值高斯随机变量，具体计算的时候通常忽略不计。
由式(7)可以转换得到节点i,j之间的距离dij为：
(8)

影响RSSI测距的重要原因是射频的不规则性其中包括设备和传输介质两种因素。因此信标节点在测距的时候向基站节点发射测距信号，基站节点所接收到的信号功率将会考虑到以上因素。并且需要考虑到基站节点辐射信号的时候，电磁波能量的损耗，得到最后的距离测量模型。
得到RSSI的距离测量模型之后，可以使用与TOA定位方法进行定位，两者定位方法不同之处在于测量距离的方式的不同。

# 4 无线定位的优化

由于无线环境中情况复杂，并且以上提到的算法只是设计定位算法的起步，仅仅使用以上算法无法获得很满意的定位精度，所以需要针对以上的定位方法进行优化。可以针对无线环境进行算法的优化，也可以针对算法，进行算法的进一步优化。
常用到的方法是将两种定位方法融合，进行融合测距，这样的定位精度也会提高。当然还有近场电磁测距优化、LMAP定位算法、机会定位和基于压缩感知的定位[5]等等方法来提高无线定位的精度。

# 5 结语

无线传感器网络是一种新兴的可实现大范围检测追踪的信息获取载体，可能成为普适计算时代的支撑技术。UWB也属于无线传感器中的一种，其也能构成无线传感器网络，并且适用于室内定位中。当前UWB应用于室内定位已经能够实现厘米级的定位精度，并且UWB技术也正在发展的阶段，具有广阔的发展空间，有望能够将UWB的室内定位精度进一步提高，应用到更广泛的领域。当前无线已经成为主流，虽然无线环境非常复杂，但是其面纱也在一层一层被揭开，我们对于无线环境的研究也有助于无线传感器网络的发展。所以在UWB的技术方面值得做进一步的研究。

## 参考文献

[1]赵红梅. 超宽带室内定位系统[M].电子工业出版社,2017.
[2]张忠娟. 基于UWB的室内定位技术研究[D].天津大学,2012.
[3]张强伟. 基于UWB的精确定位算法及其数据分析[D].重庆邮电大学,2019.
[4] https://www.sohu.com/a/367309016_385809?spm=smpc.author.fd-d.23. 16247828815912ft8FVA
[5]胡青松,李世银. 无线定位技术[M]. 科学出版社,2020.6
[6]顾慧东. 基于UWB的室内测距与定位系统[D].南京邮电大学,2020.
[7]朱建新,高蕾娜,张新访.RSS测距定位模型的Cramer-Rao界分析[J].计算机工程与应用,2008,44(35):100-102
[8]王远来,吕嘉妮,李佳豪,杨会.基于UWB的高精度室内定位系统[J].长江信息通信,2021,34(03):111-114+117.
[9]孙建强,尚俊娜,刘新华,施浒立,张东丽.气压计辅助的UWB室内定位方法[J].传感器与微系统,2021,40(06):30-33.
[10]沙漠雨. 基于CSS的室内无线定位系统设计与实现[D].哈尔滨工程大学,2016.