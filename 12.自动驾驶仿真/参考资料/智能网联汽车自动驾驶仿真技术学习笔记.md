- [智能网联汽车自动驾驶仿真技术学习笔记（一）_Szu_Loosen的博客-CSDN博客](https://blog.csdn.net/qq_27717389/article/details/116664948)

## 一、自动驾驶汽车分级

以下是由美国汽车工程师学会给出的智能网联汽车自动驾驶分级表：

| 分级 | L0                                             | L1                                                           | L2                                                           | L4                                                           | L5                                                           |
| ---- | ---------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 称谓 | 无自动化                                       | 驾驶支持                                                     | 部分自动化                                                   | 有条件自动化                                                 | 高度自动化                                                   |
| 定义 | 由驾驶员全权驾驶汽车，在行驶过程中可以得到警告 | 通过驾驶环境和对转向盘和加减速中的一项操作提供支持，其余由驾驶员操作 | 通过驾驶环境对转向盘和加减速中的多项操作提供支持，其余由驾驶员操作 | 由无人驾驶系统完成所有的驾驶操作，根据系统要求，驾驶员提供适当的应答 | 由无人驾驶系统完成所有的驾驶操作，根据系统要求，驾驶员不一定提供所有的应答；限定道路和环境条件 |

## 二、先进驾驶辅助系统

> 先进驾驶辅助系统（Advanced Driver AssistanceSystems，ADAS）是利用安装在车辆上的传感、通信、决策及执行等装置，实时监测驾驶员、车辆及其行驶环境，并通过信息和运动控制等方式辅助驾驶员执行驾驶任务或主动避免/减轻碰撞危害的各类系统的总称。

先进驾驶辅助系统主要分为两类：信息辅助类和控制辅助类

1. 信息辅助类的先进驾驶辅助系统

   （1）前向碰撞预警系统
   （2）后向碰撞预警系统
   （3）车道偏离预警系统
   （4）变道碰撞预警系统
   （5）盲区监测系统
   （6）驾驶员疲劳监测系统
   （7）交通标志识别系统
   （8）抬头显示系统（挡风玻璃具备显示屏功能）
   （9）夜视系统
   （10）全景影像监测系统

2. 控制辅助类的先进驾驶辅助系统

   （1）自动紧急制动系统
   （2）车道保持辅助系统
   （3）自适应巡航控制系统
   （4）交通拥堵辅助系统
   （5）自动泊车辅助系统
   （6）自适应前照灯系统

## 三、环境感知传感器

**一. 超声波雷达**

1.超声波雷达的定义

> 定义：超声波雷达也称超声波传感器，它是利用超声波的特性研制而成的传感器，是在超声频率范围内（20kHz~1GHz）将交变的电信号转换成声信号或者将外界声场中的声信号转换为电信号的能量转换器件。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210511203134813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3NzE3Mzg5,size_16,color_FFFFFF,t_70)

2.超声波雷达的类型

智能网联汽车上常见的超声波雷达分为两种：

| 驻车辅助传感器（UPA）                              | 泊车辅助传感器（APA）                |
| -------------------------------------------------- | ------------------------------------ |
| 安装在汽车前、后保险杠上，用于探测汽车前、后障碍物 | 安装在汽车的侧面，用于测量停车位长度 |

3.超声波雷达的主要指标

1. 测量范围（波长越长，频率越小，测量范围越大）
2. 测量精度
3. 波束角（波束角是指以传感器中轴线的延长线为轴线，由此向外，至能量强度减少一半(-3dB)处，这个角度被称为波束角）
4. 工作频率（频率越高，精度越高，但探测角度越小，故一般采用40kHz的超声波雷达）

4.超声波雷达的应用

1. 自动泊车辅助系统
   较为常见的泊车辅助系统，通过超声波雷达感知周围环境，帮助驾驶员找到尺寸合适的空车位，并在驾驶员发送泊车指令后，将汽车泊入车位
2. 远程遥控泊车辅助系统
   由自动泊车辅助系统发展而来，通过车载蓝牙模块，驾驶员可以在车外监控泊车过程。常见于特斯拉、宝马7系、奥迪A8等高中端车型
3. 自学习泊车辅助系统
   该系统通过自学习能够完成驾驶员的泊入和泊出操作。驾驶员在准备停车前，可以在停车位不远处，开启“路线学习”功能，随后慢慢将汽车泊入固定车位，系统就会自学习该段行驶和泊车路线。典型应用场景是50m内的家、公司的固定停车位。
4. 自动代客泊车辅助系统
   汽车通过传感器自动寻找停车位，此时不需要驾驶员在车内监控，汽车寻找到停车位后会将停车信息发送给驾驶员，在驾驶员需要出行时可通过软件发送信息给汽车，汽车会自动行驶到接驳点。

**二、毫米波雷达**

1.毫米波雷达的定义

> 毫米波雷达是指利用波长为1-10mm，频率为30~300GHz的毫米波，通过测量回波的时间差算出距离。毫米波雷达是智能网联汽车的核心传感器，主要用于自适应巡航控制系统、自动紧急制动系统、盲区监测系统等。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210511203000285.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3NzE3Mzg5,size_16,color_FFFFFF,t_70)

2.毫米波雷达的类型

毫米波雷达按探测距离可分为短程（SRR）、中程（MRR）和远程（LRR）三种。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210511203039933.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3NzE3Mzg5,size_16,color_FFFFFF,t_70)
3.毫米波雷达的主要指标

1. 最大探测距离（短程为50米左右，中程为100米左右，远程为250米左右）
2. 距离分辨率（距离向分辨两个目标的能力）
3. 测距精度
4. 最大探测速度（雷达能够探测的移动物体的最大速度）
5. 速度分辨率（速度维区分两个同一位置的目标的能力）
6. 测速精度（测量单目标移动物体速度的精度）
7. 最大视场角（雷达能够探测到的最大角度，分为水平和垂直）
8. 角度分辨率（角度维分辨相同相同距离、相同目标的能力）
9. 测角精度

4.毫米波雷达的应用

| 毫米波雷达类型     | 短程雷达（SRR）   | 中程雷达（MRR） | 远程雷达（LRR） |
| ------------------ | ----------------- | --------------- | --------------- |
| 工作频段           | 24GHz             | 77GHz           | 77GHz           |
| 探测距离           | 小于60m           | 100m左右        | 大于200m        |
| 自适应巡航控制系统 |                   | ☆（前方）       | ☆（前方）       |
| 前向碰撞预警系统   |                   | ☆（前方）       | ☆（前方）       |
| 自动紧急制动系统   |                   | ☆（前方）       | ☆（前方）       |
| 盲区监测系统       | ☆（侧方）         | ☆（侧方）       |                 |
| 自动泊车辅助系统   | ☆（前方）（后方） | ☆（侧方）       |                 |
| 变道辅助系统       | ☆（后方）         | ☆（后方）       |                 |
| 后向碰撞预警系统   | ☆（后方）         | ☆（后方）       |                 |
| 行人检测系统       | ☆（前方）         | ☆（前方）       |                 |
| 驻车开门辅助系统   | ☆（侧方）         |                 |                 |

**三、激光雷达**
1.激光雷达的定义

> 激光雷达是工作在光频波段的雷达，它利用光频波段的电磁波先向目标发射探测信号，然后将其收到的同波信号与发射信号作比较，从而获得目标的位置（距离、方位和高度）、运动状态（速度、姿态）等信息，实现对目标的探测、跟踪和识别。激光雷达是L4和L5级自动驾驶的关键。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210512002026147.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3NzE3Mzg5,size_16,color_FFFFFF,t_70)

2.激光雷达的类型

激光雷达按有无机械旋转部件，可分为机械激光雷达、固态激光雷达和混合固态激光雷达。

1. 机械激光雷达
   带有控制激光发射角度的旋转部件，体积较大，价格昂贵，测量精度相对较高，一般置于汽车顶部。
2. 固态激光雷达
   依靠电子部件来控制激光发射角度，尺寸较小，可安装在车内。
3. 混合固态激光雷达
   采用固定激光光源，通过内部玻璃片旋转的方式改变激光光束方向，满足多角度测量的需要，并且采用嵌入式安装。

根据线束的多少，激光雷达又可分为单线束激光雷达与多线束激光雷达。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210512002134787.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3NzE3Mzg5,size_16,color_FFFFFF,t_70)
3.激光雷达的主要指标

1. 距离分辨率
2. 最大探测距离（标注基于某一反射率的测得值）
3. 测距精度
4. 测量帧频（与摄像头每秒帧数类似，帧频越高，刷新率越高，响应速度越快）
5. 数据采样率（每秒输出的数据点数，等于帧率乘以单幅图像的点云数目）
6. 角度分辨率
7. 视场角（激光雷达成像范围）
8. 波长（波长会影响雷达的环境适应性和对人眼的安全性）

4.激光雷达的应用

少线束激光雷达主要用于先进驾驶辅助系统，如自适应巡航控制系统、自动紧急制动系统、前方防碰撞系统、交通拥堵辅助系统。

多线束激光雷达主要用于无人驾驶，具有高精度电子地图和定位、障碍物识别、可通行空间检测、障碍物轨迹预测等功能。

**四、视觉传感器**

1.视觉传感器的定义

> 视觉传感器主要由光源、镜头、图像传感器、模数转换器、图像处理器、图像存储器等组成，其主要功能是获取足够的机器视觉系统要处理的原始图像。

> 智能网联汽车使用的视觉传感器是由摄像头采集图像后，摄像头内的感光组件电路及控制组件对图像进行处理并转化为电脑能处理的数字信号，从而实现感知车辆周围情况。

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210512005458643.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3NzE3Mzg5,size_16,color_FFFFFF,t_70)

2.视觉传感器的类型

视觉传感器一般分为单目、双目、三目摄像头和环视摄像头四种，目前应用较多的是单目摄像头。

3.视觉传感器的主要指标

1. 像素
2. 帧率
3. 靶面尺寸（视觉传感器感光部分的大小，通常是指对角线长度，用in【英寸】来表示）
4. 感光度
5. 信噪比（是指信号电压对于噪声电压的比值，信噪比越大说明对噪声的控制越好）

4.视觉传感器的应用

视觉传感器具有车道线识别、障碍物检测、交通标志和地面标志识别、交通信号灯识别、可行空间检测等功能，是智能网联汽车实现众多预警、识别类ADAS功能的基础。

| ADAS               | 摄像头位置       | 具体功能介绍                                                 |
| ------------------ | ---------------- | ------------------------------------------------------------ |
| 车道偏离预警系统   | 前视             | 当前视摄像头检测到车辆即将偏离车道线时发出警报               |
| 盲区监测系统       | 侧视             | 利用侧视摄像头将后视镜盲区的影像显示在后视镜或驾驶舱内       |
| 自动泊车辅助系统   | 后视             | 利用后视摄像头将车尾影像显示在驾驶舱内                       |
| 全景泊车系统       | 前视、侧视、后视 | 利用图像拼接技术将摄像头采集的影像组成周边全景图             |
| 驾驶员疲劳预警系统 | 内置             | 利用内置摄像头检测驾驶员是否疲劳、闭眼等                     |
| 行人碰撞预警系统   | 前视             | 当前摄像头检测到车辆前方行人可能发生碰撞时发出警报           |
| 车道保持辅助系统   | 前视             | 当前摄像头检测到车辆即将偏离车道线时通知控制中心发出指示，及时纠正行驶方向 |
| 交通标志识别系统   | 前视、侧视       | 利用前视、侧视摄像头识别前方和两侧的交通标志                 |
| 前向碰撞系统       | 前视             | 当前摄像头检测到与前车距离小于安全车距时发出警报             |

**五、传感器的比较**

| 传感器类型   | 超声波雷达   | 毫米波雷达                                 | 激光雷达                       | 视觉传感器                                                   |
| ------------ | ------------ | ------------------------------------------ | ------------------------------ | ------------------------------------------------------------ |
| 远距离探测   | 弱           | 强                                         | 强                             | 较强                                                         |
| 探测角度     | 120°         | 10~70°                                     | 15~360°                        | 30°                                                          |
| 夜间环境     | 强           | 强                                         | 强                             | 弱                                                           |
| 全天候       | 弱           | 强                                         | 强                             | 弱                                                           |
| 不良天气环境 | 一般         | 强                                         | 弱                             | 弱                                                           |
| 温度稳定性   | 弱           | 强                                         | 强                             | 强                                                           |
| 车速测量能力 | 一般         | 弱                                         | 强                             | 弱                                                           |
| 路标识别     | 不能         | 不能                                       | 不能                           | 能                                                           |
| 主要应用     | 自动泊车辅助 | 自适应巡航控制、自动紧急制动、前车防撞预警 | 实时建立车辆周边环境的三维模型 | 车道偏离预警、车道保持、盲区监测、交通标志识别、交通信号灯识别、全景泊车 |
| 成本         | 低           | 适中                                       | 高                             | 适中                                                         |

## 四、自动驾驶仿真系统的构成

**一、自动驾驶仿真定义**

> 自动驾驶仿真是指通过传感器仿真、车辆动力学仿真、交通流仿真、数字仿真、驾驶场景构建等技术模拟路测环境，并添加算法，搭建相对真实的驾驶场景，来完成智能网联汽车测试工作的一种形式。

自动驾驶仿真具有以下优点：

1. 仿真环境搭建方便
2. 测试场景重复性好
3. 无测试安全性问题
4. 测试效率高
5. 节约成本

**二、自动驾驶仿真系统构成**

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210512162204635.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3NzE3Mzg5,size_16,color_FFFFFF,t_70#pic_center)

## 五、自动驾驶功能测试

**一、智能网联汽车自动驾驶功能主要测试内容及场景**

*1.限速标志识别及响应测试场景
2.停车让行标志、标线识别及响应测试场景
3.车道线识别及响应测试场景
4.人行横道线识别及响应测试场景
5.机动车信号灯识别及响应测试场景
6.方向指示信号灯识别及响应测试场景
7.障碍物测试场景
8.误作用测试场景
9.前车静止测试场景
10.前车制动测试场景
11.行人横穿马路测试场景
12.行人沿道路行走测试场景
13.两轮车横穿马路测试场景
14.两轮车沿道路行驶测试场景
15.邻近车道无车并道测试场景
16.邻近车道有车并道测试场景
17.前方车道减少测试场景
18.超车测试场景
19.稳定跟车行驶测试场景
20.停-走功能测试场景
21.编队行驶测试场景
22.靠路边应急停车测试场景
23.最右车道内靠边停车测试场景
24.长直路段车车通信测试场景
25.长直路段车路通信测试场景
26.十字交叉路口车车通信测试场景
27.交叉路口直行通行测试场景
28.交叉路口右转通行测试场景
29.交叉路口左转通行测试场景
30.环形路口通行测试场景*