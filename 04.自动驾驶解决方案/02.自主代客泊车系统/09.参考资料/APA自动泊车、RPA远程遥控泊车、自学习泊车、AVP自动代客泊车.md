- [L2到L4的泊车辅助系统---APA自动泊车、RPA远程遥控泊车、自学习泊车、AVP自动代客泊车_打怪升级ing的博客-CSDN博客_apa自动泊车](https://blog.csdn.net/weixin_42229404/article/details/94022517)

目前市面上**已量产**的泊车辅助系统主要有三类。最早普及也是最为常见的第一代叫做APA自动泊车，随后出现的是将泊车与手机结合的第二代RPA远程遥控泊车，最后是最先进的第三代叫做自学习泊车。在未来一到两年内将会出现更为先进的泊车解决方案——VP代客泊车，也就是暂未量产的第四代泊车辅助系统。

# 1 泊车辅助一代：APA自动泊车

APA（Auto Parking Asist）自动泊车是生活中最常见的泊车辅助系统。泊车辅助系统在汽车低速巡航时，使用超声波雷达感知周围环境，帮助驾驶员找到尺寸合适的空车位，并在驾驶员发送泊车指令后，将汽车泊入车位。

APA自动泊车所以依赖的传感器并不复杂，包括8个安装于汽车前、后的UPA超声波雷达，也就是大家常说的“倒车雷达”，和4个安装于汽车两侧的APA超声波雷达，雷达的感知范围如下图所示。

![img](https://pic2.zhimg.com/80/v2-9f2a653a1fde6e282d267f1e7dbde5cd_hd.jpg)

超声波雷达感知示意图

APA超声波雷达的探测范围远而窄，常见APA最远探测距离为5米；UPA超声波雷达的探测范围近而宽，常见的UPA探测距离为3米。不同的探测范围决定了他们不同的分工。

APA超声波雷达的作用是在汽车低速巡航时，完成空库位的寻找和校验工作。如下所示，随着汽车低速行驶过空库位，安装在前侧方的APA超声波雷达的探测距离有一个先变小，再变大，再变小的过程。一旦汽车控制器探测到这个过程，可以根据车速等信息得到库位的宽度以及是否是空库位的信息。后侧方的APA在汽车低速巡航时也会探测到类似的信息，可根据这些信息对空库位进行校验，避免误检。

![img](https://pic1.zhimg.com/80/v2-81162a4d8ce74e3d490b5edafcb8a66c_hd.jpg)

APA超声波雷达检测库位原理图

使用APA超声波雷达检测到空库位后，汽车控制器会根据自车的尺寸和库位的大小，规划出一条合理的泊车轨迹，控制方向盘、变速箱和油门踏板进行自动泊车。在泊车过程中，安装在汽车前后的8个UPA会实时感知环境信息，实时修正泊车轨迹，避免碰撞。

APA自动泊车辅助需要驾驶员在车内实时监控，以保证泊车顺利完成，属于SAE Level 2级别的自动驾驶技术。对泊车辅助一代做一个简单的技术盘点，如下图所示。

![preview](https://pic3.zhimg.com/v2-83e6e22f70095013b60b6782004dd9aa_r.jpg)

泊车辅助一代技术盘点

# 2 泊车辅助二代：RPA远程遥控泊车

RPA（Remote Parking Asist）远程遥控泊车辅助系统是在APA自动泊车技术的基础之上发展而来的，车载传感器的配置方案与第一代类似。它的诞生解决了停车后难以打开自车车门的尴尬场景，比如在两边都停了车的车位，或在比较狭窄的停车房。RPA远程遥控泊车辅助系统常见于特斯拉、宝马7系、奥迪A8等高端车型中。

在汽车低速巡航并找到空车位后，驾驶员将车辆挂入停车挡，就可以离开汽车了。在车外，使用手机发送泊车指令，控制汽车完成泊车操作。遥控泊车涉及汽车与手机的通信，目前汽车与手机最广泛且稳定的通讯方式是蓝牙，虽然没有4G传输的距离远，但4G信号并不能保证所有地方都能做到稳定通讯。

RPA遥控泊车辅助

RPA远程遥控泊车辅助系统相比于第一代加入了与驾驶员通讯的车载蓝牙模块，不再需要驾驶员坐在车内监控汽车的泊车过程，仅需要在车外观察即可。泊车辅助二代的技术盘点如下图所示。

![img](https://pic2.zhimg.com/80/v2-0acedebc7d45fbbbc027180b59c0dfc5_hd.jpg)

泊车辅助二代技术盘点

# 3 泊车辅助三代：自学习泊车

在汽车变得越来越聪明后，驾驶员的期望也越来越高。他们希望在大雨天下班时，不用自己冒雨取车，而是用手机发送指令后，汽车能自己启动，泊出车位，并行驶到他们面前。

为了实现这个功能，给驾乘人员带来更好的体验，工程师们在汽车上加入了鱼眼相机。鱼眼相机的镜头就像鱼眼一样，能够看到超过180°范围内的东西，在汽车四周各装一个鱼眼相机，将他们的图像进行畸变矫正后再拼接，即可实现360°的环境感知。

市面上的很多高端车型上配备的360°全景影像功能，就是基于以上原理拼接而成的“鸟瞰图”。为了给驾驶员提供更好地泊车体验，工程师在鸟瞰图的基础上做了更多文章，做出了“上帝视角”，我们可以称之为“真·360°高清全景影像系统”，配合车上的大屏使用，效果更佳，如下视频所示。

## 3.1 360°全景影像

这个时候热心观众就要问了：这个功能看起来确实很高端，但是并没有解决汽车行驶到我面前的问题。

好问题，接下来要说的就是自学习泊车辅助系统的核心技术——SLAM（Simultaneous Localization And Mapping，即时定位与地图构建）。SLAM最早应用于军事领域，随后是机器人领域，近两年才被广泛应用到汽车领域。我将用一个非常简单的例子让大家了解SLAM技术。

当我们走进一个陌生的大房子时，我们每走一步都会在脑海中记录一些信息，比如这个房子有几层楼，卧室和洗手间在哪，家具的摆放等，这些被记录的所有信息就是我们在脑海中建立的地图（Map），房间的布局，家具的大小、位置关系等信息被称作这个图的特征（Feature）。每走一步都会看到新的特征，脑海中的地图会越来越大、越来越丰富。一旦房子在脑海中建图完成后，即使把我们放到房子里的任一位置，我们都能根据我们看到的特征，立刻判断出自己位于哪一层、哪个房间。这就是建图和定位的简单描述。

基于相机实现的SLAM技术，被称为视觉SLAM。视觉SLAM需要从图像中提取特征信息，再配合视觉里程计的技术建立地图，但基本原理与上述例子大同小异。

如下视频所示为视觉SLAM场景在室内的应用。

## 3.2 视觉SLAM效果

视频中左侧图像上的绿点就是采集图像中的特征（Feature），右侧的4幅图中的黄色锥形是相机在3维世界中的位置，背景中的绿点就是不断采集到的特征的集合，也就是我们所说的地图。

自学习泊车能够学习驾驶员的泊入和泊出操作，并在以后自主完成这个过程。

**自学习泊车的学习过程**

驾驶员在准备停车前，可以在库位不远处，开启“路线学习”功能，随后慢慢将汽车泊入固定车位，系统就会自学习该段行驶和泊车路线。泊车路线一旦学习成功，车辆便可达到“过目不忘”。

泊车辅助系统路线学习

**自学习泊车的模仿过程**

完成路线的学习后，在录制时的相同起点下车，用手机蓝牙连接汽车，启动自学习泊车辅助系统，汽车就能够模仿先前录制的泊车路线，完成自动泊车了。

**泊车辅助系统模仿过程**

驾驶员除了让汽车学习泊入车库的过程外，还能够学习汽车泊出，并行驶到办公楼的过程。聪明的汽车能够自动驾驶到我们面前，即使在大雨天也不用害怕冒雨取车了。

自学习泊车辅助系统相比于前两代加入了360°环视相机，而且泊车的控制距离从5米内扩大到了50米内，有了明显提升。自学习泊车辅助系统的技术盘点如下。

![preview](https://pic3.zhimg.com/v2-e0f870055d3dcb133af04260d94f0b3a_r.jpg)

泊车辅助三代技术盘点

# 4 泊车辅助四代：AVP自动代客泊车

最理想的泊车辅助场景应该是，我们把车开到办公楼下后，直接去办正事，把找停车位和停车的工作交给汽车，汽车停好后，发条信息给驾驶员，告知自己停在哪。在我们下班时，给汽车发条信息，汽车即可远程启动、泊出库位，并行驶到驾驶员设定的接驳点。

AVP（Automated Valet Parking）自动代客泊车的研发就是为了解决日常工作、生活中停车难的痛点，其主要的应用地点通常是办公楼或者大型商场的地上或地下停车场。

相比于更为成熟的前三代泊车辅助产品，VP除了要实现泊入车库的功能外，还需要解决从驾驶员下车点低速（小于20km/h）行驶至库位旁的问题。为了能尽可能地安全行驶到库位旁，必须提升汽车远距离感知的能力，前视摄像头成为了最优的传感器方案。地上/地下停车场不像开放道路，场景相对单一，高速运动的汽车较少，对于保持低速运动的自车来说，更容易避免突发状况的发生。

常用的激光雷达和毫米波雷达没被选用的原因是，激光雷达的成本较高，在成本降下来之前，不在大部分车企的量产考虑范围内；毫米波雷达由于感知原理的限制，在低速下的表现并不好，而且在地库中使用时信噪比不高，也不做考虑。

综合以上几点，最基本的AVP自动代客泊车的技术方案如下：

![preview](https://pic3.zhimg.com/v2-e73785a7c573ff15521d252d73d982f6_r.jpg)

泊车辅助四代技术盘点

除了以上提到的传感器外，实现VP还需要引入停车场的高精度地图，再配合SLAM或视觉匹配定位的方法，才能够让汽车知道它现在在哪，应该去哪里寻找停车位。

除了自行寻找停车位外，具备VP功能的汽车还可以配合**智能停车场**更好地完成自动代客泊车的功能。智能停车场需要在停车场内安装一些必要的基础设施，比如摄像头、地锁等。这些传感器不仅能够获取停车位是否被占用，还能够知道停车场的道路上是否有车等信息。将这些信息建模后发送给汽车，汽车就能够规划出一条更为合理的路径，行驶到空车位处了。

目前VP的技术已经比较成熟了，很多车企也跟Tier1（博世、安波福等）或者互联网公司（百度，欧菲、纵目等）做了概念验证项目。如下视频所示为梅赛德斯奔驰与博世共同研发的AVP产品。