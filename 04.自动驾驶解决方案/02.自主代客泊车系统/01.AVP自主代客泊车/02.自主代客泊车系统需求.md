- [AVP系列（中）：自主代客泊车系统需求 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/369285716)

## **1、用户需求**

从用户使用角度，自主代客泊车AVP系统的核心功能即为一键泊车与一键召唤，两项功能的具体用户需求如下：

1)一键泊车

在不考虑自主代客泊车AVP系统方案前提下，下图1为一键泊车功能的通用运行流程。

![img](https://pic4.zhimg.com/80/v2-a401ec8c21f4d0dd630cbb2ab678a3c3_720w.jpg)

*图1 一键泊车功能运行流程*

- **Use case – 1：下载地图**
  用户驾车来到停车场附近，AVP系统应主动提示用户附近可支持自主代客泊车功能的停车场信息及地图下载选项，用户通过HMI界面操作下载地图。

- **Use case – 2：更新地图**
  用户驾车来到停车场附近，AVP系统应比对本地保存的地图版本及云端最新的地图版本，如系统判断需要更新地图，应主动向用户推送更新选项，用户确认后进行更新。

- **Use case – 3：代客泊入**
  a)用户驾车在停车场附近选择代客泊入功能，AVP系统判断满足条件后开启此功能；

  b)用户打开手机APP与车辆连接，并下车来到车外；
  c)AVP系统控制车辆完成代客泊入，过程中用户通过手机APP得到必要的系统运行信息；
  d)AVP系统控制车辆进行代客泊入过程中，应记录车辆周边视频数据。

2)一键召唤

下图2为一键召唤功能的通用运行流程。

![img](https://pic4.zhimg.com/80/v2-e6ab1ea1f2170d197199b4f18bcefdab_720w.jpg)

*图2 一键召唤功能运行流程*

- **Use case – 4：代客泊出**

a)用户打开手机APP，与车辆建立通讯，并通过认证；

b)用户选择代客泊出功能；

c)代客泊车功能开启后，AVP系统接管车辆控制，引导车辆驶至固定的接驾位置；

d)AVP系统通过手机APP通知用户取车。

## **2、系统功能需求**

1)功能需求

一键泊车及一键召唤功能的实现载体为自主代客泊车AVP系统，根据两项功能的运行流程，可以进一步提出为对AVP系统的功能需求：

- **人机交互**
  人机交互主要包括车内人机交互和车外人机交互两个范畴，应提供支持用户对AVP系统进行必要操作的交互界面，并可向用户显示必要的系统运行信息。
- **车辆定位**
  车辆定位包括车库外定位及车库内两位两个范畴，车库外定位主要依靠GNSS-INS实现，而车库内的定位有不同的技术路线：例如激光雷达SLAM（Simultaneous Localization and Mapping即时定位与地图构建）、基于视觉的VSLAM、超宽带定位UWB等。
- **停车场高精地图**
  可支持图商制作的停车场高精地图，或依靠车端传感器自己建图。
- **车辆周边实时环境感知及记录**
  代客泊车过程中，车端传感器可及时感知周围的车辆、物体、行人、标识、车位等信息，并可记录储存周边视频信息。
- **云平台**
  云平台支持与手机APP及停车场的交互，根据系统架构方案差异，可承担不同层级的任务，例如地图管理、全局路径规划、运营收费等。
- **全局路径规划**
  根据停车场实时情况，为车辆分配合适的可用车位，并规划可到到目标车位的最优行驶路径。
- **局部路径规划**
  车端传感器识别到目标车位后，应根据感知信息修正AVP车辆的定位信息，并计算出车辆泊入目标车位的最优泊车路径。
- **车辆运动控制**
  接管车辆横纵向运动控制，引导车辆根据全局路径规划、局部路径规划进行代客泊车。
- **安全备份**
  在AVP系统出现失效，无法承担完整动态驾驶任务时，AVP系统应有能力根据相应安全策略定义，完成失效操作。

2)系统架构下图3为自主代客泊车AVP系统的通用系统架构，包括的子系统为：场端设施、云平台、高精地图、手机APP、车辆和OEM后台。

![img](https://pic2.zhimg.com/80/v2-d036c1be6633555dc34ec5830e593919_720w.jpg)

*图3 AVP通用系统架构*

根据AVP通用系统架构上的不同功能分配方案，就可以得到不同的AVP系统技术路线，从大的方面来说：由车辆承担更多系统功能的即为偏车端智能的技术路线，由停车场承担更多系统功能的即为偏场端智能的技术路线，介于二者之间的就是车和场相互协同的技术路线。