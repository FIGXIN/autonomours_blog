- [学习笔记7--卫星定位技术(下)_FUXI_Willard的博客-CSDN博客](https://fuxi-willard.blog.csdn.net/article/details/125607754)

## 1.卫星定位技术

### 1.3 GNSS数据误差

**卫星导航系统的误差从来源上分为：与信号传播有关的误差、与卫星有关的误差、与接收机有关的误差、与地球转动有关的误差；**

- 与信号传播有关的误差：包括电离层延迟误差、对流层延迟误差及多径效应误差；
- 与卫星有关的误差：包括卫星星历误差、卫星时钟误差、相对论效应等；
- 与接收机有关的误差：包括接收机时钟误差、(接收机天线相位中心相对于测站标识中心的)位置误差和天线相位中心位置的误差；
- 与地球转动有关的误差：包括地球潮汐、地球自转的影响；

![1](https://img-blog.csdnimg.cn/ea975646de104599958ff901cd3f8951.jpeg#pic_center)

- 电离层延迟误差
  - 电离层：处于地球上空50～1000km高度的大气层；
  - 电离层中，电磁波的传输速率与电子密度有关；因此直接将真空中电磁波的传播速度乘以信号的传播时间得到的距离，很大可能与卫星至接收机的真实几何距离不相等，两种距离上的偏差称为电离层延迟误差；
  - 电离层延迟误差是影响卫星定位的主要误差之一，一般在白天可以达到15m的误差，在夜晚达到3m的误差，在天顶方向引起的误差最大可达50m，水平方向引起的误差最大可达150m；
  - 针对电离层延迟误差的改进措施：包括利用双频观测、利用电离层模型辅以修正和利用同步观测值求差；
- 多径效应误差
  - 接收机接收信号时，如果接收机周围物体所反射的信号也进入天线，且与来自卫星的信号通过不同路径传播且于不同时间到达接收端，反射信号和来自卫星的直达信号相互叠加干扰，使原本的信号失真或产生错误，造成衰落，这种由于多径信号传播引起的衰落称为多径效应；
  - 多径效应误差是卫星导航系统中一种主要的误差源，可造成卫星定位精确度的损害，严重时还将引起信号的失锁；
  - 改进措施：包括将接收机天线安置在远离强反射面的环境、选择抗多径天线、适当延长观测时间、降低周期性影响、改进接收机的电路设计、改进抗多径信号处理和自适应抵消技术；
- 卫星星历误差
  - 由星历所给出的卫星位置与卫星实际位置之差称为卫星星历误差；
  - 卫星星历误差主要由钟差、频偏、频漂等产生；
  - 改进措施：包括忽略轨道误差、通过轨道改进法处理观测数据、采用精密星历和同步观测值求差；

### 1.4 差分GNSS定位技术

- **差分GNSS基本原理：在一定地域范围内设置一台或多台接收机，将一台已知精密坐标的接收机作为差分基准站，基准站连续接收GNSS信号，与基准站已知的位置和距离数据进行比较，从而计算出差分校正量，然后，基准站将此差分校正量发送到其范围内的流动站进行数据修正，从而减少甚至消除卫星时钟、卫星星历、电离层延迟与对流层延迟所引起的误差，提高定位精度；**
- 流动站与差分基准站的距离直接影响差分GNSS的效果，流动站与差分基准站的距离越近，两站点之间测量误差相关性越强，差分GNSS系统性能越好；
- 根据差分校正的目标参量不同，差分GNSS主要分为**位置差分、伪距差分和载波相位差分**；

#### 1.4.1 位置差分

![2](https://img-blog.csdnimg.cn/5294803f8ae64df08d441436f7cbe5f3.png#pic_center)

- 通过在已知坐标点的基准站上安装GNSS接收机来对4颗或4颗以上的卫星进行实时观测，即可进行定位，得出当前基准站的坐标测量值；
- 由于误差的存在，通过GNSS接收机接收的消息解算的坐标与基准站的已知坐标是不同的，将坐标测量值与基准站实际坐标值的差值作为差分校正量；基准站利用数据链将所得的差分校正量发送到流动站，流动站利用接收到的差分校正量与自身GNSS接收机接收到的测量值进行坐标修改；
- 位置差分法应用范围受距离限制，通常流动站与基准站间距离不超过100km；

#### 1.4.2 伪距差分

![3](https://img-blog.csdnimg.cn/c9fdf96b45074897947550a646be8999.png#pic_center)

- 伪距差分技术：在一定范围的定位区域内，设置一个或多个安装GNSS接收机的已知点作为基准站，连续跟踪、观测所有在信号接收范围内的GNSS卫星伪距，通过在基准站上利用已知坐标求出卫星到基准站的真实几何距离，将其与观测所得的伪距比较，然后通过滤波器对此差值进行滤波并获得其伪距修正值；然后，基准站将所有伪距修正值发送给流动站，流动站利用这些误差值来改正GNSS卫星传输测量伪距；最后，用户利用修正后的伪距进行定位；
- 在一定区域内，流动站与基准站的距离越小，使用GNSS差分得到的定位精度越高；

#### 1.4.3 载波相位差分

- 载波相位实现差分的方法有修正法和差分法；
  - **修正法：由基准站将载波相位修正量发送给流动站，以改正其载波相位观测值，然后得到自身坐标；**
  - **差分法：将基准站观测的载波相位测量值发送给流动站，使其自身求出差分修正量，从而实现差分定位；**
- 载波相位差分技术中基准站不直接传输关于GNSS测量的差分校正量，而是发送GNSS的测量原始值；流动站收到基准站的数据后，与自身观测卫星的数据组成相位差分观测值，利用组合后的测量值求出基线向量完成相对定位，进而推算出测量点的坐标；
- 在使用载波差分法进行相位测量时，每一个相位的观测值都包含有无法直接观测载波的未知整周期数，称为相位整周模糊度；求解相位整周模糊度分为：初始化方法和无初始化方法；
  - 初始化方法：要求具有初始化过程，即对流动站进行一定时间的固定观测，一般需要15min，利用静态相对测量软件进行求解，得到每颗卫星的相位整周模糊度并固定此值，便于以后的动态测量中将此相位整周模糊度作为已知量进行求解；
  - 无初始化方法：实际上仍需要时间较短的初始化过程，一般只需3～5min，随后快速求解相位整周模糊度；
- RTK：一种利用接收机实时观测卫星信号载波相位的技术，结合了数据通信技术与卫星定位技术，采用实时解算和数据处理的方式，能够实现为流动站提供在指定坐标系中的实时三维坐标点，在极短时间内实现高精度的位置定位；
- 常用的RTK定位技术分为：常规RTK和网络RTK；

**常规RTK技术：**
![4](https://img-blog.csdnimg.cn/4975e240a06440f3931679e079f4487c.png#pic_center)

- 常规RTK定位技术是一种基于GNSS高精度载波相位观测值的实时动态差分定位技术，也可用于快速静态定位；
- 采用常规RTK进行定位工作时，除需配备基准站接收机和流动站接收机外，还需要数据通信设备，基准站通过数据链路将自己所获得的载波相位观测值及站坐标实时播发给其周围工作的动态用户；
- 流动站数据处理模块通过动态差分定位方式，确定流动站相对于基准站的位置，并根据基准站的坐标得到自身的瞬时绝对位置；
- 常规RTK定位技术可以满足很多应用的需求，但流动站与基准站距离不能过远，当距离大于50km时，常规RTK一般只能达到分米级的定位精度；

**网络RTK定位技术：**
![5](https://img-blog.csdnimg.cn/71cdedfc164f4251a9ca6ae23476a973.png#pic_center)

- 网络RTK亦称多基准站RTK；网络RTK属于实时载波相位双差定位；
- **网络RTK原理：指在某一区域内由若干个固定的、连续运行的GNSS基准站形成一个基准站网络，对区域内全方位覆盖，并以这些基准站中的一个或多个为基准，为该地区内的GNSS用户实现实时、高精度定位提供GNSS误差改正信息；**
- 网络RTK主要包括：固定的基准站网、负责数据处理的控制中心部分、数据播发中心、数据链路和用户站；
- **基准站网由若干个基准站组成，每个基准站都配备有双频全波长GNSS接收机、数据通信设备和气象仪器等；通过长时间GNSS静态相对定位等方法可以精确得到基准站的坐标，基准站GNSS接收机按一定采样率进行连续观测，通过数据链路将观测数据实时传送给数据处理中心，数据处理中心先对各个站的数据进行预处理和质量分析，然后对整个基准站的数据进行统一解算，实时估计出网内的各种系统误差的改正项(电离层、对流层、轨道误差)，并建立误差模型；**
- 根据通信方式不同，将网络RTK分为：单向数据通信和双向数据通信；
  - 单向数据通信：数据处理中心直接通过数据播发设备把误差参数广播出去，用户收到这些误差改正参数后，根据自己的坐标和相应的误差改正模型计算出误差改正数，从而进行高精度定位；
  - 双向数据通信：数据处理中心对流动站的服务请求进行实时侦听，并接收来自流动站的近似坐标，根据流动站的近似坐标和误差模型，求出流动站处的误差后，直接将改正数或虚拟观测值播发给用户；