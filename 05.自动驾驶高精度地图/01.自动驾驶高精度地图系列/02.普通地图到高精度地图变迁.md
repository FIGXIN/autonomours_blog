- [自动驾驶之高精度地图（二）普通地图到高精度地图变迁 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/368694380)

我们先来看看古代在没有GPS定位的情况下是怎么绘制地图的，

无论是什么方法来绘制地图，最重要的步骤就是测量。在古代的测量，条件极其艰苦，最开始纯粹是靠人力边走边量。人文始祖之一的炎帝，就曾经为了丈量土地，徒步走了几十万里。大禹在治水的时候，地图也是必不可少的，他也曾派两个徒弟，带着准绳、规矩，到水灾泛滥的地方去丈量，从而获得基本的数据。所以，古代也将地图称为“禹迹图”。

这样徒步的丈量，实在太过于辛苦，于是在汉代出现了一种新的方法，它借助于一辆特制的马车完成。马车分为上下两层，每层都有一个假人。车行一里时，下面地假人就会击鼓一次，车行十里地时候，上面的假人就会响铃一次。

这样，负责丈量的人，就只需要记录下响铃或者击鼓的次数，便能将行进的距离准确算出来。这种方法，就叫做“记里鼓车”，计量的那辆车，被称为“大章车”。这个大章，正是大禹派出丈量土地的徒弟之一。

在古代的条件下，测量做到了这一步，已经很不容易了，后代在此基础上虽然也进行了改良和调整，但总的来说，并没有发生质的飞跃。

## 1 古代地图的绘制

古代的那个时候的地图绘制相对比较粗糙，基本上都是坐在车上（或者骑马、乘船、步行等）前往尚待探索的地域，凭借简单的定向设备确定位置，再将亲眼侦测到的地理信息记录下来，绘制到地图上。

当然不可能把所有看到的信息都绘制在地图上，一般都是以山川为基准的地图。这种【地图】，就是一份行政说明书，首先把县城画在中央，再把辖区内的山川、名胜按照相对于县城的大致方位绘制出来，最后把各个村镇填到相应的山上、河边。

![img](https://pic2.zhimg.com/80/v2-e08feb1d3c7dd54d2357f26b48b189b5_720w.jpg)

比如这份清光绪十一年版的《大宁县疆域图》：这张地图并非按照典型的上北下南，左西右东排布方式，而是根据县域地势和主要河流走向，将西北设为上，东南设为下。

![img](https://pic4.zhimg.com/80/v2-080f5ff3f0506c948575ef86be932093_720w.jpg)

这是现在的地图，进一步对比，在电子地图中搜索那些一百多年前的地名，发现还有许多可以对应得上。



![img](https://pic2.zhimg.com/80/v2-6eb8414b58085885295b7b2ff15e9301_720w.jpg)

这是现在的地图，进一步对比，在电子地图中搜索那些一百多年前的地名，发现还有许多可以对应得上。

虽然沿着同一条道路和河流的村子，之间的位置关系具有一定的准确性，这大致说明这类地图的绘制，是依靠绘制着带着定向设备和测距仪器，一步一步走出来的。但是由于缺乏定位技术，又没有经纬度这样的一套绝对坐标系统，其误差会逐渐积累，而且地块之间不成比例，导致人只能沿着地图所描绘过的道路行走，否则就会迷路，对于偏远的村镇来说，基本没有参考价值。

## 2 近代纸质地图的制作

看了古代的地图，我们再来看看最近20年左右的纸质地图。

![img](https://pic3.zhimg.com/80/v2-025c2d512b38399cc19df91a27affcfa_720w.jpg)



![img](https://pic4.zhimg.com/80/v2-63cf3bc5543acb6914dafc3f4fe65bc3_720w.jpg)

不知道现在还有多少人会购买纸质地图，曾经我读大学的时候把成都市地图和四川省的地图都买了一份，骑车自行车把成都1-3环内全部骑了一个遍，那个时候手机导航流量也贵，而且2G的流量速度也慢，半天刷新不出来，还不如我拿一个高清的纸质地图加上看路标指示来的快。

![img](https://pic4.zhimg.com/80/v2-a535821bb8052513c22b1c9141ce318f_720w.jpg)

这些纸质地图是传统意义上的行政地图或者交通旅游图，能把一些国道，省道，稍微大一点的街道、一些大型的建筑物、学校、地铁口等信息标注在上面，而且比例基本上都是1:5W的比例缩放的。这个时候道路有多少红绿灯，是否有坡度，是双行道还是单行道等等信息都是没有办法在这上面进行标注的，毕竟地图上显示的信息有限，而且要按照国家标准进行对应的信息显示。

也行你看到这样的地图，不就是百度谷歌一下，通过卫星远程一看，然后就可以制作成地图，然后下载下来就可以了，其实还真不是这么简单的事。基本上纸质地图的制作，虽然不需要像电子地图那么精密，但是一般也是首先通过飞机航拍摄影测量，根据地图比例确定好航拍的高度、航线等等，拍摄非常多的照片，然后是实地选择并测绘像空点，需要专家进行分析，根据航飞数据设计像控点图，实地用专业的测绘仪器测绘每个点的平面坐标和高程，制作立体模型。

![img](https://pic4.zhimg.com/80/v2-69340ce988e1a1db88c2cb2c8363a69b_720w.jpg)

所以大家在街上看到使用这些仪器的人员，基本上就是测绘人员，可能有的是地图单位的，有的是工程单位的。

控制点选好后，基本上就可以把这些照片全部连接起来，在计算机上建立实地的立体模型，在模型上量测，比如绘制出整个成都市的地图，根据要求 ，地图有的是做成平面的，就像我们经常看到的成都旅游地图，成都交通地图等等，绘制完成后，再进行外业调绘工作，赋予地图更多的信息（比如上面标准地名，颜色，建筑标识等等），最后内业编辑完后就给到审核单位审核，审核完后就可以印刷出版了。

我们通常能接触到的地图都是公开的，有的地图是保密性质的，有一些保密信息给到专业的机构使用的，想想这些信息也足够你在城市里面不迷路了，这个时候地图的精度也只能保障在20-50米，而且当时骑车会遇到一个比较尴尬的情况就是，可能有一些小道路已经修改了，但是这个还没有更新，因为这个纸质的地图更新频率是3个月左右，而且需要自己去购买最新的地图，所以基本上纸质地图已经成为过去时了。

## 3 电子导航地图

前面提到了地图的汇总，咱们终于说到电子地图导航了，

![img](https://pic3.zhimg.com/80/v2-9cc0fce2d0f58e3502db90ad3e327972_720w.jpg)

不知道大家对于这样的电子导航显示屏还有印象没有，反正至少我是印象挺深刻的，这个大概在2000-2015年左右非常常见，使用几次非常让人崩溃，而且现在很多人不愿意使用中控导航大屏，还是停留在那个第一代电子导航的时代，首先吐槽的就是这个显示屏清晰度就不高，而且是电阻屏，你用手指还不能触摸，还必须用指甲或者触摸笔才能去触摸，触摸响应同蜗牛有的一拼，关键输入地址后还半天不反应，反应过来还不正确，识别不到地址，需要你填写一些大一点的地址。

其中第一代电子导航，呈现方式主要是2D平面地图，有些朋友可能还记得在使用初代导航软件的时候，需要将各城市的地图数据下载至本地，路径规划通过本地芯片进行计算后得出结果。可以完成A点至B的行程，但是计算逻辑基本只会考虑距离以及道路属性（国道、省道、环路、收费高速等），由于没有实时流量的数据，所以基本上规划路线的时候不会考虑实际道路的拥堵情况。

![img](https://pic3.zhimg.com/80/v2-3841c94a8650d8a374510e70828b5ebe_720w.jpg)

这个时候的导航地图基本上都是以TF卡的形式本地存储的，没有在线更新的能力，所以半年左右还得去下图这样的后装导航维修厂，或者4S店进行导航升级，升级也需要费用的，因为这个地图厂家本身也需要进行对应的内容升级，当时主流的导航地图是凯立德，四维图新等等。

我们再来看看第二代电子导航地图，也就是我们目前所广泛使用的电子地图导航。本地数据开始联网，并且逐步引入大数据和云计算。同样由A点前往B点，导航所考虑的问题越来越多，道路是否拥堵、选择最短距离还是时间最短的路线，都在其考量范围之内。而且随着地图精度的提升，在通过岔道口时，导航还会弹出道路图像和引导路线。

![img](https://pic4.zhimg.com/80/v2-d64f254dba1f0a9b68acc34a1bcb0d83_720w.jpg)

这个时候的地图数据相对内容比较丰富了，经常在这边打滴滴，同滴滴司机沟通，基本上他们听语音播报就可以实现导航，只有在一些岔路口的时候看地图上的指示，基本上现在的地图导航都能满足实际的需求，虽然这个普通电子地图的精度也就10米左右，但是不妨碍车机开车啊，除非是特别快的速度，否则按照语音来进行导航都能正确导航，当然不排除电子地图数据出问题往河里导航的情况，这个是百万分之一的概率，所以整体而言是安全可靠的。

这个时候的地图数据已经非常大了，全国地图的时候基本上是16GB的数据，相当于3部高清电影的数据容量大小，而且地图的更新频率也会比较快，一般1-2个月就会更新一次，基本上都是直接通过OTA网络更新，不用再开车回4S店进行地图更新了，非常方便。

## 4 高精度导航地图

终于第三代导航地图，来到高精度地图来了，首先说说高精度地图在2016年就开始在起步，其实一个产业要落地，有非常多的行业因素影响，尤其是高精度地图，不仅仅是自身的地图行业，ADAS的发展，网络通讯速度等等，需要等到一个合适的时机才能爆发，而今年恰好属于高精度地图爆发的元年。

![img](https://pic1.zhimg.com/80/v2-e50eefc53ce99e416e648d74793613fc_720w.jpg)

上图是小鹏P7最新的NGP远征版本的导航界面，这个和咱们的普通看到的导航地图差别比较大吧，而且前不久，小鹏汽车发起一项「NGP 3000 公里远征挑战」的活动。

整个测试路段共收集有效记录数据110份，在使用NGP情况下得到的数据分别是：平均单车NGP行驶里程2930公里，变道超车总次数6245次，通过匝道总次数1215次，通过隧道总次数1308次。

一路之上，车队历经各种各样的天气（包括下雨、大雾），小鹏NGP全程实现了平均百公里接管次数为0.71次，变道超车成功率94.41%，匝道通过成功率92.76%，隧道通过成功率94.95%。

![img](https://pic3.zhimg.com/80/v2-007486974e6c4e902e10e445e1b7e0e6_720w.jpg)

之所以取得这样的成绩，除了传感器，自动驾驶算法之外，高精度地图的使用也是功不可没的，当然也有一些试驾媒体中对于试驾中存在的问题提出了一些看法，而这些观点基本上都是集中在高精度地图上，下面我们看看专业媒体对于小鹏汽车的高精度地图的槽点是哪些。

缺点1，高精地图缺失零散而不一致。在这次我们行驶的高速公路上，出现过至少10+次高精地图缺失，很不理解一长段高速公路为什么会出现部分缺失的情况，这种缺失有长有短，长的时候超过10公里没有高精地图信息，短的时候大概只有100米以内。虽然在失去高精地图后，NGP会降级到LCC，但是这种不停的降级和升级还是给驾驶者带来了较差的驾驶体验，因为你不知道啥时候会中断，啥时候又会恢复，你能做的就是等待，所有的不安都是来自于恐惧。

缺点2，高精地图覆盖范围无法显示。在我们规划路线的时候，我们发现，无论是APP还是车机地图，均无法显示哪些道路是高精地图覆盖范围。这就限制了我们规划时候选择NGP路段的能力。比如说，我这想走NGP可用的路，那怕远一点没关系。这样的意向在规划道路的时候就无法体现，在这一点上，蔚来的NOP就在车机地图上提供了开始NOP和结束NOP的标志点，这点希望以后可以补上。

缺点3，高精地图的权重太高。整体感觉目前的NGP还是比较依赖高精地图了，无论是变道还是隧道，一旦高精地图和车身感知发生冲突，都会按照高精地图来做，一旦高精地图数据缺失，NGP状态就会退出。既然P7已经拥有了两套360度的感知体系，是不是可以在高精地图数据缺失的情况下，启用车辆感知能力顶替上去，保持NGP状态的稳定，就类似于NOA没有高精地图也可以实现领航辅助的功能一样，保证整体NGP功能的连续性，增强用户体验。