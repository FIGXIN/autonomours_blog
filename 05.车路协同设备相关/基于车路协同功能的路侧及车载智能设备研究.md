摘 要 ：基于 LTE-V2X 的车载设备和路侧设备是目前满足自动驾驶与车路协同 V2V、V2I、V2N 以及 V2P 通 信要求的核心设备。该文主要从 LTE-V2X 设备的架构设计、软件设计、硬件设计以及性能测试等方面对团队所 开展的研究展开探讨。结果表明，在通信距离在500 m 的范围内可以实现高效的业务信息交易，信息丢包率小于 0.1%，端到端通信时延小于50 ms，可以满足 L4级的自动驾驶通信需求。

# 0 引言 

长期以来，自动驾驶车主要依靠自身的能力对驾驶环境进行识别，由于所采用的信息采集设备（例如摄像头、激光雷达以及毫米波雷达等）的感知条件有局限性，因此会加大实现全工况无人驾驶的难度，导致交通事故频发。另外，感知设备的成本远高于市场可接受的范围，对自动驾驶汽车的总体成本造成影响，引发商业落地难等问题，影响了自动驾驶的发展进程。

近年来，“聪明的车 + 智慧的路”逐渐被行业所认可，或成为未来自动驾驶发展的主要方向 [1-3]。

 “聪明的车 + 智慧的路”的工作模式离不开车联网，车联网作为物联网的主要应用领域，是信息化与工业化深度融合的重要方向。

在车间与车路间的通信技术除专用短程 通信技术（Dedicated Short Range Communication，DSRC） 外， 还有以蜂窝网络为基础的 C-V2X 技术。

后者具有清晰的技 术演进路线，其演进路线分为 3 个阶段，支持 LTE-V2X 的 3GPPR14、支持 LTE-eV2X 的 3GPPR15 以及支持 5G-V2X  的 3GPPR16，由我国政府和企业主导推进。

其技术可直接应用于车载电子或路侧设备中，具有广阔的市场应用场景 和良好的技术牵引力。将为车联网关键通信技术的发展提 供支撑 [4-5]。

基于车用无线通信技术（vehicle to X，V2X） 的电子终端的成功研发将会加速 C-V2X 技术标准在车联网领域应用的成熟度和产业化进程。

车联网关键技术分布在 “端 - 管 - 云”3 个层面，该项目是“端”层面，是实现车辆和路测设施智能化、网联化的关键点 [6-7]。

该文研究的基 于 LTE-V2X 的车载智能设备和路侧智能设备可以支持实现 自动驾驶车与道路基础设备的交互，为智能网联汽车获取 超视距的环境信息提供支持，有助于保障道路交通的安全 以及提高道路的通行率。 

# 1 路侧智能设备开发 

## 1.1 路侧智能设备架构设计 

该文设计的路侧智能设备是在路端实现对道路交通云、边以及端进行协同控制的最小单元，具有通信、计算、 存储以及控制等核心能力，通过有线或无线通信以及统一的逻辑架构实现完整的功能。路侧智能设备的功能架构如图1所示。 

路侧智能设备在车路交互方面提供 LTE-V2X、5G 双网路通信，能够实现通信的低时延与高带宽。

在接入方面，可以通过边缘计算单元实现路侧基础设施感知、交通运行感知、交通气象环境感知以及路侧可变标志等的接入与管理。 

汇集上述所有信息并接受来自云端控制平台的远端信息、控 制指令后，路侧智能设备将完成区域内应急信息的快速发 布、控制指令的分发以及融合数据处理任务，同时，路侧智 能设备具备接收周边其他路侧智能设备信息的能力，可以快 速传递和发布周边紧急事件的相关信息。 

## 1.2 路侧智能设备硬件设计 

该文设计的路侧智能设备采用 LTE-V2X 专用短程通 信，工作于 5.905 GHz~5.925 GHz 专用频段，满足 3GPP LTE  Release 14 标准，主要由中央处理器、LTE-V2X 模组、GNSS 模组、5G 模组、Wi-Fi 模组、千兆以太网、RS232/RS484 接 口以及电源模块等部分组成。可以安装于道路、交通路口、 停车场、机场以及高速公路等场景，用于实现车路协同与辅助自动驾驶的功能。 

路侧产品采用高性能处理器，内置高精度定位模块， 除 LTE-V/DSRC 通信以外，还具备 4G 通信、Wi-Fi 和蓝牙 （Bluetooth）等无线通信功能，提供 RJ45 以太网和 RS232 通 信接口，能全面满足各种通信需求，支持直流供电与 POE 供 电 2 种模式。

![image-20220818104235696](https://img-blog.csdnimg.cn/img_convert/f2845de16fb868bf01126c5007b35812.png)

## 1.3 路侧智能设备软件设计 

路侧智能设备采用 Linux 操作系统，是一个基于 POSIX 和 Unix 的多用户、支持多线程和多 CPU 的操作系统。软件通过层次化的设计实现设备与资源的抽象和管理。系统的支撑与管理功能包括数据管理、系统安全管理、系统监控以及 操作维护等功能。路侧智能设备软件采用分层设计，分为驱 动层、协议层和应用层，如图 2 所示。 

路侧智能设备软件采用分层设计，分为驱动层、协议层 和应用层。驱动层与硬件布局接线相关，对上层提供统一的 I/O 功能，屏蔽硬件上的细节信息。协议层包括应用层消息 收发 / 解析功能、网络层（UDP、TCP、IP、串口通信等）消 息收发 / 解析功能。应用层实现路侧智能站系统能力、操作 维护管理等功能。

![image-20220818104256080](https://img-blog.csdnimg.cn/img_convert/e16c7cbbe50e72de8ba1af8ad5997618.png)

# 2 车载智能设备开发 

## 2.1 车载智能设备架构设计 

车载智能设备通过 LTE-V2X 专用短程通信网络与路侧 智能设备或其他车辆通信。获取路侧信息或他车信息，并将 该车的信息发送给路侧智能设备和其他车辆，实现车车、车路协同控制。智能车载设备通过 5G 网络与交通控制中心联 接，实现车辆状态信息上传、道路状况分析以及智能驾驶辅 助等功能。智能车载设备功能架构如图 3 所示。 

## 2.2 车载智能设备硬件设计 

该文所设计的车载设备是连接路端和车端、车端和车端 的通信设备。具有通信、计算、存储以及控制等核心能力， 设备工作于 5.905 GHz~5.925 GHz 专用频段，通过有线或无 线通信以及统一的逻辑架构实现完整的功能。

除中央处理器 外，还集成了 LTE-V2X 模组、5G 模组、GNSS 模组、以太 网 Switch、CAN、Wi-Fi 和蓝牙等丰富的接口及其他通信方 式扩展。支持国标 ITS 协议栈，可接收、储存并实时更新车 辆的行驶数据，包括当前车速、行驶方向、油门深度以及车 距等，向其他车辆或者路侧智能设备发送当前行驶状态数 据 ；接收路侧智能设备发送的交通事件、交通管理的信息，达到危险预警、安全高效驾驶以及辅助自动驾驶的目的。 

车载设备的 LTE-V2X 模组用于与其他设备进行专用短 程通信，实现车路协同应用。5G 通信模块主要用于设备与服 务器或云端的通信、OTA 升级和 T-BOX 应用。CAN 接口内 置 2 路 CAN 接口，分别为低速 CAN 接口和高速 CAN 接口， 低速 CAN 接口用于 CAN 唤醒和低速通信应用。高速 CAN 接 口用于高速通信应用。Wi-Fi 6 除提供车内热点外，也可以 进行基于 Wi-Fi 的无线升级。车载智能设备内置 Switch，可 扩展 1 路车载以太网和多路千兆以太网接口，保障设备与汽 车车机、中控以及多类型传感器的通信，将安全预警信息传 递给汽车中控，接收汽车中控下发的控制命令，也可用于多 传感器信息的融合。

定位模组可以接收卫星定位信号，向上 层提供 UTC 时间及地理位置信息，提供与 UTC 整秒对齐的 高精度秒脉冲。车载设备设计有硬加密模块，可保障数据通 信的安全。 

## 2.3 软件设计 

车载智能设备软件采用分层设计，分为驱动层、协议层 和应用层。驱动层与硬件布局接线相关，为上层提供统一的 I/O 功能，屏蔽硬件上的细节信息。协议层具有应用层消息 收发 / 解析功能、网络层（UDP、TCP、IP、串口通信等）消 息收发 / 解析功能。

应用层具有实现车载智能设备系统能力、 操作维护管理等功能，应用层主要分为 2 个部分，一部分作 为基础子系统，集合了更上层应用的公共部分，为这些应用 提供交互接口，以便自由组合使用；另一部分使用基础子系 统提供的服务，构建直接面向用户的车辆安全、车路协同以 及 T-BOX 类应用。车载智能设备软件设计框架如图 4 所示。 

# 3 试验场功能测试 

## 3.1 通信性能测试 

为测试、验证集成多种通信方式的车路协同路侧智能设 备和车载智能设备的交互功能，在深圳市坪山试验场开展了 路侧智能设备安装搭建、车辆及车载智能设备环境搭建、定 位基站搭建以及配套网络环境与外场环境测试，进行了车路 交互实地测试，以验证 V2X 应用在不同通信环境、距离等 条件下通信时延、丢包率等性能。 

### 3.1.1 测试方案 

设备性能测试主要测试集成多通信方式的车路协同路 侧智能设备与车载智能设备在不同场景下的通信交互性能，

![image-20220818104418024](https://img-blog.csdnimg.cn/img_convert/73a38833c5c2e5ddc925a6fc155b467f.png)

![image-20220818104425184](https://img-blog.csdnimg.cn/img_convert/c7989406de04172ba74a1d6fe6aeb4b2.png)

包括信号强度、通信时延以及数据丢包率等指标。采用的测 试工具见表 1。

![image-20220818104435640](https://img-blog.csdnimg.cn/img_convert/31172cc4b264e9df4a2de0741b10e02c.png)

测试设备发出的信号 ：丢包、延时测试方案测试 LTEV2X 端到端的时延和丢包率，将 OBU 和 RSU 连接 GNSS 天 线和 V2X 天线，按照方案开展测试。

### 3.1.2 测试结果及讨论 

表 2 为在空旷地带的测试结果，按照 OBU 远离和靠近 RSU 的方式分别测试多组时延数据。

![image-20220818104500642](https://img-blog.csdnimg.cn/img_convert/92da6cf2c2339337dba80a867a3305fe.png)

试验表明，在空旷地带超过 1 000 m 就无法收到数据， 延时增大，数据无法接收，1 000 m 以内平均时延小于 50 ms。 

表 3 为空旷地带的测试结果，按照 OBU 远离和靠近 RSU 的方式分别测试多组丢包率数据。 

试验表明，超过 1 000 m 的丢包率大于 5%，影响数据 正常通信，小于 1 000 m 的丢包率小于 0.1%。 

## 3.2 业务通信测试 

### 3.2.1 测试方案 

针对路侧消息、车辆消息、地图消息以及中心系统消 息等进行道路施工事件、拥堵事件、车辆故障（异常状况） 事件以及气象事件等场景的交互测试，主要开展了业务成功 率测试和通信距离移动测试。

业务成功率和通信距离移动性 测试步骤如下：1）车辆从 1 000 m 的位置向 RSU 方向行驶， 速度为 120 km/h，接收 RSU 事件，根据 OBU 日志、RSU 日 志以及卫星定位信息进行比对，测量不同通信距离 OBU 和 RSU 的业务成功率（采样点间隔不大于 50 m）。2）RSU 在 1 s 内分别进行 5 次不同的车路一体化业务，重复上述步骤。

![image-20220818104537241](https://img-blog.csdnimg.cn/img_convert/0d97cc4a27f98b7b938573069e1c9494.png)

重复测试（至少重复测试 10 次）。 

### 3.2.2 测试结果 

车速为 120 km/h 时，不同距离区间的车路交互业务成功 率见表 4。

![image-20220818104552243](https://img-blog.csdnimg.cn/img_convert/7e9f26daee3419aa6fd40453a9ef6530.png)

实验结果表明，在 120 km/h 的速度下，车路交互距离保 持在 600 m 以内其成功率大于 99%。 

# 4 结论 

该文研究结果表明，具有车路协同功能的车载智能设备 和路侧智能设备可以通过信息交互来获取自动驾驶车视距 之外交通环境信息。考虑设备通信环境和车辆行驶速度，设 备在通信距离为 500 m 的范围内可以实现高效的业务信息交 易，信息丢包率小于 0.1%，端到端通信时延小于 50 ms，可 以满足 L4 级的自动驾驶通信需求。