- [UWB系统的定位精度影响因素（一） - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/551296346)

- [UWB系统的定位精度影响因素（二） - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/551279356)

**∪WB定位误差分析及消除方法**

定位精度是衡量UWB超宽带定位系统性能的最关键指标。将分析影响UWB定位精度的主要因素，并从定位误差角度，研究和阐述消除定位误差的方法与技术，以保障UWB定位的高精度特性。

**UWB系统的定位精度影响因素**

影响UWB定位精度的因素较多，主要包括:多径效应、非视距传播、多址干扰、参考基站数量、参考基站位置和时钟同步误差等因素。

![img](https://pic1.zhimg.com/80/v2-e416ba648bd2e8ec0ebcc2d553027a5c_1440w.jpg)

**1.多径效应**

超宽带信号在室内传播过程中受到复杂的室内环境(如墙体、窗体及室内障碍物等)的影响，会发生反射、折射等情况从而产生多径效应。多径效应会导致信号经过不同的路径到达定位基站天线的情况各异，使得第一个到达的信号分量不是直线传输到达的信号分量，显示出不同的时间和空间方位。此时，信号到达定位基站的各分量之间的相位关系会发生改变，不同的路径也会使各分量具有不同的时延，微小的时延导致信号各分量相互干涉，从而引起信号的快衰减与能量衰减，信噪比下降，最终导致测量误差，定位精度也随之降低。多径效应对RSSI和AOA等非时间测距的定位算法会产生很大的影响，而对于基于时间测量的定位算法TOA/TDOA,也会引起测量值的偏差，可见多径效应是影响定位精度的主要原因之一- 。因此，尽可能地抑制多径效应将能有效地提高定位精度，目前抑制多径效应的方法主要是关于时延估计的算法，如基于边缘检测的时间延迟估计与基于遗传粒子滤波的多径时延估计算法”。

**2.非视距传播**

当目标节点与参考基站之间的直射路径被障碍物遮当后，发射点和接收点之间就不存在直达路径了，无线电信号只能经过反射或折射后发射点和接收点之间就不存在直达路径了，无线电信号只能经过反射或折射后才能抵达接收端，这种现象被称为非视距传播(NLOS)。 传统的TOA算法是检才能抵达接收端，这种现象被称为非视距传播(NLOS)。传统的TOA算法是检测最强脉冲来得到传输时间的，但是当非视距信号到达接收端时，此时第一个测最强脉冲来得到传输时间的，但是当非视距信号到达接收端时，此时第一个到达脉冲并不是最强的脉冲，使得TOA算法存在误差。基于角度测量的AOA算到达脉冲并不是最强的脉冲，使得TOA算法存在误差.基于角度测量的aA算法因为NLOS误差的影响，得到的角度测量值与真实值之间也无法避免地存在着法因为非视距误差的影响，得到的角度测量值与真实值之间也无法避免地存在着较大误差。在实际室内定位过程中，经实验证明，由TOA算法得到的测量值的较大误差.在实际室内定位过程中，经实验证明，由TOA算法得到的测量值的方差在NLOS环境下比在LOS环境下的值大16，因此我们可以利用这种差别来方差在NLOS环境下比在los环境下的值大16，因此我们可以利用这种差别来甄别是否为NLOS环境，然后利用简单的LOS重建算法就可以减少定位误差的甄别是否为NLOS环境，然后利用简单的los重建算法就可以减少定位误差的产生。另一种减小误差的方法是使用有偏或无偏卡尔曼滤波的方式对实际测量产生.另一种减小误差的方法是使用有偏或无偏卡尔曼滤波的方式对实际测量值进行筛选，从而使得待测节点取得较高的定位精度171值进行筛选，从而使得待测节点取得较高的定位精度.

**3.多址干扰**

由于参考基站需要协同定位，因此某个参考基站不光要接收待定位节点发射过来的信号，还要接收临近基站的发射信号。不同的信号叠加在一起就造成了信号的干扰，降低了信号的信噪比，使测得的TOA值与真实值相差较大.解决的办法是：a)采用相互正交的跳时序列，使得用户在不同的时除进行信号的传输，从而避免用户间干扰；b)在接收端使用一个匹配滤波器，对多址信道内的扩频信号进行输出，然后根据有效的信号处理方法最终判断恢复出原始的发送信号数据，这种方法也能够在一定程度上消除远近效应的影响。

**4.参考基站数量**

增加参考基站的数目可以增加TOA测量值的信息冗余度，降低定位的误差，提高定位的精确度.但定位基站的数量不是越多越好，当定位参考基站的数目增加到一一定程度时，无法充分利用其他基站提供的距离信息.在实际的应用当中，考虑到计算速度和成本，按照经验-般参 考基站的数量为4-6个。

**5.参考基站位置**

合理地设置参考基站的位置可以在一定程度 上抑制多址干扰，提高定位的精度。参考基站与待定位节点的相对位置的关系对定位系统影响的程度可以用几何精度因子(Geometric Dilution of Precision, GDOP)来表示。在实际的应用当中，在从大量的参考基站选择基站时，可以用GDOP作为选择指标。阅读有关的文献可知，均匀分布的基站比无序分布的参考基站有着更好的定位效果。

**6.时钟同步误差**

基于TOA和TDOA的超宽带定位算法所使用的时钟同步是不相同的，基于TOA的定位不仅要求待定位节点和各个参考基站间有严格的时钟同步，而且也要求参考基站间保持时钟同步。而基于TDOA定位时仅仅需要各参考基站间时钟同步即可，这样就减少了定位系统的复杂度和成本。因此，时钟同步误差与定位精度有着密切关系。时钟同步过程中会受到多方面因素的影响。

1.时钟设备质量的可靠性，例如信号收发设备的精度过低，在测量过程中可能会产生较大的测量误差，另外，晶体振荡器自身存在的温漂、老化等问题也会使时钟发生偏移。

2.时钟同步算法，主要分为有线时钟同步和无线时钟同步，不同的时钟同步算法的精度是不同的，相比于有线时钟同步算法，无线时钟同步算法在应用上更为方便，但是相对而言同步的难度更大118

3.同步范围，由信号传输的路径损耗规律可知，信号的传输距离并不是无限远的，-定的发射功率也限定了一定的信号可用范围，因此时钟的同步范围大致可以分为单区域同步和跨区域同步。单区域时钟同步，顾名思义，在特定的区域内进行时钟同步，单区域时钟同步会受到所要同步的区域形状的影响;跨区域时钟同步则会受到相邻同步区域的时钟同步误差累积影响，即与原始时钟越远的区域时钟同步误差越大。

4)时钟同步的环境，例如信号的收发过程是否受到干扰，信号传输环境是否为NLOS等。因此，受这些因素的影响，容易造成不理想的时钟同步情况，不理想的时钟同步会带来一定的时钟误差， 从而影响到定位精度和定位稳定性。引起UWB测距误差的原因有多个，室内定位节点之间的本地时钟不同源导致时间同步上的误差，该误差可以通过TDOA测距方式消除;影响测距误差的还有系统误差，系统误差一般包括天线延迟误差、 经纬度、环境湿度以及海拔等因素的影响，可以通过线性拟合的方式来消除部分系统误差，为了使最后的定位更加准确，在正式实验定位之前，需要进行测距预处理工作，以此来提高后期的定位精度;影响测距精度的原因还有另外一个，测距方式的不同，也可能导致最后的定位精度有差异，可以使用的测距方式为双向对称测距，而非双向测距，这可以提高定位精度[19]UWB定位精度影响关系的鱼骨图模型，如图5.2所示。进一一步， 本章分析TDOA测量误差、时钟偏差、基站数量与位置、随机遮挡、设备误差和气象条件等典型误差特征。

(1) TDOA测量误差

现有技术方案中，为了解决对TD0A测量误差的校正需要引入测量参考设备，典型的校正系统由一一个参考发射设备和两个参考接收设备构成，参考发射设备和参考接收设备的位置已知。由参考发射设备发送特殊的测量信号，参考接收设备在收到测量信号后，可以获得TDOA的测量结果。然后利用已知的参考设备的位置信息，计算出TDOA的理论值。对比TDOA的测量结果和计算结果，可获得TDOA的测量误差信息。利用多个参考发射设备可以得到多个测量误差估计结果，对所有测量误差估计结果进行加权平均处理后，在后续的TDOA测量过程中，采用加权平均处理获得的误差信息对测量结果进行校正。根据对TDOA测量误差来源的分析，参考设备校正过程获得的误差信息做加权平均处理后，不具备普遍代表性，校正获得的精度提高有限(2。

(2)时钟偏差

时钟偏差可以通过校准源校正，且存在与否对定位性能界有影响，噪声水平多大对于稳健的算法而言是无影响的。

(3)基站数量与位置

1)数量:基站位置误差噪声水平是影响定位性能的重要因素，基于TDOA最小二乘算法，在不考虑其他误差的情况下，分析了基站几何布局对定位终端的误差影响，可以看出较好的基站几何布局能够大大提高移动台的定位精度。在可得到多基站信号特征值的情况下，可以根据多基站选择算法来选择具有较好几何布局的基站来进行定位，有助于利用较少的系统资源得到较好的定位精度。此外还可以根据不同的定位需求，指导基站的架设。对于Chan定位算法，在高斯噪声环境下，随着参与定位的基站数的增加，能够利用的TDOA测量值的数目增加，可以得到更高的定位精度。当参与定位的基站数达到5个及以上后，定位精度改变不大，也就是说，利用TDOA测量值的定位算法，需要参与定位的基站至少为3个，当参与定位的基站达到5个以上时，定位性能达到最优。

2)位置:根据仿真模拟，当基站数量较多时，共集合分布按照蜂窝型布置时，定位误差最小，如图5. 3所示。

![img](https://pic4.zhimg.com/80/v2-50d36915889eb4240a3f842978504f9b_720w.jpg)

蜂窝型基站分布图

(4)随机遮挡(无线电波的行射与反射)

在室内定位中，室内的遮书物对UWB技术产生多大的影响呢?

1）实体墙:堵实体城的这种遮指将使得Uvw信号丧破80~70%，定法定位。)比源，级铁社W冲你切吸收很严重，将使得UWB无法定位，

2）钢板：钢铁对UWB脉冲信号吸收很严重，将使得UWB无法定位。

3)玻璃:玻璃道挡对UWB定位精度没太大的影响。

4）木板板或纸板， 般厚度10m左右的木板或纸板对Uww定位精度没大大

5)电线杆或树木， 电线杆或者书面遮挡时需要看他们之间距离基站或者标签的距离，与基站和标签的相对距离比较是否很小，比如，基站和定位标签的距离为50m，电线杆或者树木正好在两者中间25m处，这种遮挡就没有大的影响，如离基站或者标签距离很近小于1m.影响就很大。

(5)设备误差

卫星发射设备及用户接收设备的电路延时( 这些电路延时随环境因素、电路工作条件、元件老化、信号和干扰噪声的强弱而变化)，将产生固定的及随机的测距误差，此外，计算机进行定位计算也会有计算误差，从而导致定位误差。

(6)气象条件

1)温度和气压等因素对测距精度的影响呈线性变化，气压的影响最为显著，其次是温度。2)固定温度、压力和湿度，距离对测距精度的影响呈负梯度变化。
(7) 大气

现有技术中，在视距情况下，基于UWB实时高精度室内定位之所以会导致精度下降，主要是由于当基站和标签距离较远时，受大气误差延迟的干扰严重，增加了UWB信号到达时间。因此，没有办法准确地计算出基站与标签的距离通过UWB设备得到标签与基站之间的测量距离，通过基站和标签之间的测量距离建立观测方程;在所述观测方程中引入与测量距离成正比例的大气误差参数;通过三角定位的方法将位置参数与大气误差参数一起进行补偿解算，从而消除大中信号传播的大气F扰造成的误差;解算得出消除大气误差后的标签位置以及实时的大气误差参数并输出解算结果。