- [智能高精地图数据逻辑结构与关键技术 (rhhz.net)](http://html.rhhz.net/CHXB/html/2019-8-939.htm)

智能高精地图也有着相应 不同的定义范围(表１):①L３级以下对于高精地 图没有刚需,L０、L１级通过传统地图实现基础的 道路导航功能[５],L２级引入 ADAS(高级驾驶辅 助系统,)数据 支撑汽车主动安全;②L３级实时环境感知的主体 由人类驾驶员变为自动驾驶系统,高精地图已成为必选项,且需要车辆实时位置与高精地图能匹 配一致[６Ｇ８],L３级系统作用域为场景相对简单的限定环境（如高速公路、封闭园区等），地图精度要求相对较低，且复杂度高的动态目标（如行人等）数量相对较少，实时传感器数据足够支撑有效的动态目标识别，地图只需提供静态环境与动态交通（即实时路况）信息；③L4级自动驾驶能够完成限定条件下的全部任务，无须人工干预，安全性要求高、地图精度要求高，且需地图提供动态交通和事件信息（包括实时路况与高度动态信息）以辅助周边环境模型构建；④L5级能够在任意环境条件下完全自动驾驶[]，作用域的显著扩大需要海量众包源为地图提供数据支撑，且需要地图具备高度智能性，能结合分析数据实现对环境的高度自适应。

![image-20220729102659314](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e35331c994a.png)

测绘精度是智能高精地图的核心指标。目前虽无强制性标准规定，但普遍认为智能高精地图的绝对坐标精度应在5~20cm之间1-1]，并包含道路静态与动态环境信息，能够以云端协同、车路协同等方式实现信息加载，辅助车辆感知、定位、规划与控制且具备自学习、自适应、自评估能力。

## 1 智能高精地图数据逻辑结构

有效且合理的数据逻辑结构是智能高精地图领域的研究重点：

①在静态数据逻辑结构方面，文献[21]将高精地图分为4层：道路层、车道网络层、车道线层与交通标志层；文献[22]建立了用于车道路径导航的3层车道级地图体系结构，设计了道路层、中间层与车道级层；国际导航数据标准协会(Navigation Data Standard Association,NDS)提出用于改进导航定位与路径规划的OpenLane Model[2s,存储高达1cm分辨率的车道拓扑与高精度几何图形。

②基于现实环境的动态性与复杂性，仅依靠静态地图数据不足以刻画真实的周边环境，为了保证出行安全，还需引入动态地图数据。BOSCH公司最早于2007年提出局部动态地图(local dynamic map,LDM)概念[24幻，引入动态数据，将地图分为4层：静态数据层、半静态数据层、半动态数据层、动态数据层，这种动态数据逻辑结构是当前高精地图设计的一个重要参考。

③考虑到智能驾驶除了必需的安全性之外，还需提供更加人性化与智能化的舒适体验，相关机构还提出了智能数据逻辑结构。如HERE公司提出的高精度动态地图(HD live map),结合长期存在的道路内容、临时信息及分析数据，提供丰富的环境信息与实时道路信息，并通过分析长期基于位置的驾驶行为获取速度剖面数据，提供特定情况下的速度配置文件(http:∥360.here.com/2015/04/23/humanized-driving).

总体来说，智能高精地图的数据应包含丰富且准确的场景语义信息、实时路况信息及驾驶经验信息用以辅助环境感知、车辆定位与规划控制，实现当前情况下最优驾驶策略，支撑自动驾驶汽车的未来出行。结合信息传输模型的特点及现有数据逻辑结构的数据类型特征，本文确定智能高精地图数据逻辑结构的内容构成应满足三大要求：

一要高精，意味着地图需要非常准确与详细的数据，能真实反映出地图目标在现实世界中的准确位置；

二要动态，意味着地图需要高度动态的道路信息以刻画真实的周边环境，保证现势性以有效应对各种突发情况；

三要自适应，意味着地图需要能主动适应各种复杂环境的适时变化，结合驾驶经验数据集提供与当前情况最为匹配的驾驶与信息服务。

基于上述要求，综合分析前面所述数据逻辑结构的分层特点，及参考OpenDrivel5]等相关地图标准对内容组成与分类的定义。本文将智能高精地图数据逻辑结构划分为4层：静态地图层、实时数据层、动态数据层、用户模型层（其中局部代价地图为局部范围内的静态地图层、实时数据层与动态数据层的组合，用以表征真实的周边环境，主要分为静态层与障碍物层)。

### 1.1 静态地图层

静态地图层是当前制图的重点。主要日的在于精准刻画静态驾驶环境，提供丰富的道路语义信息约束与控制车辆行为。主要包含道路网、车道网、交通设施与定位图层（表2）。

![image-20220729102804512](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e3532ec8ce5.png)

道路网主要由道路基准线网络构成，以描述道路几何、表达与交通设施间的关系，包括道路基准线、道路基准线连接点、路口等。车道网主要由车道级道路网络构成，记录车道网中每个独立车道相关属性，以描述车道几何、道路显示等，包括车道级道路、车道基准线、车道标线等（如图2所示)[2们。

交通设施根据不同种类，可区分为平面表示与实体表示两种表示形态，如图3所示。上述3层组成静态地图层的基本数据结构，是关乎国家地理数据安全的基础地理信息数据，应由国家主导，相关企业、地方政府与智能高精地图管理中心之间相互协作，保证相关资料与数据的传输、处理与更新，保证国家地理数据安全。定位图层包含企业发布的不同数据类型的定位数据，以适应不同原始设备制造商(original equipmentmanufacturer,OEM)的传感器设置与定位方案，是基于基础地理信息数据的衍生性服务应用，由各方参与进行市场竞争。

![image-20220729110300811](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e3532c645d0.png)



### 1.2 实时数据层 

实时数据层包含更新频率较高的实时路况信息,根据数据类型的差异可大致分为交通限制信息、交通流量信息及服务区信息(如表 ３ 所示). 这些信息有许多来源:道路传感器网络、交通管理部门、道路管理部门、气象局、车载传感器等,最重要的是来自海量行驶车辆的传感器数据.当路况发生改变时车载传感器检测路况变化,并与路上其他车辆或道路传感器网络的输入数据在云端进行交叉检查与数据融合,实时更新路况信息. 

![image-20220729103542007](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e3532a3aecd.png)

### 1.3 动态数据层

动态数据层包含车辆、行人、交通信号灯等高度动态的信息,更新频率快.通常有两种不同类型的信息来源:①车载传感器如摄像头、雷达等直接采集获取的环境信息,即主动感知动态信息;②由智能交通系统(intelligent traffic system)或 类似的外部系统提供的信息,即被动感知动态信息,主要是道路用户的 V２X(vehicletoX)信息, 包括 GNSS数据、航向、速度等(如表４所示).车辆通过动态信息预测附近运动物体(包括潜在运动物体)的轨迹路径、获取实时交通信号,弥补在能见度低的交叉盲点上车载传感器的视野盲区, 保证行驶安全。

### 1.4 用户模型层

智能高精地图的基本出发点就是以用户为中心，监测、识别并自适应用户需求与场景变化，通过自我调整与自我组织提供与当前情况最为匹配的信息服务与驾驶服务。同时对自适应结果进行评估，通过对用户满意度评估标准的制定、满意度获取及结果反馈，使得整个系统不断优化，实现自学习、自适应、自评估的自主智能控制功能。为此需要增加用户模型层，记录、分析与应用用户个性
化信息。由驾驶记录数据集与驾驶经验数据集两个方面的内容构成（如表5所示）：驾驶记录数据集是特定条件下用户对数据、界面、控制、感知、预测的所有操作记录；驾驶经验数据集则是对海量记录数据进行多维时空大数据挖掘、分析与处理
后为用户提供的经验信息，用以辅助车辆实现特定约束条件下的最优行驶策略。

![image-20220729103834400](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e35327777cd.png)



![image-20220729103929714](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e353252be4a.png)

### 1.5 数据逻辑结构在自动驾驶汽车自主导航中的应用

控制流程通常分为“感知-规划决策-控制”3个步骤：

(1)在感知层面，引入局部代价地图的静态层数据。实际应用中，机载传感器实时感知周边环境及自身粗略位置，通过定位器接收感知数据及静态层数据，经数据融合生成高质量的感知结果，实现车辆对周边环境的精确感知认知。通过将检测到的具备语义意义的特征与静态层数据进行地图匹配，实现相对定位；经过坐标转换，实现绝对定位。

![image-20220729111245568](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e35321ac0f0.png)

(2)在规划决策层面，引入局部代价地图、静态地图层的道路网、用户模型层的驾驶经验数据集以及全局范围的实时地图数据。实际应用中，目前自动驾驶主要采用层次化路径规划方式，各规划层分别引入不同地图数据约束与引导车辆迹路径：

①全局规划：首先基于绝对定位与道路网，确定起终点间的全局规划路径；

②语义规划：引入实时地图数据与驾驶经验数据集，充分考虑道路语义（如拥挤程度）和用户语义（如必须途经点)，基于全局规划路径进行全局二次规划，得到语义规划路径；

③局部一次规划：基于相对定位与局部代价地图，在语义规划路径的基础上生成局部范围内无碰撞可执行的轨迹路径，实现局部一
次规划；

④局部二次规划：引入驾驶经验数据集，根据当前实际情况优化局部一次规划路径，生成满足用户需求的平滑轨迹，提高自动驾驶安全性与舒适性，实现局部二次规划。

(3)在控制层面，控制器将局部二次规划生成的迹路径转换为机器人的控制指令，控制机器人运动，并向定位器进行信息反馈以修正误差。地图虽与控制器之间无直接连接，但在实际应用中，通过实时环境感知与地图匹配，获取交通标志、障碍物等相对于动态车辆的精确位置，能对特定情况下的自动驾驶车辆实行基于行驶规范（如交通规则、地图数据约束)与驾驶经验（如不同场景下的速度配置)的驾驶行为控制，这是传统导航地图不具备的功能。

## 2 计算模式与更新技术

### 2.1 “众包＋边云协同计算”计算模式

维护更新是地图计算层面的重要问题。针对智能高精地图复杂多样的数据类型与庞大的数据体量，如何实现实时的数据更新与有效的数据处理之间的平衡是一个巨大的挑战。终端有限的计算能力难以独自应对实时产生的大量数据处理要求，传统以云计算模型为核心的集中式大数据处理方法也会因为云端负担过重而无法实现实时的数据处理。为了解决这些问题，需要建立新的计算模型。

边缘计算是一种在网络边缘执行计算的计算模型2]，其边缘是指从数据源到云计算中心路径之间的任意计算和网络资源[29-3]。边缘计算能通过将中心云的部分计算任务转移至边缘侧来减轻中心云计算负担，提供当前云计算技术无法保证的低时延、高可靠、高带宽。结合边缘计算基本理念与云计算技术，出现了一种构筑在边缘基础设施之上的弹性云计算平台，即边缘云。作为中心云的延伸，边缘云具备网络边缘侧的计算、网络、存储等能力，并与中心云和终端形成“云边端三体协同”的端到端技术架构31]

同时，智能高精地图为了保持周期性数据更新，需要大范围内足量且实时的有效道路数据作为支撑。仅依靠专业测绘难以实现对道路的全时空实时覆盖。基于用户众包是确保智能高精地图实时性的必要来源，也是业内公认的高精地图未来形态。众包作为群智感知的一种分布式任务分配与执行机制，能把过去需要分配给特定个人完成的任务以自由自愿的形式外包给非特定的大众完成，充分利用群体智能以较低的成本完成计算机难以完成的任务[32]

综上，为了保证数据处理与交互的实时性，本文提出“众包十边云协同计算”的智能高精地图计算模式（如图5所示）。以“终端-边缘云-中心云”3层架构作为技术支撑，融合集中式在处理能力与分布式在信息效用方面的优势；以众包化的任务分发机制作为策略支撑，充分利用群体智能以较低的成本有效完成复杂任务，实现地图实时更新的低成本和可量产化。实际运用中：①中心云端建立智能高精地图数据服务中心，侧重于非实时、长周期数据、集中式决策的全局性业务需求，如大数据分析与挖掘、AI机器学习、数据存储等，实现地图生成与增量更新、驾驶行为分析、全局性众包任务分发等功能；②边缘云端建立区域性地图数据服务节点，侧重于实时性、短周期数据、多源异构处理等要求较高的区域性业务需求，如区域数据的实时处理与可视化等，实现路况监控、事故预警等功能，同时，边缘云之间互联，根据应用区域、优先等级及处理性能等实现高效的任务调度并通过互联网与中心云互联，实现数据协同、任务协同、管理协同、安全协同；③终端（包括车载单元、移动设备、路侧设施等基本数据采集与处理节点)进行初步的数据采集、对齐和处理，如感知特征识别、地图要素矢量化等，在顶层调度下协作完成感知任务，以众包的方式提高信息与服务的实时性。

![image-20220729112143458](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e3531e72fe1.png)

### 2.2 “众包＋人工智能”更新技术

通过众包方式实现智能高精地图数据的实时更新，满足功能测试与车辆自动驾驶要求等，理想状态是各方采用统一的行业标准，通过互换与共享数据实现道路信息的全时空覆盖，基于基础高精地图网以众包方式进行数据采集与更新。然而目前众包更新技术存在的一些问题，制约着地理信息的快速便捷使用。如何提高众包数据质量以满足智能高精地图的制图要求，是其中的关键问题。

针对众包数据目前存在的终端层数据冗余或缺失、云端层数据混杂等质量缺陷，人工智能技术是一个有效的解决方案。“众包十人工智能十摄像头”的众包更新技术路线己成为目前各大参与企业的主流方案，并取得显著进展。下面结合实际应用，详细阐述人工智能技术对众包数据的影响（见图6）：(1)在终端层：一方面终端层数据体量大，全部传至云端容易造成数据冗余，可能导致有效数据被掩盖；另一方面，由于天气、光照、拍摄距离、角度的不同、物体自身发生形变或磨损以及被其他物体所遮挡而导致物体感知特征的多样性与模糊性，终端有限的性能容易造成有效数据缺失。因此需要在终端层进行数据一次加工，包括感知特征的有效提取与地图要素矢量化，以提高众包数据质量，降低众包数据体量。实际应用中，深度学习(deep learning)技术[3]以其高准确性、高稳健性、低成本[3的优点已成为目前众包数据处理领域新的研究热点。作为人工智能技术的代表，深度学习技术能依靠GPU(graphics processingunit)强大的并行处理能力自动地从大量人工标注训练数据集中学习特征[3]，训练好的神经网络模型能够对图像数据等进行实时高效的自动化处理36]，将非结构化的原始数据转化为结构化数据，包括目标位置、姿态、种类、语义信息等。基于深度学习方法构建的各类卷积神经网络、深度神经网络、递归神经网络、生成对抗神经网络、长短期记忆网络等极大提高了众包数据中日标检测、跟踪及分割等视觉任务的效率与精度[37-]，为解决场景理解、图像描述、事件检测和活动识别等更复杂更高层次的视觉任务提供支撑[48]。同时，对感知特征高效且精准的提取，也为地图要素矢量化提供数据支撑。

![image-20220729112341718](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e3531bb2722.png)

(2)在云端层：云端层汇集海量众包数据，传感器性能差异、数据格式差异等导致众包数据质量参差、类型混杂。需要有效的分析与学习方法进行数据二次加工，包括特征提取、质量优化、数据融合及场景推理等，实现无效信息过滤与有效信息提取，提高众包数据精度与可信度。实际应用中，主要利用人工智能以及大数据处理等技术，从海量众包数据中获取有效信息。如：①特征提
取方面，广泛使用的基于深度学习的日标检测、分割等机器视觉技术，基于云端强大的计算能力足够实现高质量的特征提取；②质量优化方面，图像超分辨率(super-resolution)技术增强图像与视频分辨率[49]，使低质量的众包影像数据得到显著改善；③数据融合方面，基于众源轨迹数据空间分布特征，融合海量车载轨迹数据来实现车道级道路路段几何与属性信息的自动识别5253]；④场景推理方面，语义修补(semantic inpainting)技术根据场景语义推断图像缺失区域[5456]，经图像数据修补能提高源数据质量。

## 3 智能高精地图与车路协同一体化

智能高精地图作为交通资源全时空实时感知的载体，要求区域大规模联网与信息交互以实现对静态、动态信息的有效集成与更新。日前应用场景中，通常仅依靠当前车辆车载传感器对于周边环境的主动感知作为主要地图数据来源，这显然是不够的：①数据模型方面，从传感器之外的各种来源（即被动感知）获取信息，对于提高数据模型质量至关重要，尤其对于动态及实时数据层。

动态数据层仅包含自身车载传感器直接采集获取的动态环境信息（即主动感知动态信息），无法实现对视野盲区的覆盖，且基于传感器的固有局限也无法实现视野范围内的绝对精确感知（如对交通灯信号的识别，即使使用人工智能技术也无法保证100%的检测精度)；实时数据层的路况信息主要来源于交通管理部门、道路管理部门等相关机构，缺少路上其他车辆的路况感知数据，时效性
较低，难以实时更新路况信息。②计算模式方面，“云边端”三层技术架构要求区域大规模联网联控，众包的实施策略要求足够数量的基本感知单元相互协作，实现计算任务的有效调度与计算结果的实时交互。

随着５G、V２X(VehicletoX)等现代通信与网络技术的发展,未来智能高精地图的应用场景将会是协同感知与协同精密定位技术支撑下的车 路协同一体化(如图７所示).车辆、道路、行人等 交通参与者将成为智能交通系统中的信息节点, 并通过信息通信技术实现区域联网与信息交互. 将基于传感器的主动感知与基于 V２X 技术的被 动感知数据相融合,突破自主式系统对于实时周 边环境的感知局限,实现道路全范围全天候全时 段的协同感知,提高智能高精地图质量,有效支撑 车辆感知与自定位: 

![image-20220729112609397](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e35319132ea.png)

(1)在感知层面，通过协同感知弥补感知盲区与提升感知可靠性。协同感知能从时间维度上预知附近车辆运动、交通拥堵状况、交通事故、红绿灯变换、天气预报等驾驶环境未来状态信息；从空间维度上突破单车视野限制，弥补视角盲区，感知弯道盲区、车辆遮挡盲区等可视范围外的潜在物体，辅助刻画真实的周边驾驶环境5们。实现智能高精地图与环境感知系统实时数据交互，辅助
感知系统信息获取与数据置信度验证，并按需求与规则筛选数据后实现地图的动态更新与动态建库，保证环境感知的准确性。

(2)在自定位层面，基于精准感知实现协同精密定位。目前主流的自定位技术均存在一定局限，卫星信号易受天气条件与城市环境的干扰，差分技术能有效提高精度但是成本昂贵；航迹推算容易累积误差导致较大偏移；摄像头与激光雷达易受天气条件影响[58]。依靠单一的传感器和算法很难满足实际应用的定位需求，多传感器与算法融合的方案是一种有效的解决办法[5]，然而这
种多传感器融合定位技术依赖于对实时周边环境的精准感知。协同感知技术能有效保证环境感知的准确性，通过将感知结果与智能高精地图相匹配，实现协同精密定位。

## 4 思考与建议

根据中国«智能汽车创新发展战略»,到２０２０年,标准智能汽车的路网设施、法规标准等框架基本形成；到2025年标准智能汽车路网设施、法规标准等全面形成，“人-车-路-云”实现高度协同。欧盟从互联网道路环境资源聚合与智能网联汽车两方面来发展智能交通，计划在2050年前完成目标重合。日本于2015年开展自动驾驶的静态数据调研，2016年开展动态数据调研，成立动态地图公司，对动态地图数据用例、要素内容等展开讨论，计划在2020年实现高精地图日本全覆盖。综上，预测我国未来智能高精地图发展的阶段与任务，如图8所示。

![image-20220729112733819](https://www.lovebetterworld.com:8443/uploads/2022/07/29/62e35316833c7.png)