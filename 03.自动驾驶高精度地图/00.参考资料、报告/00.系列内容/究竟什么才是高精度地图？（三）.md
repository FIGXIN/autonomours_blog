- [干货 | 究竟什么才是高精度地图？（三） | 雷峰网 (leiphone.com)](https://www.leiphone.com/category/transportation/h0z9EeZD5pC20JTz.html)

接着上次的话题，咱们讲地图在ADAS实现的技术方案以及ADASIS的工作原理。

乘着自动驾驶的这股热风，ADAS概念越来越为人们所熟知，ADAS产品也越来越普及，车厂与供应商们也都脑洞大开不断研发各种新的ADAS产品，提供越来越安全、轻松、环保的驾驶体验。例如：ACC、FCW、LKA、前车灯跟随等等。

**ADAS的实现离不开车辆上的各种如摄像头和雷达等感知传感器，但无论是多么豪华的传感器都是有其感知的局限性，或者称为感知范围。**如果能够让车辆获取到更远地方的数据，那么ADAS的功能必然可以得到增强。

如何得到远方的数据呢？

> 在目前的技术条件下，获取远方数据的方式有很多，比如**V2X技术**，通过前方车辆或道路两旁的V2X设备想车辆发送路况信息；
>
> 
>
> 又或者通过**云技术**也可以实现，从云端下发车辆收集的道路信息。但是这些方式都存在建设成本相对较高、建设周期长的问题。

这时候地图被人们发掘出来，经过导航软件的普及欧美、日本、中国的电子地图实际上基本比较成熟，由于ADAS对地图的精度要求不是很高，和普通的导航电子地图精度要求差不多，只不过需要追加一些ADAS属性，比如曲率、坡度、Heading Angle、更加精确的车道数量等属性，制作成本相对不高。地图在ADAS系统中是作为一种特殊的传感器融入系统的（Map Sensor），提供道路先验知识。

目前应用比较成功的**宝马ASR**（Adaptive Speed Recommendation），ASR在减速的区域，会提前50-300米提醒用户减速，提前提醒的距离会依据目前车速、汽车刹车速度及司机反映时间。 在有转弯（curve）的路段，要考虑路宽、车道数目、整个路况等，ASR会综合以上因素计算合理的汽车速度。

ADAS系统包括感知系统、通信系统、决策系统和控制系统，地图信息如何在车辆的各个子系统中传输。为了消除各图商、ADAS零部件供应商之间协议的差异，并且更有利于ADAS地图的推广。图商、车厂、ADAS零部件供应商联合起来成立了ADASIS Forum制定地图与ADAS系统之间的通信协议，也就是ADASIS。

ADASIS全称Advanced Driver Assistance Systems Interface Specifications，即是**ADAS的接口说明**。ADASIS定义了地图在ADAS中的数据模型及传输方式，以CAN作为传输的通道。现在DASIS Forum被划入ERTICO（ITS Europe，欧洲的智能交通组织）。

目前ADASIS已经发布了v1和v2版本。

在ADASIS v1中，系统**会根据车辆当前位置以及最终目的地，提取所有的路径规划方案，将其中最为优先的路径称为最可能路径，而其他方案为备份方案**。所有的方案都会被提取并进行重构，并最终给出选择哪条路径以及如何驾驶通过的建议，传递到不同的ADAS系统中，导致系统中传递的数据量过大，并没有真正被车厂量产，相反，越来越多的企业摈弃v1而推出了自己的通信方案。v1并不是一个成熟的协议，但验证了技术可行性。

**由于ADASIS v1的不成熟严重影响了ADASIS的推行。**所以ADASIS Forum开始讨论为什么其他企业不愿意使用ADASIS v1。最终，在排除企业内部因素之外，分析出这些企业不愿意使用v1的最主要原因在于标准过于复杂。复杂的通讯协议以及要求传输的数据过多，会让开发者在数据提取单元与重构单元上花费大量的时间与成本，尤其是在量产车型上，这显然是不被车厂接受的。因而，ADASIS Forum着手准备ADASIS v2（第二版ADASIS），着重在降低系统占用的CAN总线资源，以及使用最小原则提取并重构数据。目前ADASIS v2已经被多家车厂采用。

**宏观上ADASIS v2结构中包含以下几个部分**

- ADAS Horizion Provider：地图信息提供者，负责数据组织与发送
- ADAS Protocol：ADASIS协议
- ADAS Application（ADAS Horizion Reconstructor）：ADAS应用，负责数据接收与解析及数据的使用。
- CAN Bus作为信息传送的通道

![干货 | 究竟什么才是高精度地图？（三）](https://static.leiphone.com/uploads/new/article/740_740/201612/585b820f3ba05.png?imageMogr2/quality/90)

ADASIS v2 System Architecture

在ADASIS v2中，传输依照单路径（path）概念。也就是传递数据的时候只选择最有可能行驶的一条路径（实际上是地图上规划出来的路径），对于可能存在的备选路径，则以路径中的交叉路口（stub）来表示。每个交叉路口之间的路径称之为路段，路段被视为构成路径的基本单元，以每一个路段为单位，再进行数据的分析与利用。

![干货 | 究竟什么才是高精度地图？（三）](https://static.leiphone.com/uploads/new/article/740_740/201612/585b85af89c1f.png?imageMogr2/quality/90)

ADASIS v2 Data Model

路段上属性则通过Profile和Segment来描述。Segment描述路段大部分相同的属性，Profile则描述剩余的属性，同时对属性数据进行压缩。另外传输数据时也不是每次发送所有数据，而是查询到数据变更或有新的数据才发送。这种数据组织与发送的方式去掉了大量冗余数据，减轻了通信负荷。

最后还有Position用来实时描述当前位置。

ADAS Horizion Provider遵循ADASIS协议将以上信息发送到CAN总线上。ADAS Application（ADAS Horizion Reconstructor）选择性的从CAN总线上获取自己有用的信息，重构地图，完成自己的应用。这样一来，ADAS地图数据可以有效的传输到使用端，并且车辆改造最小，对CAN总线的影响也最小，最重要的是一切都是符合车规要求。

不过，随着地图数据量的丰富，尤其进入到高精度地图时代，以及今后ADAS或自动驾驶的需要，都会对传输的数据量和传输频率提出更高要求，这时ADASIS v2也显现出他的不足。好在ADASIS Forum也在研究ADASIS v3，以及基于车身以太网的传输方式，所以对于未来的实现方式，我们拭目以待。