- [车载导航地图格式 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/299673563)

车载娱乐系统最重要的一个功能就是导航，而地图数据则是导航的基础，下面就介绍一下车载导航地图数据的格式。

**一、地图数据格式分类**

按照地图的数字化，到中间转换和最后被使用这几个层次，将地图数据分为以下几类：

1.**母库格式**：地图的数字化，即是将实物进行数字化，然后进行存储，母库格式一般以ASCLL码来进行存储，主要是方便于编辑和保存，如TAB格式

数字化又可分为 ：路网数字化、POI数字化、文字河流湖数字化和桥梁建筑的数字化等，例如路--->link，简单路口--->node，复杂路口--->ComplexIntersection等

2.**交换格式**：数据转化，即是将母库格式转变成各种其他格式，一般都是公开格式，也是以ASCLL码进行存储，方便进行转换应用，如 MIF格式\SHP格式\GDF格式\图商交换格式（四维图新：NIMIF格式，高德：AXF格式，瑞图：RTM格式）\RDF格式

3.**应用格式**（也叫物理格式/存储格式）：数据的使用，以二进制的方式存储，主要是方便计算机（软件)能够高效统一的使用数据，如 KIWI格式\SDAL\NDS

其实我们平时说的车载导航的地图数据格式是指应用格式。而母库格式和交换格式则主要是用来修改和存储数据。

**二、地图编译**

地图的编译其实就是格式转换的过程。

为了对现实世界尽可能完整准确地体现，图商收集和制作的地图数据（**母库格式**）往往是非常充实但又繁琐复杂的，而对于储存空间和处理能力有限的汽车车机来说，这些内容是无法直接照单全收的。同时，不同的图商提供的地图数据往往都基于不同的储存格式（**交换格式**），有时候还需要加入来自于第三方的补充内容，而不同导航软件对其导航功能的设计也千差万别。所以，为了适配相应的导航软件，原始的地图数据需要经过地图编译这个环节才能最终被导航使用。在这个过程中，原始的地图数据和其他的补充内容会经过重新组织，去除冗余，并按照不同的需求压缩成各种储存格式（**应用格式**），以适应不同平台不同客户的装载使用要求。

目前车载导航地图最常用的就是NDS格式，所以一般把各种交换数据变成NDS格式的过程就叫NDS编译。

**三、NDS格式**

NDS的全称是Navigation Data Standard（导航数据标准），是一种导航数据标准格式，NDS的设计使其在数据更新、数据安全度、数据可靠性上拥有一定的优势，所以普遍应用于车规级导航产品，由位于德国的NDS协会制定和维护。NDS协会希望打造一种标准化的导航数据化格式，从而使得导航数据可以和导航软件分离，导航数据可以兼容于不同导航系统。

NDS的设计模型及其特点：

一份NDS数据可以称为是一个Database（数据库），它是通过NDS协会发布的NDS数据规格所规范好的标准数据库。这意味着，只要按照这个标准规格去生产NDS数据，得到的数据格式将是一致的。一个NDS Database可由多个Product Database（产品数据库）组成，这些Product Database可以来自不同的数据供应商，并且可以进行独立的版本控制和版本更新。每一个Product Database都可以被进一步的划分成多个Update Region（更新区域），顾名思义，它代表数据库中进行数据更新的地理范围。

在NDS数据库中，所有的导航数据都会按照不同的功能，被组织成一个个的Building Block（结构单元）。Building Block的Type（类型）定义了储存在其中的数据的功能，为了满足不同的使用场景，导航应用需要对不同Type的Building Block进行过滤和组合，比如，需要计算一条路径并显示在车机屏幕上，就需要同时调用Routing（算路）和Basic Map Display（地图显示）这两个Building Block。

在某些Building Block比如Basic Map Display（地图显示）、Routing（算路）、Trafficinformation(交通信息)等中，数据会被分割成不同的Level（层）。根据Type的不同，一个building block最多可以有16个level。Level越高，数据所包含的空间范围越大，其中所包含的数据复杂程度越低，数据量越小；而Level越低，数据的复杂程度越高，可以体现的细节也越多，数据量也相应地会更大。在实际的应用中，Level的概念可以理解为比例尺，随着比例尺的变化，地理要素会被综合，次重要的要素将被过滤掉。引入这种分层结构的优点在于，在地图显示和路径规划过程中，由于高Level的数据过滤掉了不必要的细节，从而提升了地图显示的效率，也加快了地图规划结果

每个Level的数据被划分为相同大小且没有重叠的正方形网格，称之为Tile(网格），这些Tile通常用于数据访问，及根据其地理位置确定与其相关的数据内容。在现实情况中，这些数据的内容比如道路的形状、名称、拓扑连接关系、交通限制信息等发生变化的时候，就需要对地图数据进行更新。此时，NDS数据库可以根据该要素的地理位置，很快检索到相应的Tile，然后对该Tile进行替换，对tile的操作可能就是数据表中的某一行，这种更新方式，充分利用了DBMS的特性，简化了关系的维护。