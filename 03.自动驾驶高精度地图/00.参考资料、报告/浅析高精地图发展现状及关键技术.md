- [箩筐分享｜浅析高精地图发展现状及关键技术_腾讯新闻 (qq.com)](https://new.qq.com/omn/20220223/20220223A036JR00.html)

随着国家对智能汽车创新发展战略任务的推进，作为其关键保障技术的高精度地图在近几年已经成为测绘等多个领域的研究重点。针对当前高精度地图综述性理论研究相对缺乏的问题，本文从高精度地图数据结构、数据生产和功能应用3个方面，对高精度地图相关的主要研究内容及现状进行阐述和总结。从数据结构层面，高精度地图描述内容可划分为静态地图数据和动态地图数据，其中静态地图数据是当前制图的重点；考虑数据生产的层次性，分别对高精度地图的生产模式、生产流程和具体的技术方法进行了分析，认为专业部门指导结合众包是数据生产的基本特征；以自动驾驶中的匹配定位和导航规划为代表，总结了高精度地图在应用方面的关键技术。最后，对高精度地图未来发展的方向进行了展望。

关键词 ：高精度地图；数据结构；数据生产；功能应用；自动驾驶

**全文概述**

高精度地图(high-precision map)，又称高精地图、自动驾驶地图，是指具有高精度、地图元素更加详细、属性更加丰富、面向机器人(智能车)使用的地图[1-2]。传统的电子地图误差可达10 m，一般不含三维信息；而高精度地图数据误差通常在0.2 m以内且包含三维信息，不仅能够辅助智能车完成匹配定位，还为自动驾驶系统的规划层提供了车道级别的信息，进而帮助智能车实现厘米级的路径规划[3-6]。

文献[7]认为，未来测绘科技应重点关注的方向之一是测绘产品由面向人服务到为智能机器人服务的变化发展，其中，以智能车为代表的智能机器人应得到测绘科技的保障和支持，而高精度地图就是构建机器人“心像地图”的数据基础[7]。2016年特斯拉发生的多次撞车事件，使得人们重新认识到了高精度地图对于保障自动驾驶安全的重要意义。目前普遍认为，实现L3级别以上的自动驾驶必须引入高精度地图[8-9]。高精度地图不仅在智能车驾驶领域得到应用，未来还有可能作为数字基础设施的一部分，在智慧城市、规划和物联网等多方面应用发挥作用[10]。受新冠肺炎疫情影响，京东、顺丰、美团、苏宁等企业纷纷将自己的无人配送车/机投入一线，京东无人配送车自2020年2月6日开始在武汉街道穿行，为医院运送医疗物资。目前，国内已有20余家单位获取了甲级测绘资质，以便在高精度地图领域争夺发展先机，其中不乏互联网巨头及其下属子公司[11]。

尽管近些年高精度地图概念持续火热，但其研究依然存在如下几个问题：从文献分析角度来看，科普性宣传报道文献较多，总体研究的深入性与其知名度不匹配；技术、应用研究较多，理论研究相对较少，其发展驱动力主要来源于公司、企业；具体细节层次研究较多，围绕高精度地图的综述性研究较少。因此，本文围绕高精度地图的发展现状，尝试从高精度地图数据结构、数据生产和功能应用3个方面，详细阐述当前的研究内容和关键技术，从而对高精度地图相关的研究进展进行梳理和总结。

## **高精度地图数据结构**

高精度地图与传统导航电子地图的区别见表 1。尽管高精度地图这一概念的提出仅有10年[12]，高精度地图数据结构的发展却有一定的时间基础。它源于人类驾驶中使用的导航电子地图，受到自动驾驶等需求的推动而不断丰富其内容。目前普遍认为，高精度地图的逻辑数据结构应包含两部分：静态地图数据与动态地图数据，如图 1所示。

表1 高精度地图与传统导航电子地图对比

![img](https://inews.gtimg.com/newsapp_bt/0/14549392863/1000)

图1 高精度地图数据结构

### **1 静态地图数据**

静态地图数据是高精度地图数据的基础，构成了高精度地图内容的骨架，是当前制图的重点。相比于一般的导航电子地图，主要特征是对道路进行车道级的精细刻画，增加了对道路附属设施及车位等泊车辅助设施的描述。受自动驾驶公司和协会的需求推动，静态地图数据结构定义衍生出众多规范，国外主要有国际导航数据标准协会(Navigation Data Standard Association, NDS-Association)发布的Open Lane Model[13]，德国自动化及测量系统标准协会(Association for Standardization of Automation and Measuring Systems, ASAM)管理的OpenDRIVE标准[14]等。国内主要包括全国智能运输系统标准化技术委员会计划归口的智能驾驶电子地图数据模型与交换格式[15-16]，以及部分公司对于国外规范的本土化和改进，如Apollo OpenDRIVE标准[17]，EMG HD Map[18]等。

从传统导航地图到车道级辅助驾驶地图发展的角度，静态地图数据可粗略分为传统标准地图与车道级驾驶辅助地图新增部分[19]；从由主到次的描述层次考虑，将其划分为车道及道路网、路面标线及道路周边设施。本文结合文献[1]的分类方法，考虑分类内容的关联性及均衡性，认为静态地图数据包含道路网、车道网、道路附属物等，如图 2所示。

![img](https://inews.gtimg.com/newsapp_bt/0/14549392862/1000)

图2 静态地图数据组成

**(1) 道路网：**以传统二维导航电子地图中基础道路数据为基础，添加三维信息等用于更精确地描述高精度道路的几何形态和关系。除了记录不同道路及路口的关系之外，还需描述道路与车道、道路与附属物的关系，在物理数据模型中表现为外键关联。道路的构成要素包括道路基准线、基准线连接点、路口等。

**(2) 车道网：**用于精确描述车道的几何位置信息和相互关系。车道的构成要素主要包括车道基准线、车道连接点等。从纵向看，不同路段的车道通过车道连接点形成直接关联关系，是宏观车道级路径规划的基础；从横向看，同一路段的车道通过道路外键形成间接关联关系，是局部动态车道变换的基础。

**(3) 道路附属物：**用于辅助安全智能驾驶的各类实际地物设施，种类较多。这里的“附属物”是指抽象的道路网与车道网无法描述的内容，可分为路面标线类和道路设施类，其中路面标线主要包括路面纵向标线、路面横向标线、停车位标线等，道路设施包括信号灯、路灯、各类交通标牌等。

### **2 动态地图数据**

为了实现车辆完全自动驾驶，仅仅依靠高精度的静态地图数据还远不够，因为其缺乏对真实场景的描述。一方面，车辆传感器(如摄像头、雷达等)需要主动感知车辆附近的行人、车辆及信号灯等信息；另一方面，传感器主动获取的信息种类相对有限，并且由于复杂行驶环境可能导致视野盲区的出现，车辆需要依赖其他方式获取场景信息。因此，有必要引入动态地图数据，扩展传感器的视野，保证自动驾驶的安全性、平稳性、舒适性。动态地图数据与实时道路环境密切相关，其数据内容相对复杂，此处依据获取途径将其粗略划分为车辆传感器直接感知数据和车联网接入数据。

**(1) 直接感知数据：**主要是指GNSS、IMU、雷达和摄像头等传感器设备采集的车辆自身定位及附近路况的数据。此外，文献[20]提出直接感知数据还应包括声、光、电磁数据，作为全息地理场景构建的重要内容。

**(2) 车联网接入数据：**主要是指车辆通过车联网接入的与实时路况相关的信息，用于弥补感知数据内容和形式上的缺陷。接入数据包括附近其他运动物体的状态和轨迹，用于辅助局部行驶决策；还包括行驶路线上的交通限制与流量信息，用于辅助全局导航规划。

此外，文献[21]认为静态地图数据还应涵盖感知数据(传感器采集的部分原始数据，如点云和栅格地图)，以适用于特殊的定位方案；文献[1]结合HERE公司提出高精度动态地图的设计理念，提出智能的高精度地图还应提供驾驶记录数据集和驾驶经验数据集，使自动驾驶系统具有自学习、自适应功能，以满足用户个性化的需求。

由此可见，不论是静态还是动态地图数据，目前均还处于一个快速发展的阶段，因此会造成研究人员对于高精度地图数据内容不同角度和层次的理解。例如，在以往的大多数文献研究中，高精度地图数据一般是指静态地图数据，因为其更“符合”传统地图的描述特征。另外，BOSCH公司等提出了局部动态地图(local dynamic map, LDM)概念，融合了天气、路况及静态地图数据构建驾驶环境的动态信息[22-23]。从这个角度来看，高精度地图是动态的，这也反映了地图由静到动的发展方向。例如，文献[24]认为传统地图是对现实世界的间接建模，难以刻画和存储地理实体的动态变化；文献[25]认为地理场景是未来地图学的核心要素，而场景信息对于以无人驾驶车为代表的机器是必需的。因此，高精度地图数据应当同时包含静态和动态地图数据。

## **高精度地图数据生产**

### **1 高精度地图生产模式与流程**

高精度地图数据生产任务主要是面向上文所述的静态地图数据，包括初次数据生产和后续数据更新。由于生产数据量大，即时性要求高，因此数据生产一般采用由地图部门或公司主导和数据众包相结合的方式。融合用户众包数据在内的多源数据是确保高精度地图实时性的保障，也是业内公认的高精度地图生产的未来形态。例如，高德目前已建立多元立体的数据更新体系，除了专业数据采集队伍之外，还通过下属众包队伍和结合用户原创内容(user generated content，UGC)、政府等数据来源，从而保证自身数据的高鲜度、高精度和高丰富度“三高”特性[26]。文献[3]还提出了高精度地图生产运营的一体化闭环模式，即在不久的将来，车辆可同时作为高精度地图的消费者和提供者。目前，尽管这种结合众包的模式能有效降低生产成本，但依旧存在一定问题，比如，如何合理分配调度采集设备、保证数据质量及结合边云计算从多源数据提取有效信息等[27]。

虽然采用不同的数据生产技术，其主要流程基本一致，包括原始数据采集、数据预处理、检测识别、质量检验和地图发布。原始数据一般由各种传感器获取，主要包括GNSS、IMU位姿、激光雷达点云、街景摄像和遥感影像等数据类型；数据预处理是指冗余数据去除、数据格式调整及坐标系转换等；检测识别是指基于包含人工智能技术在内的各类检测方法提取各类地图要素；质量检测是指在正式交付和发布之前，对相关数据进行逻辑关系检查、数据精度检查等。目前，已有多家地图公司依据上述流程制定了高精度地图生产方案，如Apollo地图生产开放式平台[17]、易图通高精度停车场数据制作平台[18]、地平线NavNet视觉众包地图解决方案[28]等。

### **2 高精度地图生产技术方法**

高精度地图生产采用的技术方法由数据采集设备及原始数据源直接决定。类似于生产模式“专业+众包”的特点，其技术方法主要可分为传统生产方法和非传统生产方法，如图 3所示。

![img](https://inews.gtimg.com/newsapp_bt/0/14549392864/1000)

图3 高精度地图生产技术方法

**(1) 传统生产方法：**主要包含移动测绘车生产、无人机航测和大比例尺地形图测绘。其中，移动测绘车生产是最为常用的生产方式，需要搭载激光雷达、GNSS/IMU位姿传感器、全景相机、车轮测距器设备，优点是作业效率高、道路信息采集全面，缺点是价格昂贵。移动测绘车以三维点云数据为主，主要解决点云地图构建和目标检测问题[29-30]。文献[31-32]分别针对开放区域道路主干、地下停车场、高速公路等场景下的地图构建提出了相应的策略；文献[33-34]分别从过滤非地图元素和提取地图特征元素2个方向具体阐述了目标检测的改进方法。此外，无人机航测与大比例尺地形图测绘也是高精度地图常用的数据生产方法，但由于存在申请资质相对困难、作业周期长等缺陷，因而常作为辅助更新方法[35]。

**(2) 非传统生产方法：**主要是指利用非传统传感器和测绘方式生产的数据提取高精度地图要素的方法，以遥感影像和轨迹数据为代表。尽管遥感影像运用于地图数据生产已久，但由于精度不足等问题一直无法用于高精度地图数据生产。随着影像分辨率进一步提高，基于人工交互采集部分要素数据已成为可能，文献[36]等探讨了利用高分辨率遥感影像提取车道线的可行性与主要流程。此外，随着轨迹数据急剧增加，挖掘其中的有用信息并应用于地图生产也是一种新方法，文献[37]依据城市道路中双线道路相互平行距离固定的特点，利用改进的LCSS算法搜索位于同一路段的不同轨迹并推理出车道位置。

高精度地图数据的海量性与数据质量要求的精确性决定了未来高精度地图数据必要走“专业+众包”模式下的多源数据融合生产道路，即必须要通过专业的标准控制数据质量，也需要通过众包及时完善和更新数据。相比于一般地图数据生产，高精度地图还会面临更多政策与数据安全的问题[38]，因此建立完善协调的机制会相对困难。

## **高精度地图功能应用**

自动驾驶是高精度地图最主要的应用场景，即以高精度地图作为基础进行准确环境感知，并安全高效地控制和引导车辆由出发地驶达目的地。因此，围绕高精度地图功能应用的研究主要集中于两个方面：基于高精度地图的匹配与定位，基于高精度地图的导航与规划。

### **1 高精度地图匹配与定位方法**

尽管基于高精度地图定位的方法因数据本身种类不同而各异，但其基本思路是一致的。即首先基于GNSS/IMU等方式初步确定车辆的概略位置，然后利用车辆当前得到的周围环境信息与已有地图中的数据(含精确位置信息)进行对比、匹配，从而得到车辆当前时刻的位置[39]。依照定位方法实时采集和匹配数据种类的不同，具体可分为两类方法：基于点云数据的定位和基于提取特征的定位。

**(1) 基于点云数据的定位：**是指通过比较当前扫描点云和地图点云确定车辆相对于地图的姿态，其是目前最常用的定位方式之一。点云匹配方法可进一步分为几何匹配、基于高斯混合模型匹配和基于滤波匹配3类[21]。文献[21]对基于点云的定位系统进行了详细阐述，并依据是否需要预先选取点集对应点，分别提出了对应的点集匹配算法从而实现点集匹配。由于采集原始点云存在数据量大等问题，一般均需要对初始数据进行预处理，例如生成占据栅格图，用于降低存储量、抽取有用信息及方法适配等。

**(2) 基于提取特征的定位：**是指采集数据或匹配数据采用其他形式，如利用图像作为即时采集数据或利用匹配数据包含的特征(矢量轮廓、特征点等)进行匹配计算[40]。文献[41]利用单目相机提取车道线等特征，基于先验知识实现车道线检测和跟踪；文献[42]提出一种利用路面标志(包括路面直行箭头、右转箭头、井盖等)构建高精度视觉地图的方法，采用基于GPS匹配的初始定位、基于路面标志检测的路标级定位和度量级定位相结合的多尺度定位模块实现车辆精确定位。

此外，在已有不同版本高精度地图数据的情况下，还可利用自动配准方式实现不同时刻或不同设备采集的高精度地图数据的融合[43]。高精度地图作为智能车的“道路记忆”，结合已有的基于信号(如GNSS、5G)与基于航迹推算(如IMU)的定位技术，将推动定位技术逐步向有机融合的方向发展，即能够根据不同的环境智能选择定位方式，在确保绝对安全的情况下不断提高定位效率[44-45]。

### **2 高精度地图导航与规划方法**

高精度地图导航与规划是指在传统任务路径规划的基础上，考虑车道模型并设计代价函数，得到制定目标下的最优车道导航路径和行驶策略。对于自动驾驶，不仅要依据高精度地图生成行驶路线或轨迹，还要不断结合感知控制和修正智能车实际行驶路线，这要求导航路径的生成或刷新必须在一定时间阈值内。

结合传统道路导航分层路径规划的思想，实现车道级路径规划有两种策略[46-47]：采用分层寻路的方式，借鉴成熟的道路级搜索方法，先实现宏观最优的寻路，再通过道路和车道之间的对应关系，完成车道级的路径规划。这种方法适合大范围的路径规划，能有效提高计算效率，但需要对道路、车道及中间关联层进行建模。文献[48]提出了一种基于车道驾驶态势的拓扑构建和路径规划方法，以lanezone作为核心要素实现二次规划，如图 4所示。直接生成车道级有向图并在此基础上进行最优路径搜索，适合用于小范围或局部路径规划。文献[49]采用A*算法进行车道级的静态路径规划，根据起点与终点在园区范围内规划出一条符合交通行驶法规的最优行驶参考路径。

![img](https://inews.gtimg.com/newsapp_bt/0/14549392860/1000)

图4 基于车道驾驶态势的拓扑构建

在进行路径搜索时，一般以距离作为代价函数考虑因素，或结合道路设计以总行驶时间最短为目标的时速限制，这属于理想静态条件下的规划。文献[50-51]还考虑了交通流路口数量等因素对于驾驶时间的影响，提出了基于动态路阻的路径规划算法。此外，在路径规划完成后，还需生成行驶轨迹并引导智能车按照规划路径平稳行驶[52]。