- [UWB定位原理详细介绍_北京华星智控的博客-CSDN博客_uwb定位技术原理](https://blog.csdn.net/qq_35699674/article/details/124873953?spm=1001.2014.3001.5502)

超宽带（Ultra Wide Band）简称UWB，和我们熟悉的WIFI、蓝牙技术一样属于通信技术的一种，UWB是一种无线载波通信技术，它不采用正弦载波，而是利用纳秒级的非正弦波窄脉冲传输数据，其所占的[频谱](https://so.csdn.net/so/search?q=频谱&spm=1001.2101.3001.7020)范围很宽，右图是一种典型的正弦载波信号图。

UWB这种技术有什么特点呢？

1.UWB系统结构实现简单；2.具有高速的数据传输能力；3.功耗低；4.安全性高；5.多径分辨能力强；6.可用于精确定位等特点。

UWB的主要指标如下：

频率范围：3.1GHz~10.6GHz；

系统功耗：1mW~4mW；

脉冲宽度：0.2ns~1.5ns；

重复周期：25ns~1ms；

发射功率：<-41.3 dBm/MHz；

数据速率：几十到几百Mb/s；

分解多路径时延：≤1ns；

多径衰落：≤5dB；

系统容量：大大高于3G系统；

空间容量：1000kb/m2

UWB技术的主要指标如图所示，接下来我们介绍UWB测距的原理，UWB测距我们主要采用**双向飞行时间法**，我们简称为**TOF测距法**（two way-time of flight）。UWB模块从启动工作开始会生成一条独立的时间戳 。假设标签A在其时间戳上的TA1时刻发起请求通信的脉冲信号，基站B在自己的TB1时刻收到标签A发送的脉冲信号，然后基站B又在TB2时刻发送一个响应性质的信号，该响应信号被标签A在自己的时间戳TA2时刻接收。这样就可以计算出脉冲信号在两个设备之间的飞行时间，从而确定两个设备之间的距离D，计算距离D的公式如图所示，𝑫=[(𝑻𝑨𝟐−𝑻𝑨𝟏)−(𝑻𝑩𝟐−𝑻𝑩𝟏)]∗𝒄 其中c为光速
![在这里插入图片描述](https://img-blog.csdnimg.cn/10df8d75655549f29b7dc1918a6139a9.gif#pic_center)

TOF测距方法属于双向测距技术，它主要利用信号在两个异步收发设备之间飞行时间来测量设备间的距离。因为在可视的环境下，基于TOF测距的方法随距离呈线性关系，所以测量结果会更加精准。如图所示，我们将发送端发出数据包T1和接收回应的时间T4间隔记为T14，接收端收到数据包T2和发出回应的时间T3间隔记为T23，那么数据包在空中单向飞行的时间T可以计算为：T=（T14-T23）/2。

![在这里插入图片描述](https://img-blog.csdnimg.cn/aea745edc50a4f66b63bc579c70ba623.gif#pic_center)

有了测距的基础，有了测距的基础，下面我们就来介绍UWB的定位原理，通过上面测距原理的介绍可知，当标签和多个基站测距的时候就可以获得多个基站和标签的实时距离，然后我们以基站为圆心，基站到标签的距离为半径画圆圈，3个圆圈的交点就是标签此时的位置，如图所示。在实际的应用中3个圆圈因为测距误差是很难相交于一点的，只会相较于一个区域，这就是定位的误差，目前我们的定位精度可以做到10到30厘米。
![在这里插入图片描述](https://img-blog.csdnimg.cn/880346281ba241909fbe7af2cbd671ef.gif#pic_center)

UWB定位标签坐标如何计算呢，如图所示，定位基站的坐标基站1为x1、y1、基站2坐标为x2、y2、基站3坐标为x3、y3，基站1、2、3在安装部署时位置固定且坐标已知，所求定位标签的坐标为Ro，x0、y0。利用三个圆形方程能够计算出唯一的交点，计算公式如图所示，这样我们就可以计算出标签的实时位置坐标了。

![在这里插入图片描述](https://img-blog.csdnimg.cn/762b240d7aeb41cebe7dbf12ba2757d4.png#pic_center)

下面介绍我们的UWB定位系统，如图所示为我们一种典型的定位系统架构，由定位标签，定位基站，数据传输和数据中心组成。基站需要根据具体场景设计部署数量和安装位置，基站可以选用有线，无线传输方式将数据传输到数据中心，数据中心的定位系统应用软件进行数据解析计算获得系统中标签的实时位置，同时进行各种应用功能的展示。

![在这里插入图片描述](https://img-blog.csdnimg.cn/b997b24e1d5a46be84c0ae2a975f00e5.png#pic_center)