- [万字长文解析自动驾驶高精度定位 (qq.com)](https://mp.weixin.qq.com/s/7UsEZoebGtyH1Mmea5xrpg)

**自动驾驶定位模块是自动驾驶系统必不可少的模块之一，但对其精度的要求一直没有一个严格的标准。前段时间有幸阅读到Localization Requirements for Autonomous Vehicles这篇文章，为更好地进行学习自动驾驶定位技术并进行相关工作，本人在同事的帮助下完成了自己对全文的阅读与翻译，以后将逐步更新自己对这篇文章的解读，欢迎大家一起讨论。**

## 摘要

自动驾驶汽车需要精确的位置和方向信息用于感知、路径规划、控制和通常的安全操作，并且这些信息的获取应不受天气因素和交通条件的影响。实现自动驾驶汽车的前提是满足这些定位要求。本文从安全完整性等级开始，在探讨现今道路安全需要改进处的同时，定义了运行过程中每小时发生故障的概率。此处比较了航空和铁路对定位完整性级别的要求，发现两个要求的数值相近，运行时每小时发生故障的概率都为$10^{-8}$。本文随后定义了几何问题，目的是了解汽车所在车道的信息并判断所处车道级别。本文提出了警报限制（Alert limits，AL）的概念，并根据美国道路几何标准（车道、宽度、曲率和垂直间隙）和允许的汽车尺寸，得出了95%(2$\sigma$)精度要求下的纵向，横向和垂直定位误差范围（警报限制）。乘用车在高速公路道路上行驶时，要求横向误差范围为0.57 m（0.20 m，95％），纵向界限1.40 m（0.48 m，95％），垂直界限为1.30 m（0.43 m，95％），且的姿态界限为1.50度（0.51度，95％）。而在园区和城市街道上，道路几何形状使得横向要求更加严格，横向，纵向误差范围都为0.29 m（0.10 m，95％），定位方向要求为0.50度（0.17度，95％）。

## 引言

自动驾驶系统对定位精度和可靠性的高要求是前所未有的。如下文所示，自动驾驶汽车要求在高速公路上运行时定位级别为分米级，在园区、城市或居民区街道上运行的定位级别接近厘米级。这些要求只为了一个目的：让车辆准确感知自身所处的车道。在水平方向上，精度要求由纵向（前后）和横向（左右）组成。在垂直方向上，要求车辆必须知道在多级别车道上自身所处的车道级别。在任何给定的时间内，对车辆每个方向上位置误差最大值进行估计，这些估计值被称为保护级别，如图1所示。在每个方向上，可以确报运行安全的最大保护级被称作警报限制。这些警报限制被设计为变量，对我们来说他必须足够小才可以在任何时间下都可以确保车辆在它自身车道内。在任何给定的时间内，如果保护级别高于警报限制，将不确定车辆是否行驶在对应车道上。这些界限将通过与车辆尺寸（长度和宽度）和道路几何标准（路宽和曲率）有关的函数表达。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkpS1TicKO6pJ4u8ueDbibmZdVMNuicyFiaNLtw7tLSfbZ6P8XqcpwuhGjGQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

表1列出了上个世纪关于定位取得的进展以及分米级精度定位的挑战。在20世纪初期，最先进的定位工具被用在海上，包括测量星星纬度的六分仪和用于测量经度的船用精密计时器的精确机械钟。结合起来，这些传感器在海上可以提供一个大约3Km精度的位置信息。第二次世界大战时，空中导航要求在任何天气下可用并且要具有实时性，从而加速了无线电在新兴的空中导航作业的应用。随着地基无线电灯塔的发展，定位精度大约可以达到500m，但这个精度实现的前提是必须在该基础设施的限制范围内。在20世纪60年代，第一个卫星导航系统——Transit上线了，该系统由美国海军运营，其精度可以达到25m，达到北极星弹道导弹潜艇的定位要求。这个系统只有少数的几个卫星在近地轨道上，所以需要一个小时或者更多时间去获取位置信息。在20世纪90年代，全球定位系统（GPS）开始上线及运营，现在可以在任何开阔的场地实时的提供精度为1-5m的位置信息。图3清晰地指出了在上个世纪每隔30年定位精度的增长程度。这些都预示着21世纪20年代将是实现分米级定位的第一个十年。并且也表现了我们关注的一个问题，就是在这个趋势下，定位精度也将满足运行自动驾驶汽车的定位需求。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkjIJ74ic3Stz3rt716FeezuEfYK4wRtV7mf4yFxTzwxFWZq2zTnVjyIg/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkaEHxgMQic0aDVLAyW8cseXznLd4or7xlo1bVs10MrIuGvvTNia1BB6cw/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

图2展示了汽车工程师协会(SAE)对按照对车辆操控的程度对自动驾驶进行了分级。L0表示无自动化，驾驶员对车辆所有行为进行操控，大约在20世纪70年代的所有车辆几乎都属于这个级别。L1表示在操纵油门、制动和转向方面添加了一些对驾驶员辅助的功能，但仍要求驾驶员监视和控制车辆，这些功能包括巡航控制和ABS等。L2为部分自动化，驾驶员负责监控驾驶场景，系统负责一些动态驾驶任务包括横向和纵向运动（转向、加速和制动）。当驾驶驱动系统无法工作时驾驶员必须立刻接手动态驾驶任务。一些L2的的系统包括但不仅限于特斯拉2014年发布的Autopilot和通用2017年发布的Super Cruise系统。L3表示有条件的自动化，意味着在特定的情况下，车辆可以运行在设定的的范围(ODD)内。这个系统负责监控场景和包括一些横向和纵向运动（转向、加速和制动）的动态行驶控制。当系统确定其无法完成任务或者超出设计的运行范围（ODD）时，在这个时间范围内，通知驾驶员接手动态运行控制以完成运行任务。L4指高度自动驾驶，即在设计好的运行范围（ODD）内，系统可以实现所有的动态控制.这个运行模式可能仅限于一些包含适当支持的区域(例如地图支持并且连续性好的区域）,而且对天气等条件的要求更加严格。在2018年，一些研究已经有很大的进展，例如Waymo在可以享受共享服务的小型自动驾驶货车方面取得了很大进展。L5级是完全的自动化，系统在所有区域和所有条件下都可以执行所有的动态控制。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkxibK86nkqrYANCZN8yEmiaLeusR3bye8aBBb5dbvTw1ttzFvgwY0bO4A/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

Basnayake等人之前对车联网应用的位置精度要求进行了严格细分，将其分为在哪条道路（<5米）、在哪条车道（<1.5米）和在车道的哪个位置（<1.0米），这都取决于所需求的功能或者操作。国家高速道路安全管理局（NHTSA）在V2V交流会上规定了一部分联邦机动车标准，报告了位置精度在1.5米（1$\sigma$或68%）时姑且相信可以提供保证安全应用的车道级信息。Stephenson提供一种高级驾驶辅助系统（ADAS）用于提高驾驶导航性能要求（RNP），使得汽车定位要求得到了更进一步的发展。Stephenson添加了一类关于控制车辆的功能，其定位要求精度优于0.1米。

在本文中，我们专注于自动驾驶的汽车，并讨论了可以控制汽车行驶条件下的精度要求。在这种情况下，本文中的自动驾驶汽车更多应用于L3+系统，当然本文内容也可以应用于L2。研究这些要求的流程如图4所示。我们首先通过建立目标安全级别来定义问题的统计信息。通过民航局的发展方法，目标安全级别用于为系统的每个元素（包括定位）分配完整性风险。接下来我们通过定义问题的几何方式去建立位置区域。这些将通过一个有关道路几何标准的函数表示，例如车道宽度和道路允许的车辆尺寸等。这些分析都是在美国道路和乘用车标准上的，这些标准也可应用在其他地区和车辆上。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_png/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkb9YVfxGbQaWGFSWTyuv7OOQiaREgfjzSkwTlJ8fYGBia4vxKSVDyibB5Q/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

在安全性上规范定位系统时，通常将瞬时估计的位置最大误差称为保护等级。图1表示了我们对整车的横向、纵向和垂直方向上的保护等级定义。我们定义了一个盒子作为道路汽车的逻辑分解方式，也有其他人已经提出了一些基于椭圆的方式。一些传感器和系统例如可以识别车道线的摄像头可以更好地解决横向信息，还有一些传感器例如轮速里程计可以解决纵向信息。允许的横向，纵向，和垂直保护等级的硬性界限称为警报限制，警报限制将通过几何的方式去定义。我们将通过这些信息去判定我们所处的车道。如果保护级别大于警报限制时我们将不能判断车辆是否在车道范围内。总体来说，系统对定位精度的要求是通过完整性级别和几何边界来定义。

定位系统的安全界限有几点性能上的要求，分别为精度、完整性和可靠性。可靠性是指发生保护等级高于警报限制的频次。如果保护等级一直在警报限制之下，系统的可靠性为100%；如果某些时刻保护级别在警报限制之下，那么系统可靠性受到限制。对一个系统来讲，当自动驾驶模式运行时，定位必须是稳定可靠的。另一方面，定位可靠性也是判断能否启用自动驾驶功能的指标之一，因为定位可靠性可以确认车辆是否行驶在制定的设计范围内。这项功能的实现还要依靠高精度地图或者其他可以支持的基础设施。

完整性是指真实误差超出我们预估的保护级别和警报限制的频次。超出的这些值和危险信息都会被反馈到汽车的决策和控制系统。这些信息可以代表系统发生故障的概率，通常指运行期间每小时发生故障的概率。一般的，我们根据不同的道路安全等级提出不同的完整性需求。

通过与商用航空达到的安全水平比较，我们将确定一个可以代表今天道路安全发展水平的级别。我们也将完整性编号与汽车行业和其他行业现有的安全标准设计联合起来。图5和图6总结了保护级别、警报限制、可靠性、误导信息和危险的误导信息之间的关系。在本文中这些都将进行进一步论述。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkPlsuvI94zTibZ3gD13zoozND5CHgNxYAt8ofucIt6a2miaA5Xf2FtSOg/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkPna09pKqkOMHPrbqKlpaUhHJwA26ick67Xel3AicHftZzZ7F9iaNcDIkQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

精度通常在第95百分位处（2$\sigma$）进行测量，是由系统的典型性能描述。这是定位误差统计分布的一个体现，其中警报极限通常定义了操作到所需的完整性级别所需的最大允许误差，该误差定义了统计分布的尾部。因此，准确性是衡量名义性能的指标，完整性是衡量极限的指标。这种关系如图4所示。

如今，没有一种单一的定位设备可以满足在所有天气、道路和交通情况下提出的安全运行要求。今天，福特汽车公司的自动驾驶研究平台使用复杂的传感器融合策略用来进行定位和感知，如图7所示。这其中包括激光雷达、超声波雷达、摄像头、全球卫星定位导航系统接收机和IMU,这其中每一部分都可以自成为一个系统。因为没有一个技术可以独自满足在所有情况下的运行要求，所以必须通过智能化的手段结合多种传感器以达到运行要求的完整性等级。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkicQU1FIHcvViczNdRuNXpAe34v8ZBMbAWSM6zbm4JI7cGytSddXwRU3w/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

尽管在图7中展示了很多可以满足研究发展要求的传感器融合策略，但是在量产时传感器的成本问题成为第一个挑战。分米级精度需要在板载传感器上进行交互、资源计算和储存，并且需要基础设施例如高精度地图和GNSS对其纠正。这样的基础设施对精确定位的可靠性也会影响自动驾驶的功能实现。最终，准确的车辆位置也只在特定语境中使用，所以先验地图是主要的难题。我们将把本文的范围限于定位，因为地图本身就是一个巨大而复杂的领域。当地图要求涉及到定位时我们也会做相关说明。

## 完整性

2016年美国发生34439起致命车祸，导致37461人死亡。以每英里去计算，平均每1000万英里就有1.18的人数致死（死亡率为$1.18×10^{-8}$ 死亡人数/英里）。车祸原因估计值如下：94%($\pm$ 2.2%)来自于驾驶员失误；2%（$\pm$ 0.7%）来自于电器和机械组件故障；2%（$\pm$ 1.3%）来自于路积水、积冰和积雪等路况影响；还有2%($\pm$ 1.4%)的不明原因。总体上来看，在美国道路事故死亡人数中：95％来自道路交通，2％来自铁路，2％来自水路交通运输业，其中1％来自航空业。从20世纪60年代以来，虽然每英里公路的死亡人数减少了五倍，但近十年来死亡人数依然保持恒定，没有下降趋势。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkUGg0nUgII0TzM0LFKQsic32Obe6QXFtk8UCmHIekhbYcfHvVicETibaVA/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

图8对比了在美国1960年到2015年交通事故的致死人数和航空事故的致死人数。航空事故平均每英里造成$2.50×10^{-10}$人死亡，在每英里的条件下比道路事故安全性提高了两个数量级。自动驾驶旨在通过传感器、芯片和硬件融合的方式替代驾驶员执行一些操作，以提高道路安全性。第一代虚拟驾驶系统如果被社会接受的话将代替驾驶员，且相较于驾驶员来说安全性更高。目前所发生的事故中，只有2%的原因是车辆部件故障，而有94%的原因是人为因素造成的，如果能用虚拟驾驶系统代替驾驶员并且以同样的标准要求，那么将极大程度上提高驾驶的安全性。这也就意味着自动驾驶道路车辆的系统要求必须达到民航局的水平，且需要通过严格的地面及线上训练，以及需要基础设施的支持和完善的标准。

做这个分析的起点是通过虚拟驾驶系统将道路安全性提高100倍。民航局的安全性水平是每公里的事故致死人数为$2.5×10^{-10}$，这也是我们想要达到的标准。以道路车辆每公里的致命碰撞做单位，我们用死亡人数除以致命碰撞，在2016年这个值为$\frac{37461}{34439}=1.09$，保守的来说，达到了TLS对道路车每公里碰撞率的目标水平$2.0×10^{-10}$.，将此转换为系统级别要求，我们必须同时检查历史数据和自动驾驶汽车架构，这也是民航业的常用方法。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkrhwQcjPay6ON1UK56eZnohEDyMSfdic8BrwgfqqWEeZoE4cibCm2JEibQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkYAfmJ3mMwe4zaDWdSSvQavfJvWWcNVe3hhPIflcPKuJLF2P18G0o1w/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

图10展示了自动驾驶车辆的一些系统故障，包括了模拟驾驶员模块和其他车辆模块。此外，它显示了单个元素之间分配完整性风险的一种可能，其最终目标安全等级为$TLS = 2×10^{-10}$（致命碰撞/英里）。为了获得这种分布，我们必须从TLS开始倒退工作，首先我们必须考虑一个事实，即并非每个故障都会直接导致致命危险。某些故障可能只会导致车道偏离或轻微撞车。信息技术方面，这种致命事故与事故发生率$P_{F:I}$的比例为1:10,图9显示了原因。该图显示了商用航空和公路运输的致命事故与报告的事故总数的年比率。航空显示为1:14，汽车1：172。这并不意外，因为飞机具有更高的运行速度，以及坠机导致的严重后果。根据这些历史数据，我们保守地选择了汽车致命撞车与事故的比率，即$P_{F:I}$ = $10^{-2}$（致命撞车/故障），这意味着每100起事故中有一个致命撞车，其他事故可视为车道偏离或小崩溃。

我们选择的致命撞车事故率是保守的，因为此数字代表致命事故占所有事故总数的比率， 警方报告的撞车事故,不一定是所有发生的事件,即实际上发生的事故可能更多。商用航空关于坠机的数据一般是真实可靠的，因为他们有十分严格的报告要求.在汽车领域，并不是所有的事情都会被报告。据统计，有60%的仅财产损失事故和24%的伤亡事故没有向警察汇报。另外，这个数据体现了每100起警察报道的事故中，只有一起事故与道路的功能性和类型匹配，例如洲际和地方城市道路。因此，我们认为，估算值与大多数驾驶情况处于一个数量级。

下一步是将可接受的完整性风险级别分配给车辆系统$P_{veh}$和虚拟驾驶员系统$P_{vds}$。这些与安全TLS的目标级别和致命碰撞事故比率$P_{F:I}$ 有关，如下所示：$$ TLS = P_{F:I}（P_{veh}+ P_{vds})\tag{1} $$ 为了达到TLS = 2×10$^{-10}$（致命碰撞/英里数）的标准，我们将为虚拟驾驶员和车辆系统分配相同的完整性风险。计算结果为$P_{veh}= P_{vds}=10^{-8}$（故障/英里），并反映在图10中。为清楚的表达，将这些值代入公式（1）即可得到所需的结果：$$ \begin{aligned} TLS &= P_{F:I}（P_{veh}+ P_{vds})\\&=10^{-2}\frac{致命碰撞}{故障数}（10^{-8}+10^{-8})\frac{故障数}{英里数}\\&=2×10^{-10}\frac{致命碰撞}{英里数}\tag{2} \end{aligned} $$

对历史数据的检查表明，目前的车辆系统故障率$P_{veh}$非常接近$10^{-8}$故障/英里。这可以通过警察报告的撞车事故，NHTSA估算的因车辆系统造成的撞车以及行驶的车辆行驶距离来估算。在2010年至2015年期间，平均每年警察报告的美国道路发生撞车事故有580万起。这些致命事故故障的总和，由致死故障分析报告系统得出，人身伤害和财产损失事故由美国国家汽车抽样系统——一种通用的估计系统估计得出。目前，NHTSA估计大约有2%（$\pm$ 0.7%）的事故由于汽车系统的故障。通过这种方式，并根据2010-2015年美国3005829000000英里的实际数据，我们可以获得一个关于历史失败率的估计值$\hat{P}*{veh}$: $$ \begin{aligned} \hat{P}*{veh}&=\frac{580000000事故}{ 3005829000000英里}×2×10^{-2}\&=3.8×10^{-8}每公里故障率 \tag{3} \end{aligned} $$ 上面的使用表明每个值都有不确定性来源，但这表明车辆系统处于建议的数量级，表明即使尚未达到$10^{-8}$故障/英里，但很可能会达到。为实现虚拟驱动程序系统所需的完整性风险，$P_{vds}$需要结合其子系统。在我们的案例中，我们只关注定位。定位将需要有较低的失败概率，因为他要满足虚拟驱动程序系统的各个单元，这包括感知，定位，规划，和控制过程中的软硬件故障。图10显示了虚拟驱动程序系统的组成元素以及定位在这个系统中的重要性。定位的输出是规划的输入，而规划的输出是控制的输入，因此定位误差会传播到下游。图10展示了一种关于完整性风险分配给所有虚拟驱动程序子系统的可能性，且其中定位目标为$P_{loc }=10^{-9}$（故障/英里）。该图假定下游任何给定点的故障都是上游输入故障与给定子系统故障的共同导致的。$P_{loc }$通常称为定位系统输出危险的误导性信息的概率（如第一部分所述）。为了获得关于每小时运行失败次数（更常见的单位）方面的信息，我们首先需要确定车速范围。美国的最高速度限制是在德克萨斯州以每小时85英里（137公里/小时）的速度行驶。在下面，我们将考虑安全气囊展开的最低速度，该速度相当于10 mph（16 km / h）。这些速度给出以下范围：$$ \begin{aligned} P_{loc }&=10^{-9}\frac{故障数}{英里}×（10-85）\frac{英里}{小时}\\&\approx10^{-8}\frac{故障数}{小时}\tag{4} \end{aligned} $$

在对定位系统的分析中，我们将检查$10^{-8}$（故障/小时）的运行所允许的完整性风险。这是对整个定位系统的要求，它本身可能由几个子系统进行比较，如各传感器GNSS、IMU、相机、LiDAR、地图以及其独立定位算法。这是在车辆要运行在所有天气和交通情况下必须要做的步骤。ISO 26262中用于汽车功能安全的标准是10次即时故障（FIT），对应于运行十亿小时发生10次故障或运行时$10^{-8}$（故障 /小时）。这个结果符合我们的预期目标。这是汽车安全完整性等级（ASIL）D，是当前汽车的最高标准。定位系统的误差分布可能不是高斯分布，但以高斯术语考虑时，（1-10$^{-8}$）为99.999999％或大约5.73σ。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkue3nTicyDmVhMaV8fU1ASx4IbSUH0D14zVLgHeibK1QicCz44SPHwSktQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

表II给出了在海上、航空和铁路运行时，对特定操作的定位要求并进行比较。在此，我们指定了95％的定位精度，警报极限（为确保安全操作而对位置误差进行严格限制）以及可接受的系统故障或完整性风险的概率。在航空领域，给出的操作应对于机场精度起飞与着陆。与150秒失败概率相关的时间标度对应于该操作花费的时间。带有垂直制导的定位器性能（LPV 200）使飞机下降到跑道上方200英尺（61 m）的高度时决策，飞行员可以决定降落飞机或四处飞行并采取其他方式。CAT II / III完全落地，因此由于系统是全自动的，可接受的故障率相差两个数量级。而海上行动的速度较低，这就是为什么要在3个小时内指定完整性。可以证明，每3小时$10^{-5}$次故障大致相当于每150秒$10^{-7}$次故障的飞机精确进场要求。铁路有不同的沿线和跨线要求。沿线需求描述了火车沿着给定轨道的位置，称为火车控制。跨线要求用来区分火车在哪个轨上，这称为平行轨判别。轨道辨别要求最为严格，因为轨道间的间距比同一条线上火车之间的间距要紧。两种铁路运营都要求运行时每小时发生故障次数在$10^{-9}$次内。对于虚拟驱动程序本地化系统，由于虚拟驱动程序系统本身将按照ASIL-D标准进行设计，因此我们的目标是每小时出现$10^{-8}$次故障或更高。尽管此目标完整性级别在其他运输行业中优先，但是所需的警报限制却没有。在接下来的几节中，我们将显示公路车辆所需的警报极限为分米，比表II中的任何一个小一个数量级。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkoqHCv9g7bic8cLVAJ3GWU37arSw7Kb1OS13F38rEnHDd8Hk1icGicLiboA/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

根据运行时每小时的故障概率，我们将其与不同行业的安全标准进行比较。表III按危险类别显示了安全完整性等（SIL）的典型细分。最严格的级别（SIL-4）发生则代表会发生多人丧生的情况。等级较宽的SIL-0代表失败的后果仅仅发生一些不满或不适的情况。表IV列出了航空，铁路，通用可编程电子产品和汽车安全完整性等级的近似跨域映射。在铁路上、航空和可编程电子产品，最严格的级别是与可能导致多人丧生的故障相对应的水平，并且与每小时$10^{-9}$次故障的完整性水平相对应。在铁路和电子领域，这是SIL-4。在航空领域，这是设计保证等级（DAL）A。汽车行业最严格的要求，即汽车安全完整性等级（ASIL）D实际上更接近SIL-3和DAL-B或每小时$10^{-8}-10^{-7}$次故障。我们的目标是定位系统每小时发生故障的次数在$10^{-8}$次以内，这个值在ASIL-D范围内。虚拟驱动程序系统还将按照ASIL-D标准进行设计，因此可以得出以下结论：诸如定位之类的子系统需要遵守该标准。

## 水平要求

自动驾驶汽车的水平定位要求取决于其物理尺寸和道路几何形状。目标是在典型操作期间将车辆保持在其所在的车道中。图11a列出了横向和纵向定位需求。从规模上看，这显示了在美国高速公路的一条直线上使用中型轿车（例如福特Fusion）所期望的横向间隙。这使得横向需求和纵向需求似乎是分离的，但这并非完全如此。图11b依次显示了这些方向之间的耦合，因此，道路曲率会导致横向和纵向要求之间的耦合。此处介绍的分析将集中于美国的标准，其中将对典型的车辆宽度$ω_{v}$，车辆长度$l_{v}$道路宽度$w$和道路曲率半径$r$进行假设。此结果也可用作对其他地区的道路和车辆标准进行类似的分析。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkpCsNLdOWRCntEJWDdJswfib9MmMibjFO2lEERWCxmtMB0w6yr4rvofvQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlk8AbHEkIiczqHzibQbNVQXzhaFzDfyyibRDmmcnPYqpBIS9d4kcaUAVNSA/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkNeS04MiaDj7vPEM4mPNBQHd3RGrksEGsdaXTmhkAlk1JjoSJlzXpMkQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

我们将从车辆尺寸开始。表V汇总了美国道路车辆尺寸标准，反映了不同车辆类别的最大尺寸。表VI中给出了一些示例乘用车的详细分类。从小型车到大型6轮“双轨”皮卡车，虽然后者在技术上属于单辆卡车（SU）类别。如将要讨论的，并不是所有的车辆都适用于所有道路，因此在制定车辆的定位要求时必须谨慎，例如，半卡车并不意味着要在住宅街道上行驶。因此不应将要求设置为此类车辆无法行驶的道路。在这里，我们将重点放在乘用车上。

接下来是道路几何信息。道路曲率是帮助涉及行驶速度的函数，并基于侧向摩擦系数$f$和超高$e$的极限值。超高是指人行道在通向一条水平曲线并贯穿整个水平曲线时的旋转，旨在通过抵消因跟踪曲线而产生的横向加速度来帮助驾驶员。另一个重要因素是道路宽度，通常在标准高速公路上为3.6米，在有限的住宅街道上则为2.7米。道路宽度和曲率是定义定位要求的元素，以确保车辆知道其在哪条车道并且达到第二节中定义的可靠性水平。表VII中已为乘用型车辆装配了每种道路类型的极限值。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkw80vicyZOq46QQSrmiaiazHscgzHib4wibX7ajj1QgaOVFWpCOFpuOkcGmQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

道路宽度和曲率与车辆周围的内部边界框之间的关系如图12所示。毕达哥拉斯发现了横向和纵向边界之间的关系：$$ \begin{aligned} （\frac{y}{2})^2+(r-\frac{w}{2}+x)^2 =(r+\frac{w}{2})^2\tag{5} \end{aligned} $$求得$x$的值为：$$ \begin{aligned} x=\sqrt{(r+\frac{w}{2})^2-（\frac{y}{2}）^2}+\frac{w}{2}-r\tag{6} \end{aligned} $$



![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkibVAlygNChNGyA9ZuWlWL1LXia7CGqicqEWiaAKKcibMD08iaicV21gagMo9w/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

这使我们能够在给定道路几何形状的情况下确定边界框的尺寸。反过来，给定车辆尺寸，就可以得到横向和纵向误差（警报极限）的最大允许值。横向和纵向警报限制是一个折中方案，它们之间有一定的预算，这取决于道路类型。横向定位要求耦合到纵向通过道路的允许曲率和宽度。例如，在高速公路上，允许的道路曲率最小，道路相当笔直。这允许在过分限制横向要求之前，边框的长度在纵向上较大。最终，选择长度$y$固定宽度$x$，反之亦然，最终产生的横向和纵向警报极限与车辆长度$l_{v}$和宽度$ω_{v}$相关，如下所示：$$ \begin{aligned} Lateral AL(横向警报极限)&=（x-ω_{v}）/ 2\Longitudinal AL(纵向警报极限)&=（y-l_{v}）/2\tag{7} \end{aligned} $$ 如图13所示，使用公式（6）和（7），乘用车极限的设计，需利用高速公路的横向和纵向警戒极限之间的权衡值。这表明，当纵向要求放宽到几米时，横向要求变为更严格。然而，最终必须在高速公路上的合理公差内找到可以进出坡道AL范围，所以考虑车辆操作时应有更严格的纵向要求。这也受到一些其他情况的限制，例如车辆可能协同操作并通过通信渠道（V2X）共享其位置的情况。在本设计研究中，我们将纵向AL设定为小于小型车辆的长度的一半或1.5米，完全在合理的高速公路跟随距离（即使有两个车辆协同操作的综合误差）和车辆正确找到坡道/坡道的能力范围之内。利用该纵向设计原则，我们使用图13确定所需的横向AL为0.72米。表VIII总结了其他类型车辆的横向警报限值。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlk5PtRlDlnFtV5iaKawwEE8B3ScLsDFQ735gCDzJw6YW6jPQ68Zn2Ubiag/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

在高速公路上，侧向支配着要求，因为曲率的耦合可以忽略不计，即使在最大皮卡车上也只有1厘米。因此，在高速公路上，纵向警报极限在某种程度上是设计参数。在园区或城市街道上，车辆在急转弯时，曲率耦合会导致两个方向的要求都更加严格。图14显示了在横向和纵向警戒限值之间的权衡，用于园区/城市街道几何形状与乘用车限值。在此图中，我们将分别分析限制在3.3米宽曲率为10米和3.0米宽的道路上曲率为20米的两条道路，还显示了单车道回旋处和急转弯的结果。尽管表VII显示某些道路可能窄至2.7米，这是一个例外，不是常规，我们认为它也限制了基于此数字的要求。此外，曲率较紧的道路通常具有较宽的车道，以适应单车道回旋处和急转弯死胡同的设计建议。因此，当忽略2.7米宽的车道时，这些要求仍然很保守。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkyT7c637VuJTvYeLhIa1YPatrZO6icBIcAQCQo1qrUiakUv9VNKHr9fiag/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)



对于城市街道，图14显示了横向和纵向警报限制之间的权衡。考虑到限制车辆通过90度转弯的情况，逻辑上似乎两个方向对正确完成操纵都同样重要，因此，警报限制应在两个方向上均等地平衡。图14显示最大乘用车的横向和纵向警报极限的均等点为0.33米。其他车辆类型汇总在表VIII中。就规模而言，在城市环境中运行时，当停止线要求范围在0.3至0.6米（12-24英寸）之间，其最小宽度也为0.33米。

## 垂直要求

在美国，建议的最小垂直间隙为4.4米（14.5英尺）。该标准将允许的垂直高度（包括载荷）控制在4.1米（13.5英尺）和4.3米（14.5英尺），尽管状态有所不同。因此，如要可靠地确定我们在立交桥上的哪个道路平面，我们必须知道我们的位置距此间隙高度的一部分。将我们的垂直位置限制为该间隙的一半是不够的，因为这会在多层道路或立交桥上留下潜在的歧义。这种立交桥情况的一个例子是亚利桑那州凤凰城的“迷你堆栈”，如图15所示。该多级立交桥位于10号州际公路，51号州际公路和202号环路的交汇处。为确保确定性，最小垂直游隙的三分之一应足以解决车辆所处道路高度的不确定性。因此，所需的垂直警报限制（VAL）为：

$$ \begin{aligned} VAL=\frac{最小垂直间隙}{3}=\frac{4.4m}{3}=1.47m\tag{8} \end{aligned} $$

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlk3vuGhOCicYZOK6P1qyzIL3n4GDibtfiblibyFJGrguibCTJiaxJ9TrgkSp8Q/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

在此，垂直警报限制是与车辆无关的（即不取决于车辆尺寸），因为它仅用于确定道路高度。这与第三节中提出的水平要求不同，后者致力于将一定尺寸的车辆保持在车道范围内。这反映在表VIII中，该表总结了几种车辆类型的横向，纵向和垂直警报限值和包括高速公路/立交点和当地道路在内的不同道路运行状况。

应该注意的是，这种垂直定位分析有一些局限性。由于此分析被视为高度自动化系统的远期目标，因此这里的假设是车辆将有一系列地图数据来帮助解决位置问题。在此期间，其他应用程序（例如V2X）可能没有地图。在V2X场景中，垂直需求的限制因素是轨迹估计，以确定主要其他车辆是否与目标车辆在碰撞路径上。也就是说，高度误差会使坡度分离的交互作用看起来像是具有碰撞可能性的坡道交叉。这是一个更复杂的分析，超出了本文的范围。

## 航向要求

到目前为止讨论的水平和垂直警报限制是所有误差的集合。如本节将要讨论的，这将包括定位和姿态（定向）方面的错误。车辆姿态通过侧倾角$θ$，俯仰角$\phi$和航向角$ψ$来描述。这些参数中的误差将使位置保护级别框绕车辆旋转，结果为产生更大的有效保护级别。图16中显示了这种效果。该图显示了航向和位置中的错误如何映射到更大的组合保护级别区域，以及了解姿态误差的重要性。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkb8wM7To4VBRbm1SPbvFEWiasODp9x79xUJF1QPHZ4oicdbfVOUoqMMiaQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

这种影响导致要求有可接受的误差，包括侧倾角、俯仰角、航向角和位置。我们将从将位置和方向的误差映射到组合保护级别开始。假设车辆周围有一个宽度x，长度y和高度z的框（遵循图12的表示法），则通过以下欧拉序列映射侧倾角$\pm \delta\theta$，俯仰角$\pm \delta\phi$和航向角$\pm \delta\psi$的最大误差：$$ \begin{aligned} x^{'}=R_{3}(\pm \delta\psi)R_{2}(\pm \delta\theta)R_{1}(\pm \delta\phi)x\tag{9} \end{aligned} $$ 其中x是盒子的尺寸$[x; y; z]^ T$反映位置保护等级，$x^′$是过高箱的尺寸$[x′,y′,z′] ^T$表示从定位和方向获得的保护级别，$R_i$是以下旋转矩阵：这是一个行中矩阵的示例 : $$ R_{1}(\pm \delta\phi)x= \begin{bmatrix} 1 & 0&0 \ 0 & \cos(\pm \delta\phi)&-\sin(\pm \delta\phi)\ 0 & \sin(\pm \delta\phi) &\cos(\pm \delta\phi) \tag{10} \end{bmatrix} $$ $$ R_{2}(\pm \delta\theta)= \begin{bmatrix} \cos(\pm \delta\theta) & 0 & \sin(\pm \delta\theta)\ 0&1&0\ -\sin(\pm \delta\theta)&0&cos(\pm \delta\theta) \tag{11} \end{bmatrix} $$ $$ R_{3}(\pm \delta\psi) = \begin{bmatrix} \cos(\pm \delta\psi) &-\sin(\pm \delta\psi)&0\ \sin(\pm \delta\psi）&\cos(\pm \delta\psi)&0\ 0&0&1\ \tag{12} \end{bmatrix} $$ 位置保护等级$x$与横向$\delta_{lat}$，纵向$\delta_{lon}$和垂直$\delta_{vert}$定位中的误差有关，如下所示：$$ x= \begin{bmatrix} x\y\z \end{bmatrix} + \begin{bmatrix} w_v+2\delta_{lat}\ l_v+2\delta_{lon}\ 2\delta_{vert} \tag{13} \end{bmatrix} $$

我们在最坏情况的误差范围，通过设置$\cos(\pm\delta\cdot)\rightarrow \cos(\delta\cdot)$和$\sin(\pm\delta\cdot)\rightarrow \sin(\delta\cdot)$使所有项相加而获得的。根据需要，方向误差也必须很小，即$\delta\theta$，$\delta\phi$和$\delta\psi$将远小于1弧度（57度）。这使我们可以做一个小的角度近似来简化这些方程，其中$\cos(\delta\cdot)\rightarrow1$和$\sin(\delta\cdot)\rightarrow\delta\cdot$ 。乘除而忽略高阶项会导致以下结果：$$ x^\prime= \begin{bmatrix} 1&\delta\psi&\delta\theta\ \delta\psi&1&\delta\phi\ \delta\theta&\delta\phi&1\ \end{bmatrix}x \tag{14} $$ 结合公式（13）和（14）以及我们由图1给出的保护级别定义（现在，$Lat.PL =（x^\prime-w_v）= 2，Lon.PL =（y^\prime-l_v）= 2$，并且$VPL = z^\prime/2$）根据位置和方向误差给出联合保护等级：$$ \begin{aligned} Lat.PL&=\delta_{lat}+(\delta_{lon}+l_v/2)\delta\psi+\delta_{vert}\delta\theta\ Lon.PL&=\delta_{lon}+(\delta_{lat}+w_v/2)\delta\psi+\delta_{vert}\delta\phi\ VPL&=\delta_{vert}+(\delta_{lat}+w_v/2)\delta\theta+(\delta_{lon}+l_v/2)\delta\phi \end{aligned} $$

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkcSgoIyfe0sV4jM9RXuibLpqsSQkoBb5WfGX1caPIORXaUbiaL3KJPkJg/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)



为了了解以上方程式的比例，图17显示了表VIII中给出的高速公路预警限值的横向，纵向和垂直保护水平随姿态误差的变化。假设每个方向上的角度误差相同，并表明这些误差使保护等级提高多块。最终设计选择位置和方向误差预算的分配，将在第七节中进行更详细的研究。

## 更新频率

连续的定位更新之间的时间间隔（等待时间）取决于车辆速度和道路几何形状。更新间隔越长，定位更新之间的距离就越大。例如，在100 km / h（62 mph）的速度下，10 Hz可使定位更新间隔2.7米，这个数值已经达到本地街道的车道宽度值。在130 km / h（80 mph）的速度下，连续更新之间的10 Hz产生3.6米，这是高速公路车道的宽度值。车速之间的关系、采样率和采样之间的距离在图18中给出。位置更新的滞后直接导致定位的进一步不确定性，主要是在纵向上。因此，必须对这种滞后进行管理，以使其不会成为主要因素。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkywroeDYIXEvLQla10TibWoHEXXbdfrnZUcdib4icgJMFSbu6uoKWPT4fw/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

第三节表明，高速公路运营要求纵向保护水平为1.5米。在最高时速130 km / h（80 mph）的高速公路上，100 Hz导致连续位置更新之间的间距为0.36米，而200 Hz则为0.17米。这加大了我们对此的要求，因为我们希望这种不确定性的影响只是我们保护水平的一小部分。200 Hz的更新对应于连续点间距，即我们选择的警报极限的十分之一，并且似乎是最合适的。对于定位技术而言，更新200 Hz可能看起来很高，其中Lidar和GNSS通常以10 – 20 Hz输出位置更新，但是当与IMU结合使用时，可以达到200 Hz。最终，该要求是整个定位系统的要求，而不是单独每个部分的要求。可以根据速度来限制更新速率，在低速行驶时放慢速度以节省计算量和功耗，并扩大范围。例如，在高速公路上以100 km / h（62 mph）的速度时，在150 Hz时可以达到纵向警报极限的十分之一。但是，如第三节所示，在当地街道上运行时需要更严格的要求。即使在以15公里/小时（10英里/小时）的速度行驶在当地街道急转弯的上，我们也要求警报极限为0.33米，在此速度下，此数字的十分之一相当于125 Hz。因此，对于公路和当地街道运行而言，100 Hz或更高似乎是合适的更新速率。

## 设计定位要求

在本节中，我们将总结定位需求的设计过程。这平衡了位置和姿态上的容许误差。结果总结在表IX和表X中。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlkEkjpnppnKhb60oNeNciaTD7RnQnx6FY3bnibd3ibeb1rUcqYiaYib8aEHRw/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

我们的设计方程式基于（15），我们需要保护等级≤警报限值。这样可以保证我们在所需的车道内和适当的道路平面上达到操作所需的安全程度。这些设计公式如下：

$$ \begin{aligned} \delta_{lat}+(\delta_{lon}+l_v/2)\delta\psi+\delta_{vert}\delta\theta&\leq Lat.AL\ \delta_{lon}+(\delta_{lat}+w_v/2)\delta\psi+\delta_{vert}\delta\phi&\leq Lon.AL\ \delta_{vert}+(\delta_{lat}+w_v/2)\delta\theta+(\delta_{lon}+l_v/2)\delta\phi&\leq VAL \tag{16} \end{aligned} $$

在上面，我们的保护等级是根据第五部分中的位置和方向误差编写的。这些耦合方程式必须满足第三部分和第四部分中提出的约束条件，这些约束条件描述了总体上允许的横向，纵向和垂直误差（警告限制），这些也取决于道路几何形状和车辆尺寸。这些警报限值汇总在表VIII中。我们最受水平分量的约束，尤其是横向约束，因此我们将其用作驱动约束方程式。假设每个方向的角度误差都相同，即$\delta\theta$=$\delta\phi$=$\delta\psi$=$\delta\lambda$,(16）的横向分量简化为：$$ \begin{aligned} \delta_{lat}+(\delta_{lon}+\delta_{vert}+l_v/2)\delta\lambda\leq Lat.AL \tag{17} \end{aligned} $$

第三节表明，对于乘用车限制，高速公路行驶时所允许的纵向和纵向误差之和大约为车辆长度$l_v$的一半，因此一个好的经验法则是：$$ \delta_{lat}+l_v\delta\lambda\leq Lat.AL\tag{18} $$由于乘用车的极限长度$l_v$为5.8米，而高速公路的横向警报极限设置为0.72米（请参阅表VIII），因此，可接受的定向误差$\delta\lambda$必须小于0.1弧度（5.73度），否则我们会迅速超过这个限制。定向误差$\delta\lambda$的合理的选择似乎是1.5度（0.03弧度），如果按$l_v$比例缩放，则得到0.15米的改善。这使得需要的横向定位误差$\delta_{lat}$极限为0.57米，以满足我们的综合要求。

城市街道有更严格的要求。尽管纵向要求更加严格，但公式（18）仍是误差缩放比例的合理近似值。由于在这种情况下，乘用车的横向警告极限值为0.33米（请参阅表VIII），因此与高速公路设计编号相比，我们需要将其提高近三倍。这使我们大约有0.5度的定向误差$\delta\lambda$，当按$l_v$进行缩放时，会有0.05m的误差改善。这给我们留下了0.29米的允许横向位置误差$\delta_{lat}$。

以设计方程式（16-18）作为指导，根据表VIII中给出的代表总组合的警报限值的几何边界，可以生成表达位置和方向误差的边界。为了重载符号，我们还将这些位置和方向边界当做警报极限制。使用这些数字，我们可以通过假设高斯分布来获得95％精度要求的近似值。尽管定位系统的误差分布可能不是高斯分布，但以高斯术语考虑时，$(1-10^{-8})$即99.999999％ 或大约5.73$\sigma$。这使我们在评估定位技术时，可以根据95％的准确度性能（1.96$\sigma$）等指标来评估应该寻找哪些统计信息。换句话说，当以确定的$(1-10^{-8})$程度确定定位要求的硬错误范围（警报限制）时，我们将采用95％（1.96$\sigma$）的精度，通过1.96$\sigma$/ 5.73$\sigma$ = 1 / 2.92可以得出这个数字大约为1/3。对于横向高速公路定位要求，该关系在图19中直观显示。最终，将对定位误差的分布进行其他考虑，包括输出的平滑度以及与控制车辆的乘客舒适度相关的其他参数（例如加速度和加速度率）。

![图片](https://mmbiz.qpic.cn/sz_mmbiz_jpg/DKNEl8KjAvicIPXUJQKYOdgGSaE9rnDlk2IRmnCg78uunYMibh8Wjcw4SXjibnTLwXG21IRWh1TseFDfhibZ3wfiaHA/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1)

将迄今开发的所有信息汇总在一起，可以通过道路类型和运行情况来分解需求。表IX总结了高速公路和交汇处的要求，涉及从中型到大型“双轨”皮卡车的各种车辆。这包括位置和姿态警报限制，95％的准确性以及第二节中提出的完整性要求。表X总结了乘用车在园区/城市街道的要求，尽管速度较低，但道路的几何形状较为狭窄，因此对定位的要求更加严格。

这些结果表明，高速公路行驶时对横向精度的要求在0.2米（95％）范围内，这一结论与车道偏离预警系统的要求相匹配。纵向和垂直要求更宽松，为0.4米（95％）范围，每个方向的指向要求为0.5度（0.01弧度)(95％)。园区/城市街道上的操作要求横向和纵向精度在0.1米（95％）的范围内，指向要求为0.17度（3弧度)(95％)。

## 结论

为了广泛部署下一个数量级的精度要求，自动驾驶汽车的定位要求作为代表显得尤为重要。在此，根据车辆尺寸，道路几何标准和目标安全级别，在准确性，完整性和延迟方面提出了定位要求。完整性风险分配利用了民用航空中采用的方法，在这种方法中，类似的定位要求以每小时运行$10^{-10}$次失败的概率得出。结合道路几何标准，对不同道路类型和运行提出了要求，对于在高速公路上行驶的乘用车，要求的横向误差界限为0.57 m（0.20 m，95％），纵向误差界限为1.40 m（0.48m，95％），垂直方向误差界限为1.30 m（0.43 m，95％）以及在每个方向上1.50deg（0.51 deg，95％）的姿态角误差极限。在城市街道上，道路几何形状对定位要求的要求更加严格，其中需要0.29 m（0.10 m，95％）的横向和纵向误差范围，而方向要求为0.50 deg（0.17 deg，95％）。

应该强调的是，这些要求并非针对一种特定的定位方法或技术，而是对于多传感器融合后的定位系统。另外，在所有天气和交通条件下系统运行时，必须同时满足95的精度要求和安全完整性的要求。仅通过车辆测试无法证明所需的完整性水平，在这种情况下，必须结合测试车队在驾驶合理条件下的获得的数十年数据去获取。

因此，创新的认证解决方案可能是必要的。此外，此处提出的定位要求是关于世界各地的道路和车道数据。因此，这些要求是针对地图的。相对于全球参考WGS-84基准，该图还将具有其自身的不确定性$\sigma_{map}$。车辆在全局框架$\sigma_{global}$中的定位不确定性，相对于地图相对位置的定位不确定性$\sigma_{relative}$与地图本身相对于全局框架的不确定性$\sigma_{map}$之间的关系如下：$$ \begin{aligned} \delta^2_{global}=\sigma_{relative}^2+\sigma_{map}^2 \tag{19} \end{aligned} $$

对于潜在的许多地图供应商之间的地图交互来说，将地理参考良好的地图绑定到全球基准（例如WGS-84）将很有必要。这些地图可以使用调查级的设备和后处理程序制作，其误差可能比实时车辆定位要求要小得多。

这里介绍的定位要求是基于限定道路几何形状。这为今后基于操作和其他约束的定位要求发展提供了参考。这些几何约束代表最极端的情况。使用先验的高度详细的环境地图，可以知道道路的几何形状，因此可以即时调整定位资源以满足需求，甚至即使是地图本身中的一个图层。实现这些要求代表着传感器和算法开发以及多传感器融合的挑战以获得安全操作所需的可靠性水平。涉及激光雷达、毫米波雷达和照相机的某些依赖于先验地图的技术可以给出地图相对位置。其他诸如GNSS则具有全球绝对位置。将这些技术和其他技术结合起来，选择最适合所需自主操作水平的技术以确保安全操作的完整性的方式，是摆在面前的挑战。