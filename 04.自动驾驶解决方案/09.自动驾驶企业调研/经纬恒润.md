- [北京经纬恒润科技股份有限公司 (hirain.com)](https://www.hirain.com/)

## 1 高级别智能驾驶

### 1.1 单车智能解决方案

经纬恒润基于SOA模式设计的整车电子电气系统架构，自主开发了AI环境感知、多源信息融合、高精定位、智能决策、路径规划、车辆动力学控制等软件算法，以及车规级智能驾驶域控制器、远程通讯控制器、车身域控制器、以太网网关等多款硬件产品，同时强化了功能安全和信息安全机制，形成了具备自主知识产权的智能驾驶系统，最终为客户提供特定场景下的智能驾驶单车智能解决方案。	

#### 1.1.1 基于SOA的自动驾驶整车架构

**概述**

​    随着车辆智能化、信息化、电动化和服务化的不断深入，车辆电子电气架构开发模式遇到了巨大的挑战。在新一代智能网联汽车整车架构开发中，需要由传统的以“功能集成为中心”的开发模式，向以“服务化为中心”的开发模式转变。经纬恒润通过多年的技术积累和研发实践，运用面向服务的架构（Service Oriented Architecture，SOA）设计思想和理念，打造可持续集成、灵活配置和持续升级的自动驾驶车队乃至整个运营系统，可为客户提供面向封闭区域运营的完整自动化解决方案。

**自动驾驶整车架构介绍**

​    为了满足不同业务服务场景的需求，经纬恒润持续实践基于SOA的自动驾驶车辆开发模式。SOA模式自动驾驶整车开发关键技术主要包括：

- 服务设计开发流程及方法
- 高性能计算平台开发
- 区域控制器/域控制器开发
- 高带宽、灵活的通信设计
- 基础软件平台开发及应用
- 多传感器融合及AI技术应用
- 应用软件/服务的全生命周期管理
- 整车功能安全
- 整车信息安全
- 整车OTA技术应用
- 整车数据的智能分析及深入挖掘
- SOA车型的测试验证
- 面向服务开发的工具链构建

 

![img](https://www.hirain.com/repository/image/8a456474-3318-4e49-9bf3-4fbac77299e0.jpg)

 

 

​    经纬恒润通过智慧港口项目实践以及服务客户SOA新车型开发，在上述关键技术上均有系统解决方案。

**运营系统方案介绍**

​    为满足客户封闭区域运营的需求，经纬恒润进而主导开发了封闭区域自动驾驶运营系统，主要包括：运营管理系统、自动驾驶车队、远程驾驶系统、远程诊断系统、数据分析系统、OTA系统、数字孪生系统和业务对接系统。系统根据运营作业需求，通过服务化和模块化的设计，协同配合，实现了任务作业的自动化。

 

![img](https://www.hirain.com/repository/image/87b8d5f5-66f6-4306-9fe4-e464100412bd.jpg)

 

​    以智慧港口集装箱码头运营为例，系统可实现：

- 自动作业任务分析
- 自动驾驶车队智能调度
- 自动驾驶车队作业任务自动执行
- 远程驾驶系统随时关注和接管极端运营场景
- 独特的系统安全方案提供分层安全防护
- 智能化的V2I、V2V等V2X功能应用
- 车队远程故障诊断及预警
- 自动运营数据分析和数据看板
- 基于数字孪生技术的策略优化
- 基于OTA技术的车队功能持续升级

#### 1.1.2 功能安全与信息安全解决方案

**概述**

​    具备高级智能驾驶辅助系统或特定区域内无人驾驶功能的智能汽车已经由预研阶段逐渐发展为规模化应用。自动驾驶车辆不仅适应满足复杂的功能需求和运行场景，还需具备足够可靠的功能安全和信息安全设计，从而降低E/E系统失效和黑客攻击引发的人身伤害和财产损失的风险。
​    经纬恒润的安全解决方案从业务需求出发，系统性分析自动驾驶车辆的运行场景与边界，评估自动驾驶车辆出现失效或遭受异常攻击造成的人身安全与财产安全风险，制定整体的安全目标。经纬恒润为自动驾驶车辆提供纵深的安全设计方案，从E/E架构、网络拓扑和单ECU安全设计等方面采取多重安全设计，全方位提升自动驾驶车辆的安全性。

![img](https://www.hirain.com/repository/image/8274b731-cab7-4eed-b9f7-093bb81bc0a6.jpg)

 **功能安全解决方案服务**

- 满足Fail-Operating的顶层架构安全设计方案

 面向特定区域的无人驾驶设计

 替代车内安全员实现车辆异常接管

 实现感知-控制-执行的全链路冗余

 涵盖供电和通信链路的冗余设计

 确保自动驾驶车辆能够及时发现故障，并激活备份链路继续控制车辆

 保障车辆出现单点故障和共因失效时，自动驾驶车辆仍具备车辆运动控制能力

 

![img](https://www.hirain.com/repository/image/0db795ac-8995-4e26-8eb7-b5ee91bc1bcd.jpg)

 

- 面向L4智能驾驶的功能安全需求开发

​    基于自动驾驶车辆的运营需求，评估失效风险，逐步定义整车及零部件的安全需求，然后将整车安全需求自顶向下逐步分解，保障安全需求一致性。

 运行场景库开发：全面汇总和扩展自动驾驶车辆的运行场景库

 相关项定义：明确自动驾驶车辆的运行需求、功能边界与系统交互

 危害分析与风险评估：评估整车失效危害与风险，定义顶层安全目标

 功能安全概念：结合系统架构设计，定义和分配各个部件的安全需求

- ECU功能安全开发

 承接来源于整车的功能安全需求

 开发满足功能安全需求的软件架构和硬件架构方案

 满足功能安全的硬件失效率、开发流程与方法的要求

 自底向上，逐步实现各层级的功能安全需求

- 恒润功能安全解决方案特点

 面向高阶智能驾驶功能的安全需求开发与设计

 立足整车功能，系统性地开展安全需求协同与分配

 安全需求与逻辑需求交互开发，确保二者的一致性

 通过需求设计、系统设计、部件设计等环节的安全设计，提升自动驾驶车辆整体的安全性

**信息安全解决方案服务**

- 信息安全的纵深防护解决方案

​    针对自动驾驶车辆整车功能开展安全分析工作

 相关项定义：详细绘制信息流图，明确评估对象逻辑和边界

 威胁分析与风险评估：采用STRIDE方法全面评估资产威胁类型，评估整车脆弱点，明确整车及零部件信息安全要求

​    在多个层级部署信息安全措施来防御网络攻击

 车云安全：车云安全通信，双向认证，云端实时监控车辆安全状态

 车载网络安全：检测车辆外部端口连接状态，防御对外端口的恶意攻击,监控车载网络的恶意攻击，并及时记录和上报

 ECU安全：提升ECU防护能力，防御非法篡改、DOS攻击

![img](https://www.hirain.com/repository/image/8377d5b1-7a51-49af-862f-856ae45ebd03.jpg)

 IDPS+SIEM（入侵检测及防御系统）

 覆盖车载CAN和以太网的报文注入、异常诊断、DOS、端口扫描等多种入侵形式

 毫秒级识别和抑制网络攻击，及时黑客攻击影响

 实时上报黑客攻击状态至云端，实现远程监视和配置管理

![img](https://www.hirain.com/repository/image/0db29101-db40-4112-a70f-47c5d610895a.jpg)

- 恒润信息安全解决方案特点

 实现纵深防御，抵御云管端等多重网络安全攻击
 具备异常攻击的实时监控和上报功能，提升自动驾驶车队整体安全性

#### 1.1.3 AI感知算法

**概述**

​    经纬恒润致力于人工智能（AI）技术研发及其在汽车电子领域的落地，为解决自动驾驶汽车在复杂现实环境中的感知和定位等难题提供解决方案。基于汽车电子领域的多年技术储备，经纬恒润以车规级运算平台为载体，通过对激光雷达、摄像头、毫米波雷达、差分GNSS、高精地图和惯性导航等传感器数据的深入分析，研发了一系列提升单车智能化的AI感知算法，并应用于多种自动驾驶场景。

   ![img](https://www.hirain.com/repository/image/2415dee5-ca16-454a-9837-4057bd15bd7c.jpg)   ![img](https://www.hirain.com/repository/image/0623c42c-8aab-498e-aeeb-31e1710d7aac.jpg)

 **AI感知算法能力建设**

​    经纬恒润为保证AI感知算法的可靠落地，探索并形成了一套完整的算法研发和迭代过程。从数据采集、标注、清洗，到模型训练、调参优化、剪枝、量化、压缩，再到嵌入式平台部署，在此过程中自研了一整套平台工具和方法流程。

![img](https://www.hirain.com/repository/image/90c79951-3391-4ac6-82cc-9a4567731d5d.jpg)

**激光雷达点云物体检测与语义分割**

​    在自动驾驶场景下，激光雷达技术可以快速完成三维空间数据采集，具有分辨率高、抗干扰能力强、获取的信息量丰富、不受光线影响等优点；但是也存在数据无序、稀疏等缺点。

​    经纬恒润AI感知算法通过挖掘深度神经网络在数据表达方面的能力，结合网络设计、参数寻优，完成了多种交通物体和路面环境的识别，具有实时性好、检测准确、鲁棒性好等特点，并完成在嵌入式平台上的部署。

​    该技术目前已经应用在多个园区自动驾驶示范项目中，同时也在智能化港口项目中得到了充分的应用和验证。

![img](https://www.hirain.com/repository/image/01ffc23e-4697-457b-87d9-d6d045930d39.jpg)    

![img](https://www.hirain.com/repository/image/f3dedf32-34f2-4191-bcb4-4869f72cfa9c.jpg)

 

**图像目标检测与语义分割**

​    经纬恒润针对不同自动驾驶场景的交通状况，对行人、车辆、地面标识和交通信号灯等进行了深入的研发，根据视觉传感器对于颜色维度有较多特征信息的特点，在前沿技术的基础上，进一步提升了各种交通场景中检测和语义分割的性能。

​    从可量产的角度选取合适的深度学习模型以及车载嵌入式运算设备，通过采集、分析以及标注大量的数据，实现了模型的训练和部署；并从实际的应用场景出发进行检测结果分析、模型调整、性能提升，最终完成技术在多个自动驾驶示范项目的落地应用。

   ![img](https://www.hirain.com/repository/image/070c47e1-dc2a-4506-a3e6-749c32d9e097.jpg)  ![img](https://www.hirain.com/repository/image/e42d94da-b80a-4f85-8e57-b060ed819a2d.jpg)  ![img](https://www.hirain.com/repository/image/c0e6931c-06d9-4e45-a675-9ac5dbf57f78.jpg)

**高精定位系统**

​    经纬恒润基于AI感知算法识别的路标物，包括交通标志、车道线和道路边界等，通过融合视觉、惯性测量单元和里程计等不同传感器的输入信号，在高精度地图与高精度GPS的配合下为自动驾驶系统提供精确可靠的定位信息。

![img](https://www.hirain.com/repository/image/e42d94da-b80a-4f85-8e57-b060ed819a2d.jpg)

#### 1.1.4 智能驾驶和智能网联相关汽车电子产品

**概述**

​    经纬恒润智能驾驶解决方案采用车规级域控制器作为智能驾驶核心大脑，以自主研发的车规级传感器作为环境感知方案，以成熟的线控车辆作为基础平台，期望为客户提供成熟、安全、可靠的智能驾驶运维系统。其中，智能驾驶域控制器、智能摄像头、毫米波雷达、智能网关控制器、Tbox、高精地图及定位系统等均为经纬恒润自主研发的配套产品。

![img](https://www.hirain.com/repository/image/4c094249-dd84-46d6-8558-5e7450255aee.jpg)

 

[**智能驾驶域控制器**](http://1907315010.pool6-site.make.yun300.cn/product/471.html)
    智能驾驶域控制器是北京经纬恒润科技股份有限公司设计研发的集成式高性能计算单元，该产品针对自动驾驶需求设计，为用户打造专业化、可量产的车规级自动驾驶计算中心。在该硬件平台基础上，可以为客户提供自主研发的自动驾驶功能，或对第三方研发功能的集成服务，为用户量身定制高效灵活的系统级自动驾驶解决方案。（[点击了解产品更多详情](http://1907315010.pool6-site.make.yun300.cn/product/471.html)）

![img](https://www.hirain.com/repository/image/b049b4b3-617e-4a75-b0b2-a6852d24601d.jpg)

[**智能摄像头**](http://1907315010.pool6-site.make.yun300.cn/product/470.html)
    经纬恒润前视主动安全摄像头(Forward Active Safety Camera，FAS-Cam)是北京经纬恒润科技股份有限公司整合 Mobileye、Infineon、Elektrobit 等公司优势资源，设计研发的高性价比、多功能一体、高度集成式驾驶辅助产品。面向 L2 级以下(包含 L2 级)的驾驶辅助功能(SAE J3016)需求，经纬恒润可以基于该产品集成自主研发的 ADAS 功能，为车辆提供量产 ADAS 产品解决方案。（[点击了解产品更多详情](http://1907315010.pool6-site.make.yun300.cn/product/470.html)）

​                                                                ![img](https://www.hirain.com/repository/image/4b7ed690-d49c-43a3-952f-417d16e69271.jpg)   

 

[**毫米波雷达**](http://1907315010.pool6-site.make.yun300.cn/product/477.html)
    经纬恒润研发的毫米波雷达产品包括前视中距毫米波雷达（MRR）、侧视近距毫米波雷达（SRR）和车内人员检测毫米波雷达（VODR）， 各自在车身上的安装位置及视野范围如图 1 所示，对应的外观及尺寸如图 2、图 3 所示：（[点击了解产品更多详情](http://1907315010.pool6-site.make.yun300.cn/product/477.html)）

- MRR 安装于车身正前方，能够对目标区域内的障碍物进行检测与参数测量、跟踪以及目标类型识别，可用于支撑 L2 及 L2 以上级别自动驾驶系统的 FCW、AEB、ACC 等功能。
- SRR 安装于车身四角，能够对目标区域内的障碍物进行检测与参数测量、跟踪以及目标类型识别，主要用于支撑 L2 及 L2 以上级别自动驾驶系统的 LCA、CTA 等功能。
- VODR 安装于车内 B 柱顶端或后视镜下方，目的在于当驾驶人员离开并锁车后，能够对车内环境进行自动检测，若检测 出车内人员有遗留可以通过声光报警或远程报警等方式及时发出警告以提示车主，以防将儿童遗留在车内而造成惨剧。

![img](https://www.hirain.com/repository/image/81b27e98-9a26-4b83-8c32-fe8efbc07f06.jpg)

[**智能网关控制器**](http://1907315010.pool6-site.make.yun300.cn/product/495.html)
    智能网关控制器是整车电子电气架构中的核心部件，其作为整车网络的数据交互枢纽，可将 CAN、LIN、MOST、FlexRay、Ethernet等网络数据在不同网络中进行路由。此外，由于独立网关控制器的存在，整车电子电气架构的设计可以更加优化，整车厂可以通过它来提高整车拓扑结构的可扩展性、整车的安全性、以及整车网络数据的保密性。因此，网关控制器已经日益成为整车电子电气架构中不可缺少的重要部件。（[点击了解产品更多详情](http://1907315010.pool6-site.make.yun300.cn/product/495.html)）
![img](https://www.hirain.com/repository/image/f7f706b2-e19d-47e9-8cc2-d17cff193a01.jpg)

[**TBOX**](http://1907315010.pool6-site.make.yun300.cn/product/495.html)
    经纬恒润扎根车联网，车载 4G-TBOX 系列产品是其核心主流车联网产品。T-BOX 作为无线网关，为整车提供数据采集、故障监控、远程控制(开闭锁、空调控制、发动机启动)、远程定位、热点共享、语音、数字钥匙、OTA 等服务。（[点击了解产品更多详情](http://1907315010.pool6-site.make.yun300.cn/product/493.html)

[**高精地图及定位系统**](http://1907315010.pool6-site.make.yun300.cn/product/487.html)
    高精地图及定位系统主要实现以下功能：实现道路级定位，能够准确识别车辆是否在高速公路和城市快速路上，支持自动驾驶功能；能够准确持续提供道路信息；同时该系统具备DOTA和FOTA功能。（[点击了解产品更多详情](http://1907315010.pool6-site.make.yun300.cn/product/487.html)![img](https://www.hirain.com/repository/image/b7f836b2-0b25-4e01-bc6c-4af8c17b7210.png)

#### 1.1.5 定制开发的智能车辆

**概述**
    经纬恒润紧跟智能驾驶行业发展趋势，聚焦智能化和网联化技术变革，积极创新。通过整合公司内部智能驾驶技术与产品，经纬恒润致力于为客户提供涵盖线控车辆改制、环境感知、智能决策、路径规划、车辆控制、远程驾驶等智能驾驶运维系统解决方案。

 

![img](https://www.hirain.com/repository/image/f41c6d86-5681-4002-aa15-9b82607fea93.jpg)

图1 智能驾驶系统架构

**方案介绍**
    经纬恒润在智能驾驶领域有着丰富的项目经验，并形成了一套成熟的智能驾驶车辆定制化开发方案。其中，典型的感知系统方案如图2和图3所示。

 

![img](https://www.hirain.com/repository/image/c1117c18-c65e-4c95-ad99-4057ecdc5653.png)

图2 内集卡感知方案

 

![img](https://www.hirain.com/repository/image/ff8a9e99-bbce-485b-98d6-6ba59112a2f3.png)

图3 HAV感知方案

​    公司智能驾驶解决方案采用车规级域控制器作为智能驾驶核心大脑，以自主研发的车规级传感器作为环境感知方案，以成熟的线控车辆作为基础平台，期望为客户提供成熟、安全、可靠的智能驾驶运维系统。其中，智能驾驶域控制器、智能摄像头、毫米波雷达、智能网关控制器、Tbox、高精地图及定位系统等均为经纬恒润自主研发的配套产品。
​    此外，针对线控车辆，经纬恒润结合多年汽车电子开发经验和智能驾驶系统研发经验，对制动系统、转向系统、驱动系统、传动系统、驻车系统、灯光、雨刮、喇叭等控制策略和接口协议均等均有明确要求，线控车辆需要支持全速度区间的控制。线控车辆典型的网络架构如图4所示。

![img](https://www.hirain.com/repository/image/f5900ed8-40cb-4451-87bd-253e44923d1d.jpg)

图4 线控车辆网络架构

**应用案例**

![img](https://www.hirain.com/repository/image/6ea9cabd-61e7-430b-b4d8-07f31f446e93.jpg)

- 港口运维业务案例 

 2018年，经纬恒润与客户共同研制的港口智能内集卡在青岛港成功发布。

 2019年，智能内集卡在京唐港成功完成了长时间连续作业，并加入生产运营系统。

 2020年，经纬恒润与客户在京唐港散货码头开展无人驾驶AGV示范运行测试。

 2020年，智能内集卡商业化项目在日照港落地，目前15辆智能内集卡已在港口规模化运行。

- 低速园区业务案例

 2018年，经纬恒润与客户共同打造园区智能接驳车并进行示范运行。

 2019年，经纬恒润与客户推出面向结构化道路固定场景的智能驾驶清扫车，并在上海临港智能驾驶示范区取得智能驾驶测试牌照，完成智能驾驶实车演示。

- 单车智能驾驶业务案例

 2017年，基于超声波雷达和全景影像实现自动泊入和泊出功能。

 2018年，基于智能摄像头、毫米波雷达等传感器，实现了乘用车高速公路场景全速自适应巡航+车道保持+指令换道等功能。

 2018年，基于重型牵引车，开发了高速公路场景自适应巡航+车道保持功能。

**技术特点与优势**

![img](https://www.hirain.com/repository/image/96587f9b-2f34-45f1-93c5-9aad3ed05e48.jpg)

- 经纬恒润目前已量产的智能驾驶相关产品包含自动驾驶域控制器、多功能智能摄像头、毫米波雷达、高精地图模块、高精定位系统、以太网智能网关、Tbox等。
- 经纬恒润致力于为客户提供涵盖线控车辆改制、环境感知、决策规划、控制执行、系统集成、远程驾驶等智能驾驶运维系统解决方案。
- 智能驾驶相关核心算法（感知融合、定位融合、智能决策、路径规划、车辆控制等）为经纬恒润多年自主研发，计算平台为车规级域控制器。
- 经纬恒润在深度学习领域能够进行定制化开发，结合实际运维场景进行适应性开发。

### 1.2 V2X车路协同系统方案

经纬恒润的车路协同系统方案充分考虑高级别智能驾驶车辆的超视距感知需求和运营场景特性，提供路口全息感知、交通流自动控制、路与车信息互联等功能，充分实现人车路云的有效协同，形成安全和高效的道路交通系统。

#### 1.2.1 V2X车路协同系统方案

**概述**
    V2X车路协同是采用先进的无线通信和新一代互联网等技术，全方位实施车车（V2V）、车路（V2I）、车人（V2P）、车云（V2N）动态实时信息交互，并在动态交通信息采集与融合的基础上开展车辆主动安全控制和道路协同管理，充分实现人车路云的有效协同，保证交通安全，提高通行效率，从而形成的安全、高效和环保的道路交通系统。
    在V2X技术中，路侧设备是道路信息的主要提供者，主要包括感知与通信两大功能。路侧设备通过激光雷达、交通雷达、摄像头等传感器，识别其监视范围内的车辆、行人等障碍物，并将障碍物信息通过路侧单元(RSU)广播给来往车辆，在交通情况复杂的地区，如路口、弯曲山路等，通过路侧设备提供的信息，可以有效增强车辆的感知范围，降低交通事故的发生概率。

![img](https://www.hirain.com/repository/image/a2edeb43-b011-42a5-838f-67ad5615fb64.jpg)

**路侧智能感知与通信系统**
    路侧智能感知系统是车路协同的重要组成部分，需具备多传感器数据采集处理能力。通过对传统基础设施的智能化升级，经纬恒润可提供感知、计算、车路云通信、存储一体化解决方案，形成可用于规模化测试验证的多级部署方案和协同调度机制。

- 智能感知系统

​    路侧感知系统通过路侧架设的视觉摄像头、毫米波雷达和激光雷达将采集到的图像、点云等传感器数据实时地发送给路侧的边缘计算单元MEC，MEC将传感器的原始数据进行滤波、时间戳对齐、融合，并根据内部模型推理得到路口交通参与者的目标信息，包括位置、速度和方向等，形成局部感知。
​    经纬恒润可提供一体化智能感知系统，能够同时集成摄像头、激光雷达、毫米波雷达三种传感器，具有结构紧凑、空间占用低、标定方便等优点。一体化智能感知系统可内置嵌入式边缘计算单元，处理一般的交通雷达和摄像头数据，可以使用标准嵌入式单元，处理激光雷达数据，可以使用高配嵌入式单元。同时，一体化智能感知系统可选配传感器清洗装置，通过高压气体对激光雷达和摄像头表面进行清洁，降低后期维护成本。

![img](https://www.hirain.com/repository/image/e659f69d-1995-429e-b9f7-a703d6f6c1fe.jpg)

 **C-V2X通信系统**

- 路侧单元RSU

​    路侧单元RSU负责将信息服务、交通安全、交通效率和自动驾驶相关信息分发至云端以及车端，实现人车路云之间的全方位连接和高效信息交互。
​    经纬恒润RSU产品功能特点：

 温度范围 -40~85℃，被动散热
 防护等级IP67，防水，防尘，防盐雾
 通信功能 4G/5G、C-V2X、WLAN、GPS
 安全功能 支持安全芯片和Trustzone技术、支持安全启动及烧写功能、支持防火墙等网络安全技术
 V2X协议栈 自研V2X协议栈

- 车载单元OBU

​    车载单元OBU可通过Uu及PC5通信方式与车端、路端及云端进行交互，通过获取到的道路信息、交通信息、事件信息、车辆信息等实现V2X各应用场景，同时为辅助驾驶和自动驾驶提供服务。
 

![img](https://www.hirain.com/repository/image/25ebf70b-5969-45be-8654-fbd64bd48e7d.png)

 

![img](https://www.hirain.com/repository/image/e8b5ac71-fbda-4a83-8763-1c86c4b999e5.png)

**小结**
    V2X车路协同系统基于感知系统提供的实时、多维、连续环境信息，依托边缘计算单元MEC提供的计算能力，对数据进行采集、预处理、融合、识别等一系列工作，结合路网交通状态、异常事件、车辆信息等，得到信息服务、交通安全、交通效率和自动驾驶相关信息，通过路侧单元RSU进行分发，最终实现提升交通安全水平与道路通行效率的目的。

### 1.3 车-云数据中心解决方案

经纬恒润的车-云数据中心解决方案包括工程大数据平台、数字孪生系统和OTA软件升级管理系统，利用车联网和大数据技术，实现自动驾驶车辆的场景仿真测试、远程故障诊断、异常工况分析、算法优化和软件更新，实现基于数据驱动的快速产品迭代。

#### 1.3.1 数字孪生系统

**概述**
    数字孪生技术是以数字化方式创建的虚拟对象为基础，借助历史数据、实时数据以及算法模型等，描述、模拟、验证、预测、控制物理实体全生命周期过程的技术手段。恒润的数字孪生系统是基于智能驾驶仿真、港口无人车队运营、港口数据平台，开发的一套数字化港口解决方案。恒润可以提供基于港口或其他物流场景的数字孪生解决方案。

**方案介绍**
    数字孪生系统主要由对象孪生系统、三维视景系统和健康管理系统这三个主要部分构成。

- 对象孪生系统：

​    对象孪生系统是一个全要素、全链路、数据模型结合的仿真系统。完整的虚拟港口，包括港口订单系统，港口负责统筹调度的TOS系统，负责车队调度的车控后台系统，以及孪生实体。孪生实体包括无人集卡、货轮、港机和集装箱。其中，无人集卡包含车辆动力学模型以及智能驾驶算法。虚拟港口可以进行完整闭环仿真——从港口订单，到TOS指令下发，再经过无人集卡车队、港机系统和船舶系统的密切协作，最终实现集装箱集散。
​    整个闭环链路的各环节，都可以作为被测试对象，在孪生系统中的虚拟港口中进行开发验证，比如TOS系统、车队后台调度算法、智能驾驶算法。

![img](https://www.hirain.com/repository/image/a04bc752-0438-4fa1-995e-be69ed7b7b3d.jpg)

- 三维视景系统：

​    三维视景系统是基于图形渲染引擎在工作站上实现的动画演示方案。具体到港口环境，主要内容包括opendrive高精地图道路及附属物解析、可视化，背景环境生成，三维元素建模和三维元素位置标定。
​    使用三维视景系统，可以实现虚拟港口运行动画呈现，港口运营历史数据动画回放，以及港口实时动画展示等功能。

![img](https://www.hirain.com/repository/image/b9ba6d28-7f43-40d0-bb6d-d03e79c59c69.jpg)

- 健康管理系统： 

​    健康管理系统是自动化港口运营过程中，处理异常情况的智能化解决方案。对象孪生系统中的关键环节，如无人集卡，基于物理模型和历史数据，建立了数字孪生体。在港口运营过程中，健康管理系统可以从云平台数据系统实时接收车端上传的车辆运行数据，与此同时，还能接收到无人集卡数字孪生孪生体的实时仿真结果。基于实时运营数据和实时孪生仿真数据，健康管理系统可对运营状态进行诊断、预测和决策。
**系统特点**

- 港口各环节都可在仿真平台进行完整闭环开发验证，场景覆盖度高
- 不同精度的模块化仿真模型，根据仿真需求进行总体配置
- 可支持不同开发阶段的XIL仿真
- 基于港口环境的三维模型库
- 可定制的三维视景呈现方案
- 数字孪生解决方案不仅限于港口环境，可以扩展到矿区、园区等其他物流场景

**应用案例**
    数字孪生系统已应用于港口，支持了智能驾驶算法、车队调度算法、TOS系统的开发验证。在场地验证前，先进行仿真验证，可以提前发现问题，并快速迭代，提高开发效率。三维视景系统的回放功能给历史数据分析人员提供直观可见的动画视频，港口实时动画功能提供额外的监控视角，辅助港口的运营工作。

#### 1.3.2 OTA软件升级管理系统

**概述**
    OTA(Over-the-Air Technology，空中下载技术)是通过空中下载的方式对车辆中的软件进行远程升级。恒润OTA软件升级管理系统基于软件架构、应用架构、业务架构和技术架构，为整车提供云-管-端完整OTA解决方案，高效而可靠的完成系统更新、软件升级、功能迭代和安全漏洞修复等功能。同时支持固件升级（FOTA）以及应用升级（SOTA），基于先进的差分算法和流式升级方式，大量减少升级流量和升级时间消耗，节约成本的同时满足底盘域、车身域、动力域、辅助驾驶域和信息娱乐域等各类升级场景需求。

**技术优势**

- 优势特点

 自主可靠，掌控多种核心算法
 安全可靠，完备的升级回滚机制，多重安全加密机制，远程实时故障诊断
 架构灵活，支持多种升级方式，支持多种通信机制，云端可进行弹性扩展
 本土化服务，灵活定制，响应及时

![img](https://www.hirain.com/repository/image/f1fc4338-5305-450a-a43c-53173e79a0e0.png)

**车端系统**

- 架构特点

 模块化设计，可灵活适配不同项目需求
 车端软件与操作系统或硬件架构松耦合，易于适配新车型
 架构可灵活适配各种高中低端ECU（Can/CanFD、Ethernet、Lin）
 支持多种通信协议（REST、MQTT、OMA、私有协议）
 支持多种升级方式（DoCan、DoIP、SomeIP、TCP私有协议）

- 功能特点

 升级时间短、内存开销小、不使用动态内存分配
 支持全量包和差分包的下载，可管理全部版本、差异及其依赖关系
 可进行流式处理、分块处理
 支持多种升级手段（云、USB、手机、诊断仪等），支持多ECU并行升级
 通过规则库实现升级前和升级后的条件管理
 可与ECU的软件工具栈集成（看门狗、持久化、诊断、IPC等）
 支持全量升级和差分升级方式，支持A/B升级、原位升级、流式升级、增量升级
 差分块大小可配置，支持In-place差分还原、A/B差分还原

![img](https://www.hirain.com/repository/image/bd0ccf28-aaae-45fe-9182-0cce75a57f9a.jpg)

**云端系统**

- 架构特点

 基于SpringBoot和Kubernetes的微服务架构，做到高内聚、松耦合
 支持多种通信协议（REST、MQTT、OMA、私有协议）
 应用分布式文件系统
 基于Angular和Vue框架的前端组件化显示
 采用基于Docker的容器虚拟化技术
 支持基于docker-compose的单实例部署方式
 支持基于Kubernetes的集群化部署方式，扩展灵活
 平台系统高可用、高性能、可扩展、可监控

![img](https://www.hirain.com/repository/image/bd0ccf28-aaae-45fe-9182-0cce75a57f9a.jpg)

- 功能特点

 独立的差分系统和差分工具，满足不同等级的差分升级需求
 差分系统支持多种压缩算法，支持所有二进制格式，支持大文件差分
 提供完整的车辆基础数据管理，硬件、软件、软件版本管理
 支持对升级镜像文件的签名，支持升级包的加密与签名
 与OEM和其他第三方系统通过加密的REST API进行集成
 灵活的升级活动编排管理，支持多ECU同时升级，支持升级报告、事件及统计显示，支持关键事件导出功能
 支持手动和升级成功率阈值控制自动方式实现升级任务的暂停与恢复
 软件版本和升级活动应用审批流程管理
 支持升级任务的暂停与恢复

![img](https://www.hirain.com/repository/image/5a3a96e7-b05b-4544-a751-7984826660e6.jpg)

**通信与信息安全**

- 功能特点

 基于HTTPS的双向认证安全通信
 支持车辆接入认证、车云通信协议认证
 升级数据包加密传输
 集成对称和非对称加密算法
 应用秘钥管理系统，支持数字签名与验证
 支持软件镜像文件的签名与验签，支持升级包的加密传输与签名验证

**小结**
    随着智能传感器技术、5G技术、人工智能技术、大数据等技术的迅猛发展，在软件定义汽车的时代背景下，OTA的作用越来越大，目前，经纬恒润与国内整车厂签订合作协议，共同进行OTA软件升级管理系统的开发与应用，恒润OTA系统也已落地智能化港口和无人矿区建设中。今后恒润开发团队也会进一步实现OTA+智能诊断的一体化解决方案。