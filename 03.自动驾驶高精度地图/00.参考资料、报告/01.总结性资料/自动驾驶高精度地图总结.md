- [自动驾驶高精度地图总结 | 南浔遇雨 (iamwxy.com)](http://www.iamwxy.com/高精度地图整理.html)

一个场景里的大部分静态信息，道路拓扑结构，以及包括信号灯、标识牌、标志线在内的主要环境信号都可由地图提供。如果没有地图，导航级别的任务先不谈，以上谈及的具体信息识别就是个问题。

在我个人看来，想实现L4及以上级别的自动驾驶，高精度地图是不可或缺的。我甚至认为它不是提供安全冗余的打辅助的角色。而是那个the key core。

基于此，我想对自己所了解的高精度地图知识进行一个总结。

##### 背景

自动驾驶的终极话题是安全，因而冗余性和鲁棒性无论何时都需要考虑。传统提高鲁棒性的技术手段有多传感器融合，典型的如相机、激光雷达、毫米波雷达的融合。这种融合技术比较偏向动态的感知，而高精度地图对鲁棒性的贡献主要在静态感知层面，它能解决很多单靠传感器和规划技术不能解决的问题。在我个人看来，想实现L4及以上级别的自动驾驶，高精度地图是不可或缺的。

##### 概念

高精地图是用于自动驾驶的专题地图，包含更多图层和道路数据且有不同的分类方法，方法之一将地图划分为矢量的语义信息层和栅格图这样的特征图层。前者主要是包括**车道模型、道路部件（Object）、道路属性**三类语义矢量信息，后者主要是用于多传感器定位的**特征（feature）图层**。

- 车道模型
  一般包括车道线、车道线曲率、坡度、车道中心线、车道连接、车道属性变化、车道分组。
- 道路属性
  包括车道数、失锁区域、道路施工状态等
- 道路部件
  包括符号、收费站、交通灯、交通标志、斑马线、停止线、隧道、路缘石、防护栏、障碍物、龙门架、桥梁、交通区域、杆等
- 特征图层
  一般也是传感器图层。有激光定位图层。

方法二主要分为道路网，车道网，安全辅助数据和道路交通数据。其组成如图

[![img](http://www.iamwxy.com/%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E6%95%B4%E7%90%86/hdp.jpg)](http://www.iamwxy.com/高精度地图整理/hdp.jpg)

- 道路网
  道路网主要是由道路基准线网络构成，用于描述道路的几何形态、表达与道路设施间的关系。高精度道路导航地图道路网示意图，它包括道路基准线、道路基准线连接点和路口等图层。
- 车道网
  车道网记录路网中每个独立车道的相关属性，用于车道级的道路显示、定位、路径规划和驾驶策略辅助。它包括车道级道路、车道级道路连接点、车道级道路形状点等图层。
- 安全辅助数据和道路交通设施数据
  其是对车道安全数据和车道上的其他交通设施进行描述，用于辅助车道级定位和显示，例如曲率、航向、纵横坡度等。道路交通设施数据则包括交通标识、路侧设施和固定地物等信息。

##### 功能

有一些人类能轻而易举完成的驾驶任务对自动驾驶却有很大的挑战，一些挑战必须在高精度地图的帮助下才能完成任务。如

- 判断可行驶区域。如在大广场和在典型道路区域内可行驶区域是不同的，单靠激光雷达和摄像头只能在物理层面上确定可行驶区域。
- 判断行驶方向。有的道路没有车道线，还有的城市潮汐车道。
- 判断目标类型。实际十字路口前有无人行横道对规划的影响比较大。
- 判断自身位置。判断自己身处于哪儿是自动驾驶的前提，高精度地图地位可以作为一种定位的冗余手段。
- 判断前车相对位置（其他交通参与者的状态）。如路边行人下一步究竟可能会有什么操作？高速公路上一百米外是否有车与自己处于同一车道？
- 判断红绿灯状态。单纯用视觉红绿灯容易和车灯尾灯混淆，但这用高精度地图确是一个比较容易解决的问题。
- 探知前方坡度、曲率、横坡。这些都是摄像头很难处理的问题，比如上坡下坡在摄像头中可能是曲线。
- 获得超视距的感知能力。在使用高精度地图后，能知道前方几百米内出现的对象。

##### 建立方法与标准与计算模式

高精度地图的建立方法主要有：

- 通过配备 GPS-RTK 的采集车沿特定线路采集数据
- 使用激光雷达与广角摄像头结合的方法提取道路信息
- 通过GPS+INS紧耦合进行定位，从正射影像图中获取相关地图信息

标准：

- 国际关于地图标准的工作组是**ISO TC204/WG3**，欧洲有两个地图数据物理存储格式规范组织——**NDS**与OpenDrive，中国的BAT、日本大部分车厂都已加入了NDS组织。
- **ADASIS**是欧洲另一个标准组织，针对的是地图与车载应用之间的接口，其于2015年12月与NDS联合成立了**OADF Forum**，对接国际ISO和日本SIP-ADUS。
- **SIP-adus**是日本国内战略性创新创造项目，日本各整车企业、零部件公司、地图厂商联合起来，成立了动态地图公司**DMP**。
- 中国自动驾驶地图工作组（**CAICV HD MAP WG**），刚刚于5月23日得到批准，与NDS（欧洲）和DMP（日本）开展平等合作，并形成数据转换机制。

计算模式：
由于高精度地图数据量较大，传统的云计算已经不满足要求，当前的主要计算模式是**众包和边缘计算**。

- 众包
  指高精度道路导航地图的用图者同时也可以是绘图者。通过众包的方式，将数据采集设备装在使用高精度道路导航地图的车辆上，其在行驶时边用图边采集数据，并且将获取到的数据上传，例子如美国的Mapper公司。
- 边缘计算
  后者指在网络边缘执行计算的一种计算模型，边缘计算中边缘的下行数据表示云服务，上行数据表示高精度道路导航地图服务，而边缘计算的边缘是指从数据源到云计算中心路径之间的任意计算和网络资源

##### 应用

- 自动驾驶仿真（VTD仿真软件）
- 与导航地图关联，进行车辆轨迹引导。人先说目的地，导航地图计算出一条路径传给自动驾驶系统，后者依据高精度地图算出几条可能的车道级路径，在根据优先级随机选择跟随其中一条。
- 帮助实现定位。
  - 通过激光雷达或摄像头，演出测量物体的距离和大小，系统通过三角关系算出车的位置。
  - 利用道路指纹（地面明显特征，箭头、虚线、污渍等）
  - 基于RTK的绝对定位。
  - 把高精度地图放在云端做匹配

##### 商业

- Google高精度地图使用的传感器是多线激光雷达和摄像头，用的数据是车道模型+Object模型。
- HERE高精度地图是**NDS成员**，传感器是多线激光雷达和摄像头，用的数据是车道模型+Object模型。
- 高德、四维图新、百度、Tomtom、光庭也是**NDS成员**，它们做的图相似。

##### 挑战

- 高精度地图涉及标准众多，如下图。各单位所用标准不统一。[![img](http://www.iamwxy.com/%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E6%95%B4%E7%90%86/standard.jpg)](http://www.iamwxy.com/高精度地图整理/standard.jpg)
- 我国处于隐私与安全的考虑，对公共地图信息采集与绘制有诸多规定，需要找到合适的平衡点。
- 传统导航地图有电子地图版本审查和加偏移措施等加密手段，这与高精度道路导航地图之间存在矛盾。
- 需要及时进行数据更新，采用原始数据采集手段会有过多冗余数据和过高成本，因而必须发展众包。
- 车用高精度基础地图数据的模型、结构、接口、标准、规范以及动态地图数据共享体系、机制、方法、协议、接口需要研究